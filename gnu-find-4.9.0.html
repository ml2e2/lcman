<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This manual documents version 4.9.0 of the GNU utilities for finding
files that match certain criteria and performing various operations on them.

Copyright (C) 1994-2022 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
A copy of the license is included in the section entitled
"GNU Free Documentation License". -->
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>GNU Findutils 4.9.0</title>

<meta name="description" content="GNU Findutils 4.9.0">
<meta name="keywords" content="GNU Findutils 4.9.0">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="#Top" rel="start" title="Top">
<link href="#Primary-Index" rel="index" title="Primary Index">
<link href="#SEC_Contents" rel="contents" title="Table of Contents">
<link href="/manual" rel="up" title="(dir)">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="https://www.gnu.org/software/gnulib/manual.css">


</head>

<body lang="en">
<h1 class="settitle" align="center">GNU Findutils 4.9.0</h1>







<span id="SEC_Contents"></span>
<h2 class="contents-heading">Table of Contents</h2>

<div class="contents">

<ul class="no-bullet">
  <li><a id="toc-Introduction-1" href="#Introduction">1 Introduction</a>
  <ul class="no-bullet">
    <li><a id="toc-Scope-1" href="#Scope">1.1 Scope</a></li>
    <li><a id="toc-Overview-1" href="#Overview">1.2 Overview</a></li>
  </ul></li>
  <li><a id="toc-Finding-Files-1" href="#Finding-Files">2 Finding Files</a>
  <ul class="no-bullet">
    <li><a id="toc-find-Expressions-1" href="#find-Expressions">2.1 <code>find</code> Expressions</a></li>
    <li><a id="toc-Starting-points-1" href="#Starting-points">2.2 Starting points</a></li>
    <li><a id="toc-Name-1" href="#Name">2.3 Name</a>
    <ul class="no-bullet">
      <li><a id="toc-Base-Name-Patterns-1" href="#Base-Name-Patterns">2.3.1 Base Name Patterns</a></li>
      <li><a id="toc-Full-Name-Patterns-1" href="#Full-Name-Patterns">2.3.2 Full Name Patterns</a></li>
      <li><a id="toc-Fast-Full-Name-Search-1" href="#Fast-Full-Name-Search">2.3.3 Fast Full Name Search</a></li>
      <li><a id="toc-Shell-Pattern-Matching-1" href="#Shell-Pattern-Matching">2.3.4 Shell Pattern Matching</a></li>
    </ul></li>
    <li><a id="toc-Links-1" href="#Links">2.4 Links</a>
    <ul class="no-bullet">
      <li><a id="toc-Symbolic-Links-1" href="#Symbolic-Links">2.4.1 Symbolic Links</a></li>
      <li><a id="toc-Hard-Links-1" href="#Hard-Links">2.4.2 Hard Links</a></li>
    </ul></li>
    <li><a id="toc-Time-1" href="#Time">2.5 Time</a>
    <ul class="no-bullet">
      <li><a id="toc-Age-Ranges-1" href="#Age-Ranges">2.5.1 Age Ranges</a></li>
      <li><a id="toc-Comparing-Timestamps-1" href="#Comparing-Timestamps">2.5.2 Comparing Timestamps</a></li>
    </ul></li>
    <li><a id="toc-Size-1" href="#Size">2.6 Size</a></li>
    <li><a id="toc-Type-1" href="#Type">2.7 Type</a></li>
    <li><a id="toc-Owner-1" href="#Owner">2.8 Owner</a></li>
    <li><a id="toc-File-Mode-Bits" href="#Mode-Bits">2.9 File Mode Bits</a></li>
    <li><a id="toc-Contents-1" href="#Contents">2.10 Contents</a></li>
    <li><a id="toc-Directories-1" href="#Directories">2.11 Directories</a></li>
    <li><a id="toc-Filesystems-1" href="#Filesystems">2.12 Filesystems</a></li>
    <li><a id="toc-Combining-Primaries-With-Operators-1" href="#Combining-Primaries-With-Operators">2.13 Combining Primaries With Operators</a></li>
  </ul></li>
  <li><a id="toc-Actions-1" href="#Actions">3 Actions</a>
  <ul class="no-bullet">
    <li><a id="toc-Print-File-Name-1" href="#Print-File-Name">3.1 Print File Name</a></li>
    <li><a id="toc-Print-File-Information-1" href="#Print-File-Information">3.2 Print File Information</a>
    <ul class="no-bullet">
      <li><a id="toc-Escapes-1" href="#Escapes">3.2.1 Escapes</a></li>
      <li><a id="toc-Format-Directives-1" href="#Format-Directives">3.2.2 Format Directives</a>
      <ul class="no-bullet">
        <li><a id="toc-Name-Directives-1" href="#Name-Directives">3.2.2.1 Name Directives</a></li>
        <li><a id="toc-Ownership-Directives-1" href="#Ownership-Directives">3.2.2.2 Ownership Directives</a></li>
        <li><a id="toc-Size-Directives-1" href="#Size-Directives">3.2.2.3 Size Directives</a></li>
        <li><a id="toc-Location-Directives-1" href="#Location-Directives">3.2.2.4 Location Directives</a></li>
        <li><a id="toc-Time-Directives-1" href="#Time-Directives">3.2.2.5 Time Directives</a></li>
        <li><a id="toc-Other-Directives-1" href="#Other-Directives">3.2.2.6 Other Directives</a></li>
        <li><a id="toc-Reserved-and-Unknown-Directives-1" href="#Reserved-and-Unknown-Directives">3.2.2.7 Reserved and Unknown Directives</a></li>
      </ul></li>
      <li><a id="toc-Time-Formats-1" href="#Time-Formats">3.2.3 Time Formats</a>
      <ul class="no-bullet">
        <li><a id="toc-Time-Components-1" href="#Time-Components">3.2.3.1 Time Components</a></li>
        <li><a id="toc-Date-Components-1" href="#Date-Components">3.2.3.2 Date Components</a></li>
        <li><a id="toc-Combined-Time-Formats-1" href="#Combined-Time-Formats">3.2.3.3 Combined Time Formats</a></li>
      </ul></li>
      <li><a id="toc-Formatting-Flags-1" href="#Formatting-Flags">3.2.4 Formatting Flags</a></li>
    </ul></li>
    <li><a id="toc-Run-Commands-1" href="#Run-Commands">3.3 Run Commands</a>
    <ul class="no-bullet">
      <li><a id="toc-Single-File-1" href="#Single-File">3.3.1 Single File</a></li>
      <li><a id="toc-Multiple-Files-1" href="#Multiple-Files">3.3.2 Multiple Files</a>
      <ul class="no-bullet">
        <li><a id="toc-Unsafe-File-Name-Handling-1" href="#Unsafe-File-Name-Handling">3.3.2.1 Unsafe File Name Handling</a></li>
        <li><a id="toc-Safe-File-Name-Handling-1" href="#Safe-File-Name-Handling">3.3.2.2 Safe File Name Handling</a></li>
        <li><a id="toc-Unusual-Characters-in-File-Names-1" href="#Unusual-Characters-in-File-Names">3.3.2.3 Unusual Characters in File Names</a></li>
        <li><a id="toc-Limiting-Command-Size-1" href="#Limiting-Command-Size">3.3.2.4 Limiting Command Size</a></li>
        <li><a id="toc-Controlling-Parallelism-1" href="#Controlling-Parallelism">3.3.2.5 Controlling Parallelism</a></li>
        <li><a id="toc-Interspersing-File-Names-1" href="#Interspersing-File-Names">3.3.2.6 Interspersing File Names</a></li>
      </ul></li>
      <li><a id="toc-Querying-1" href="#Querying">3.3.3 Querying</a></li>
    </ul></li>
    <li><a id="toc-Delete-Files-1" href="#Delete-Files">3.4 Delete Files</a></li>
    <li><a id="toc-Adding-Tests-1" href="#Adding-Tests">3.5 Adding Tests</a></li>
  </ul></li>
  <li><a id="toc-File-Name-Databases" href="#Databases">4 File Name Databases</a>
  <ul class="no-bullet">
    <li><a id="toc-Database-Locations-1" href="#Database-Locations">4.1 Database Locations</a></li>
    <li><a id="toc-Database-Formats-1" href="#Database-Formats">4.2 Database Formats</a>
    <ul class="no-bullet">
      <li><a id="toc-LOCATE02-Database-Format-1" href="#LOCATE02-Database-Format">4.2.1 LOCATE02 Database Format</a></li>
      <li><a id="toc-Sample-LOCATE02-Database-1" href="#Sample-LOCATE02-Database">4.2.2 Sample LOCATE02 Database</a></li>
      <li><a id="toc-slocate-Database-Format-1" href="#slocate-Database-Format">4.2.3 slocate Database Format</a></li>
      <li><a id="toc-Old-Database-Format-1" href="#Old-Database-Format">4.2.4 Old Database Format</a></li>
    </ul></li>
    <li><a id="toc-Newline-Handling-1" href="#Newline-Handling">4.3 Newline Handling</a></li>
  </ul></li>
  <li><a id="toc-File-Permissions-1" href="#File-Permissions">5 File Permissions</a>
  <ul class="no-bullet">
    <li><a id="toc-Structure-of-File-Permissions" href="#Mode-Structure">5.1 Structure of File Permissions</a></li>
    <li><a id="toc-Symbolic-Modes-1" href="#Symbolic-Modes">5.2 Symbolic Modes</a>
    <ul class="no-bullet">
      <li><a id="toc-Setting-Permissions-1" href="#Setting-Permissions">5.2.1 Setting Permissions</a></li>
      <li><a id="toc-Copying-Existing-Permissions" href="#Copying-Permissions">5.2.2 Copying Existing Permissions</a></li>
      <li><a id="toc-Changing-Special-Permissions-1" href="#Changing-Special-Permissions">5.2.3 Changing Special Permissions</a></li>
      <li><a id="toc-Conditional-Executability-1" href="#Conditional-Executability">5.2.4 Conditional Executability</a></li>
      <li><a id="toc-Making-Multiple-Changes" href="#Multiple-Changes">5.2.5 Making Multiple Changes</a></li>
      <li><a id="toc-The-Umask-and-Protection" href="#Umask-and-Protection">5.2.6 The Umask and Protection</a></li>
    </ul></li>
    <li><a id="toc-Numeric-Modes-1" href="#Numeric-Modes">5.3 Numeric Modes</a></li>
  </ul></li>
  <li><a id="toc-Date-input-formats-1" href="#Date-input-formats">6 Date input formats</a>
  <ul class="no-bullet">
    <li><a id="toc-General-date-syntax-1" href="#General-date-syntax">6.1 General date syntax</a></li>
    <li><a id="toc-Calendar-date-items-1" href="#Calendar-date-items">6.2 Calendar date items</a></li>
    <li><a id="toc-Time-of-day-items-1" href="#Time-of-day-items">6.3 Time of day items</a></li>
    <li><a id="toc-Time-zone-items-1" href="#Time-zone-items">6.4 Time zone items</a></li>
    <li><a id="toc-Combined-date-and-time-of-day-items-1" href="#Combined-date-and-time-of-day-items">6.5 Combined date and time of day items</a></li>
    <li><a id="toc-Day-of-week-items-1" href="#Day-of-week-items">6.6 Day of week items</a></li>
    <li><a id="toc-Relative-items-in-date-strings-1" href="#Relative-items-in-date-strings">6.7 Relative items in date strings</a></li>
    <li><a id="toc-Pure-numbers-in-date-strings-1" href="#Pure-numbers-in-date-strings">6.8 Pure numbers in date strings</a></li>
    <li><a id="toc-Seconds-since-the-Epoch-1" href="#Seconds-since-the-Epoch">6.9 Seconds since the Epoch</a></li>
    <li><a id="toc-Specifying-time-zone-rules-1" href="#Specifying-time-zone-rules">6.10 Specifying time zone rules</a></li>
    <li><a id="toc-Authors-of-parse_005fdatetime-1" href="#Authors-of-parse_005fdatetime">6.11 Authors of <code>parse_datetime</code></a></li>
  </ul></li>
  <li><a id="toc-Configuration-1" href="#Configuration">7 Configuration</a>
  <ul class="no-bullet">
    <li><a id="toc-Leaf-Optimisation-1" href="#Leaf-Optimisation">7.1 Leaf Optimisation</a></li>
    <li><a id="toc-d_005ftype-Optimisation-1" href="#d_005ftype-Optimisation">7.2 d_type Optimisation</a></li>
  </ul></li>
  <li><a id="toc-Reference-1" href="#Reference">8 Reference</a>
  <ul class="no-bullet">
    <li><a id="toc-Invoking-find-1" href="#Invoking-find">8.1 Invoking <code>find</code></a>
    <ul class="no-bullet">
      <li><a id="toc-Filesystem-Traversal-Options-1" href="#Filesystem-Traversal-Options">8.1.1 Filesystem Traversal Options</a></li>
      <li><a id="toc-Warning-Messages-1" href="#Warning-Messages">8.1.2 Warning Messages</a></li>
      <li><a id="toc-Optimisation-Options-1" href="#Optimisation-Options">8.1.3 Optimisation Options</a></li>
      <li><a id="toc-Debug-Options-1" href="#Debug-Options">8.1.4 Debug Options</a></li>
      <li><a id="toc-Find-Expressions-1" href="#Find-Expressions">8.1.5 Find Expressions</a></li>
    </ul></li>
    <li><a id="toc-Invoking-locate-1" href="#Invoking-locate">8.2 Invoking <code>locate</code></a></li>
    <li><a id="toc-Invoking-updatedb-1" href="#Invoking-updatedb">8.3 Invoking <code>updatedb</code></a></li>
    <li><a id="toc-Invoking-xargs-1" href="#Invoking-xargs">8.4 Invoking <code>xargs</code></a>
    <ul class="no-bullet">
      <li><a id="toc-xargs-options-1" href="#xargs-options">8.4.1 xargs options</a></li>
      <li><a id="toc-Conflicting-options" href="#Conflicting-xargs-options">8.4.2 Conflicting options</a></li>
      <li><a id="toc-Invoking-the-shell-from-xargs-1" href="#Invoking-the-shell-from-xargs">8.4.3 Invoking the shell from xargs</a></li>
    </ul></li>
    <li><a id="toc-Regular-Expressions-1" href="#Regular-Expressions">8.5 Regular Expressions</a>
    <ul class="no-bullet">
      <li><a id="toc-findutils_002ddefault-regular-expression-syntax-1" href="#findutils_002ddefault-regular-expression-syntax">8.5.1 &lsquo;<samp>findutils-default</samp>&rsquo; regular expression syntax</a></li>
      <li><a id="toc-emacs-regular-expression-syntax-1" href="#emacs-regular-expression-syntax">8.5.2 &lsquo;<samp>emacs</samp>&rsquo; regular expression syntax</a></li>
      <li><a id="toc-gnu_002dawk-regular-expression-syntax-1" href="#gnu_002dawk-regular-expression-syntax">8.5.3 &lsquo;<samp>gnu-awk</samp>&rsquo; regular expression syntax</a></li>
      <li><a id="toc-grep-regular-expression-syntax-1" href="#grep-regular-expression-syntax">8.5.4 &lsquo;<samp>grep</samp>&rsquo; regular expression syntax</a></li>
      <li><a id="toc-posix_002dawk-regular-expression-syntax-1" href="#posix_002dawk-regular-expression-syntax">8.5.5 &lsquo;<samp>posix-awk</samp>&rsquo; regular expression syntax</a></li>
      <li><a id="toc-awk-regular-expression-syntax-1" href="#awk-regular-expression-syntax">8.5.6 &lsquo;<samp>awk</samp>&rsquo; regular expression syntax</a></li>
      <li><a id="toc-posix_002dbasic-regular-expression-syntax-1" href="#posix_002dbasic-regular-expression-syntax">8.5.7 &lsquo;<samp>posix-basic</samp>&rsquo; regular expression syntax</a></li>
      <li><a id="toc-posix_002degrep-regular-expression-syntax-1" href="#posix_002degrep-regular-expression-syntax">8.5.8 &lsquo;<samp>posix-egrep</samp>&rsquo; regular expression syntax</a></li>
      <li><a id="toc-egrep-regular-expression-syntax-1" href="#egrep-regular-expression-syntax">8.5.9 &lsquo;<samp>egrep</samp>&rsquo; regular expression syntax</a></li>
      <li><a id="toc-posix_002dextended-regular-expression-syntax-1" href="#posix_002dextended-regular-expression-syntax">8.5.10 &lsquo;<samp>posix-extended</samp>&rsquo; regular expression syntax</a></li>
    </ul></li>
    <li><a id="toc-Environment-Variables-1" href="#Environment-Variables">8.6 Environment Variables</a></li>
  </ul></li>
  <li><a id="toc-Common-Tasks-1" href="#Common-Tasks">9 Common Tasks</a>
  <ul class="no-bullet">
    <li><a id="toc-Viewing-And-Editing-1" href="#Viewing-And-Editing">9.1 Viewing And Editing</a></li>
    <li><a id="toc-Archiving-1" href="#Archiving">9.2 Archiving</a></li>
    <li><a id="toc-Cleaning-Up-1" href="#Cleaning-Up">9.3 Cleaning Up</a></li>
    <li><a id="toc-Strange-File-Names-1" href="#Strange-File-Names">9.4 Strange File Names</a></li>
    <li><a id="toc-Fixing-Permissions-1" href="#Fixing-Permissions">9.5 Fixing Permissions</a></li>
    <li><a id="toc-Classifying-Files-1" href="#Classifying-Files">9.6 Classifying Files</a></li>
  </ul></li>
  <li><a id="toc-Worked-Examples-1" href="#Worked-Examples">10 Worked Examples</a>
  <ul class="no-bullet">
    <li><a id="toc-Deleting-Files-1" href="#Deleting-Files">10.1 Deleting Files</a>
    <ul class="no-bullet">
      <li><a id="toc-The-Traditional-Way" href="#The-Traditional-Way">10.1.1 The Traditional Way</a></li>
      <li><a id="toc-Making-Use-of-xargs" href="#Making-Use-of-xargs">10.1.2 Making Use of <code>xargs</code></a></li>
      <li><a id="toc-Unusual-characters-in-filenames" href="#Unusual-characters-in-filenames">10.1.3 Unusual characters in filenames</a></li>
      <li><a id="toc-Going-back-to-_002dexec" href="#Going-back-to-_002dexec">10.1.4 Going back to <code>-exec</code></a></li>
      <li><a id="toc-A-more-secure-version-of-_002dexec" href="#A-more-secure-version-of-_002dexec">10.1.5 A more secure version of <code>-exec</code></a></li>
      <li><a id="toc-Using-the-_002ddelete-action" href="#Using-the-_002ddelete-action">10.1.6 Using the <code>-delete</code> action</a></li>
      <li><a id="toc-Improving-things-still-further" href="#Improving-things-still-further">10.1.7 Improving things still further</a></li>
      <li><a id="toc-Conclusion" href="#Conclusion">10.1.8 Conclusion</a></li>
    </ul></li>
    <li><a id="toc-Copying-A-Subset-of-Files-1" href="#Copying-A-Subset-of-Files">10.2 Copying A Subset of Files</a></li>
    <li><a id="toc-Updating-A-Timestamp-File-1" href="#Updating-A-Timestamp-File">10.3 Updating A Timestamp File</a>
    <ul class="no-bullet">
      <li><a id="toc-Updating-the-Timestamp-The-Wrong-Way" href="#Updating-the-Timestamp-The-Wrong-Way">10.3.1 Updating the Timestamp The Wrong Way</a></li>
      <li><a id="toc-Using-the-test-utility-to-compare-timestamps" href="#Using-the-test-utility-to-compare-timestamps">10.3.2 Using the test utility to compare timestamps</a></li>
      <li><a id="toc-A-combined-approach" href="#A-combined-approach">10.3.3 A combined approach</a></li>
      <li><a id="toc-Using-_002dprintf-and-sort-to-compare-timestamps" href="#Using-_002dprintf-and-sort-to-compare-timestamps">10.3.4 Using <code>-printf</code> and <code>sort</code> to compare timestamps</a></li>
      <li><a id="toc-Solving-the-problem-with-make" href="#Solving-the-problem-with-make">10.3.5 Solving the problem with <code>make</code></a></li>
      <li><a id="toc-Coping-with-odd-filenames-too" href="#Coping-with-odd-filenames-too">10.3.6 Coping with odd filenames too</a></li>
    </ul></li>
    <li><a id="toc-Finding-the-Shallowest-Instance-1" href="#Finding-the-Shallowest-Instance">10.4 Finding the Shallowest Instance</a></li>
  </ul></li>
  <li><a id="toc-Security-Considerations-1" href="#Security-Considerations">11 Security Considerations</a>
  <ul class="no-bullet">
    <li><a id="toc-Levels-of-Risk-1" href="#Levels-of-Risk">11.1 Levels of Risk</a></li>
    <li><a id="toc-Security-Considerations-for-find-1" href="#Security-Considerations-for-find">11.2 Security Considerations for <code>find</code></a>
    <ul class="no-bullet">
      <li><a id="toc-Problems-with-_002dexec-and-filenames-1" href="#Problems-with-_002dexec-and-filenames">11.2.1 Problems with <code>-exec</code> and filenames</a></li>
      <li><a id="toc-Changing-the-Current-Working-Directory-1" href="#Changing-the-Current-Working-Directory">11.2.2 Changing the Current Working Directory</a>
      <ul class="no-bullet">
        <li><a id="toc-O_005fNOFOLLOW-1" href="#O_005fNOFOLLOW">11.2.2.1 <code>O_NOFOLLOW</code></a></li>
        <li><a id="toc-Systems-without-O_005fNOFOLLOW-1" href="#Systems-without-O_005fNOFOLLOW">11.2.2.2 Systems without <code>O_NOFOLLOW</code></a></li>
      </ul></li>
      <li><a id="toc-Race-Conditions-with-_002dexec-1" href="#Race-Conditions-with-_002dexec">11.2.3 Race Conditions with <code>-exec</code></a></li>
      <li><a id="toc-Race-Conditions-with-_002dprint-and-_002dprint0-1" href="#Race-Conditions-with-_002dprint-and-_002dprint0">11.2.4 Race Conditions with <code>-print</code> and <code>-print0</code></a></li>
    </ul></li>
    <li><a id="toc-Security-Considerations-for-xargs-1" href="#Security-Considerations-for-xargs">11.3 Security Considerations for <code>xargs</code></a></li>
    <li><a id="toc-Security-Considerations-for-locate-1" href="#Security-Considerations-for-locate">11.4 Security Considerations for <code>locate</code></a>
    <ul class="no-bullet">
      <li><a id="toc-Race-Conditions" href="#Race-Conditions">11.4.1 Race Conditions</a></li>
    </ul></li>
    <li><a id="toc-Summary" href="#Security-Summary">11.5 Summary</a></li>
    <li><a id="toc-Further-Reading-on-Security-1" href="#Further-Reading-on-Security">11.6 Further Reading on Security</a></li>
  </ul></li>
  <li><a id="toc-Error-Messages-1" href="#Error-Messages">12 Error Messages</a>
  <ul class="no-bullet">
    <li><a id="toc-Error-Messages-From-find-1" href="#Error-Messages-From-find">12.1 Error Messages From <code>find</code></a></li>
    <li><a id="toc-Error-Messages-From-xargs-1" href="#Error-Messages-From-xargs">12.2 Error Messages From <code>xargs</code></a></li>
    <li><a id="toc-Error-Messages-From-locate-1" href="#Error-Messages-From-locate">12.3 Error Messages From <code>locate</code></a></li>
    <li><a id="toc-Error-Messages-From-updatedb-1" href="#Error-Messages-From-updatedb">12.4 Error Messages From <code>updatedb</code></a></li>
  </ul></li>
  <li><a id="toc-GNU-Free-Documentation-License-1" href="#GNU-Free-Documentation-License">Appendix A GNU Free Documentation License</a></li>
  <li><a id="toc-find-Primary-Index" href="#Primary-Index" rel="index"><code>find</code> Primary Index</a></li>
</ul>
</div>


<span id="Top"></span><div class="header">
<p>
Next: <a href="#Introduction" accesskey="n" rel="next">Introduction</a>, Up: <a href="/manual" accesskey="u" rel="up">(dir)</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="GNU-Findutils"></span><h1 class="top">GNU Findutils</h1>
<p>This manual documents version 4.9.0 of the GNU utilities for finding
files that match certain criteria and performing various operations on them.
</p>
<p>Copyright &copy; 1994&ndash;2022 Free Software Foundation, Inc.
</p>
<blockquote>
<p>Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
A copy of the license is included in the section entitled
&ldquo;GNU Free Documentation License&rdquo;.
</p></blockquote>


<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Introduction" accesskey="1">Introduction</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Summary of the tasks this manual describes.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Finding-Files" accesskey="2">Finding Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Finding files that match certain criteria.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Actions" accesskey="3">Actions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Doing things to files you have found.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Databases" accesskey="4">Databases</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Maintaining file name databases.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#File-Permissions" accesskey="5">File Permissions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">How to control access to files.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Date-input-formats" accesskey="6">Date input formats</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Specifying literal times.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Configuration" accesskey="7">Configuration</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Options you can select at compile time.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Reference" accesskey="8">Reference</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Summary of how to invoke the programs.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Common-Tasks" accesskey="9">Common Tasks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Solutions to common real-world problems.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Worked-Examples">Worked Examples</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Examples demonstrating more complex points.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Security-Considerations">Security Considerations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Security issues relating to findutils.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Error-Messages">Error Messages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Explanations of some messages you might see.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#GNU-Free-Documentation-License">GNU Free Documentation License</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Copying and sharing this manual.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Primary-Index" rel="index">Primary Index</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">The components of <code>find</code> expressions.
</td></tr>
</table>

<hr>
<span id="Introduction"></span><div class="header">
<p>
Next: <a href="#Finding-Files" accesskey="n" rel="next">Finding Files</a>, Previous: <a href="#Top" accesskey="p" rel="prev">Top</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Introduction-1"></span><h2 class="chapter">1 Introduction</h2>

<p>This manual shows how to find files that meet criteria you specify,
and how to perform various actions on the files that you find.  The
principal programs that you use to perform these tasks are
<code>find</code>, <code>locate</code>, and <code>xargs</code>.  Some of the examples in
this manual use capabilities specific to the GNU versions of those
programs.
</p>
<p>GNU <code>find</code> was originally written by Eric Decker, with
enhancements by David MacKenzie, Jay Plett, and Tim Wood.  GNU
<code>xargs</code> was originally written by Mike Rendell, with enhancements
by David MacKenzie.  GNU <code>locate</code> and its associated utilities
were originally written by James Woods, with enhancements by David
MacKenzie.  The idea for &lsquo;<samp>find -print0</samp>&rsquo; and &lsquo;<samp>xargs -0</samp>&rsquo; came
from Dan Bernstein.  The current maintainer of GNU findutils (and this
manual) is James Youngman.  Many other people have contributed bug
fixes, small improvements, and helpful suggestions.  Thanks!
</p>
<p>To report a bug in GNU findutils, please use the form on the Savannah
web site at
<code>https://savannah.gnu.org/bugs/?group=findutils</code>.  Reporting bugs
this way means that you will then be able to track progress in fixing
the problem.
</p>
<p>If you don&rsquo;t have web access, you can also just send mail to the
mailing list.  The mailing list <a href="mailto:bug-findutils@gnu.org">bug-findutils@gnu.org</a> carries
discussion of bugs in findutils, questions and answers about the
software and discussion of the development of the programs.  To join
the list, send email to <a href="mailto:bug-findutils-request@gnu.org">bug-findutils-request@gnu.org</a>.
</p>
<p>Please read any relevant sections of this manual before asking for
help on the mailing list.  You may also find it helpful to read the
NON-BUGS section of the <code>find</code> manual page.
</p>
<p>If you ask for help on the mailing list, people will be able to help
you much more effectively if you include the following things:
</p>
<ul>
<li> The version of the software you are running.  You can find this
out by running &lsquo;<samp>locate --version</samp>&rsquo;.
</li><li> What you were trying to do
</li><li> The <em>exact</em> command line you used
</li><li> The <em>exact</em> output you got (if this is very long, try to
find a smaller example which exhibits the same problem)
</li><li> The output you expected to get
</li></ul>

<p>It may also be the case that the bug you are describing has already
been fixed, if it is a bug.  Please check the most recent findutils
releases at <a href="ftp://ftp.gnu.org/gnu/findutils">ftp://ftp.gnu.org/gnu/findutils</a> and, if possible,
the development branch at <a href="ftp://alpha.gnu.org/gnu/findutils">ftp://alpha.gnu.org/gnu/findutils</a>.
If you take the time to check that your bug still exists in current
releases, this will greatly help people who want to help you solve
your problem.  Please also be aware that if you obtained findutils as
part of the GNU/Linux &rsquo;distribution&rsquo;, the distributions often lag
seriously behind findutils releases, even the stable release.  Please
check the GNU FTP site.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Scope" accesskey="1">Scope</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Overview" accesskey="2">Overview</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Scope"></span><div class="header">
<p>
Next: <a href="#Overview" accesskey="n" rel="next">Overview</a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Scope-1"></span><h3 class="section">1.1 Scope</h3>

<p>For brevity, the word <em>file</em> in this manual means a regular file,
a directory, a symbolic link, or any other kind of node that has a
directory entry.  A directory entry is also called a <em>file name</em>.
A file name may contain some, all, or none of the directories in a
path that leads to the file.  These are all examples of what this
manual calls &ldquo;file names&rdquo;:
</p>
<div class="example">
<pre class="example">parser.c
README
./budget/may-94.sc
fred/.cshrc
/usr/local/include/termcap.h
</pre></div>

<p>A <em>directory tree</em> is a directory and the files it contains, all
of its subdirectories and the files they contain, etc.  It can also be
a single non-directory file.
</p>
<p>These programs enable you to find the files in one or more directory
trees that:
</p>
<ul>
<li> have names that contain certain text or match a certain pattern;
</li><li> are links to certain files;
</li><li> were last used during a certain period of time;
</li><li> are within a certain size range;
</li><li> are of a certain type (regular file, directory, symbolic link, etc.);
</li><li> are owned by a certain user or group;
</li><li> have certain access permissions or special mode bits;
</li><li> contain text that matches a certain pattern;
</li><li> are within a certain depth in the directory tree;
</li><li> or some combination of the above.
</li></ul>

<p>Once you have found the files you&rsquo;re looking for (or files that are
potentially the ones you&rsquo;re looking for), you can do more to them than
simply list their names.  You can get any combination of the files&rsquo;
attributes, or process the files in many ways, either individually or
in groups of various sizes.  Actions that you might want to perform on
the files you have found include, but are not limited to:
</p>
<ul>
<li> view or edit
</li><li> store in an archive
</li><li> remove or rename
</li><li> change access permissions
</li><li> classify into groups
</li></ul>

<p>This manual describes how to perform each of those tasks, and more.
</p>
<hr>
<span id="Overview"></span><div class="header">
<p>
Previous: <a href="#Scope" accesskey="p" rel="prev">Scope</a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Overview-1"></span><h3 class="section">1.2 Overview</h3>

<p>The principal programs used for making lists of files that match given
criteria and running commands on them are <code>find</code>, <code>locate</code>,
and <code>xargs</code>.  An additional command, <code>updatedb</code>, is used by
system administrators to create databases for <code>locate</code> to use.
</p>
<p><code>find</code> searches for files in a directory hierarchy and prints
information about the files it found.  It is run like this:
</p>
<div class="example">
<pre class="example">find <span class="roman">[</span><var>file</var>&hellip;<span class="roman">]</span> <span class="roman">[</span><var>expression</var><span class="roman">]</span>
</pre></div>

<p>Here is a typical use of <code>find</code>.  This example prints the names
of all files in the directory tree rooted in <samp>/usr/src</samp> whose
name ends with &lsquo;<samp>.c</samp>&rsquo; and that are larger than 100 KiB.
</p><div class="example">
<pre class="example">find /usr/src -name '*.c' -size +100k -print
</pre></div>

<p>Notice that the wildcard must be enclosed in quotes in order to
protect it from expansion by the shell.
</p>
<p><code>locate</code> searches special file name databases for file names that
match patterns.  The system administrator runs the <code>updatedb</code>
program to create the databases.  <code>locate</code> is run like this:
</p>
<div class="example">
<pre class="example">locate <span class="roman">[</span><var>option</var>&hellip;<span class="roman">]</span> <var>pattern</var>&hellip;
</pre></div>

<p>This example prints the names of all files in the default file name
database whose name ends with &lsquo;<samp>Makefile</samp>&rsquo; or &lsquo;<samp>makefile</samp>&rsquo;.
Which file names are stored in the database depends on how the system
administrator ran <code>updatedb</code>.
</p><div class="example">
<pre class="example">locate '*[Mm]akefile'
</pre></div>

<p>The name <code>xargs</code>, pronounced EX-args, means &ldquo;combine
arguments.&rdquo;  <code>xargs</code> builds and executes command lines by
gathering together arguments it reads on the standard input.  Most
often, these arguments are lists of file names generated by
<code>find</code>.  <code>xargs</code> is run like this:
</p>
<div class="example">
<pre class="example">xargs <span class="roman">[</span><var>option</var>&hellip;<span class="roman">]</span> <span class="roman">[</span><var>command</var> <span class="roman">[</span><var>initial-arguments</var><span class="roman">]</span><span class="roman">]</span>
</pre></div>

<p>The following command searches the files listed in the file
<samp>file-list</samp> and prints all of the lines in them that contain the
word &lsquo;<samp>typedef</samp>&rsquo;.
</p><div class="example">
<pre class="example">xargs grep typedef &lt; file-list
</pre></div>

<hr>
<span id="Finding-Files"></span><div class="header">
<p>
Next: <a href="#Actions" accesskey="n" rel="next">Actions</a>, Previous: <a href="#Introduction" accesskey="p" rel="prev">Introduction</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Finding-Files-1"></span><h2 class="chapter">2 Finding Files</h2>

<p>By default, <code>find</code> prints to the standard output the names of the
files that match the given criteria.  See <a href="#Actions">Actions</a>, for how to get
more information about the matching files.
</p>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#find-Expressions" accesskey="1">find Expressions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Starting-points" accesskey="2">Starting points</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Name" accesskey="3">Name</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Links" accesskey="4">Links</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Time" accesskey="5">Time</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Size" accesskey="6">Size</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Type" accesskey="7">Type</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Owner" accesskey="8">Owner</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Mode-Bits" accesskey="9">Mode Bits</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Contents">Contents</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Directories">Directories</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Filesystems">Filesystems</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Combining-Primaries-With-Operators">Combining Primaries With Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="find-Expressions"></span><div class="header">
<p>
Next: <a href="#Starting-points" accesskey="n" rel="next">Starting points</a>, Up: <a href="#Finding-Files" accesskey="u" rel="up">Finding Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="find-Expressions-1"></span><h3 class="section">2.1 <code>find</code> Expressions</h3>

<p>The expression that <code>find</code> uses to select files consists of one
or more <em>primaries</em>, each of which is a separate command line
argument to <code>find</code>.  <code>find</code> evaluates the expression each
time it processes a file.  An expression can contain any of the
following types of primaries:
</p>
<dl compact="compact">
<dt><em>options</em></dt>
<dd><p>affect overall operation rather than the processing of a specific
file;
</p></dd>
<dt><em>tests</em></dt>
<dd><p>return a true or false value, depending on the file&rsquo;s attributes;
</p></dd>
<dt><em>actions</em></dt>
<dd><p>have side effects and return a true or false value; and
</p></dd>
<dt><em>operators</em></dt>
<dd><p>connect the other arguments and affect when and whether they are
evaluated.
</p></dd>
</dl>

<p>You can omit the operator between two primaries; it defaults to
&lsquo;<samp>-and</samp>&rsquo;.  See <a href="#Combining-Primaries-With-Operators">Combining Primaries With Operators</a>, for ways to
connect primaries into more complex expressions.
</p>
<p>The &lsquo;<samp>-print</samp>&rsquo; action is performed on all files for which the
entire expression is true (see <a href="#Print-File-Name">Print File Name</a>), unless the
expression contains an action other than &lsquo;<samp>-prune</samp>&rsquo; or
&lsquo;<samp>-quit</samp>&rsquo;. Actions which inhibit the default &lsquo;<samp>-print</samp>&rsquo; are
&lsquo;<samp>-delete</samp>&rsquo;, &lsquo;<samp>-exec</samp>&rsquo;, &lsquo;<samp>-execdir</samp>&rsquo;, &lsquo;<samp>-ok</samp>&rsquo;,
&lsquo;<samp>-okdir</samp>&rsquo;, &lsquo;<samp>-fls</samp>&rsquo;, &lsquo;<samp>-fprint</samp>&rsquo;, &lsquo;<samp>-fprintf</samp>&rsquo;,
&lsquo;<samp>-ls</samp>&rsquo;, &lsquo;<samp>-print</samp>&rsquo; and &lsquo;<samp>-printf</samp>&rsquo;.
</p>
<p>Options take effect immediately, rather than being evaluated for each
file when their place in the expression is reached.  Therefore, for
clarity, it is best to place them at the beginning of the expression.
There are two exceptions to this; &lsquo;<samp>-daystart</samp>&rsquo; and &lsquo;<samp>-follow</samp>&rsquo;
have different effects depending on where in the command line they
appear.  This can be confusing, so it&rsquo;s best to keep them at the
beginning, too.
</p>
<p>Many of the primaries take arguments, which immediately follow them in
the next command line argument to <code>find</code>.  Some arguments are
file names, patterns, or other strings; others are numbers.  Numeric
arguments can be specified as
</p>
<dl compact="compact">
<dt><code>+<var>n</var></code></dt>
<dd><p>for greater than <var>n</var>,
</p></dd>
<dt><code>-<var>n</var></code></dt>
<dd><p>for less than <var>n</var>,
</p></dd>
<dt><code><var>n</var></code></dt>
<dd><p>for exactly <var>n</var>.
</p></dd>
</dl>


<hr>
<span id="Starting-points"></span><div class="header">
<p>
Next: <a href="#Name" accesskey="n" rel="next">Name</a>, Previous: <a href="#find-Expressions" accesskey="p" rel="prev">find Expressions</a>, Up: <a href="#Finding-Files" accesskey="u" rel="up">Finding Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Starting-points-1"></span><h3 class="section">2.2 Starting points</h3>

<p>GNU <code>find</code> searches the directory tree rooted at each given starting-point
by evaluating the given expression from left to right, according to the
rules of operator precedence, until the outcome is known (the left hand side
is false for &lsquo;<samp>and</samp>&rsquo; operations, true for &lsquo;<samp>or</samp>&rsquo;), at which point
<code>find</code> moves on to the next file name.
</p>
<p>If no starting-point is specified, the current directory &lsquo;<samp>.</samp>&rsquo; is assumed.
</p>
<p>A double dash &lsquo;<samp>--</samp>&rsquo; could theoretically be used to signal that any remaining
arguments are not options, but this does not really work due to the way
<code>find</code> determines the end of the list of starting point arguments:
it does that by reading until an expression argument comes (which also starts
with a &lsquo;<samp>-</samp>&rsquo;).
Now, if a starting point argument would begin with a &lsquo;<samp>-</samp>&rsquo;, then <code>find</code>
would treat it as expression argument instead.
Thus, to ensure that all start points are taken as such, and especially to
prevent that wildcard patterns expanded by the calling shell are not mistakenly
treated as expression arguments, it is generally safer to prefix wildcards
or dubious path names with either &lsquo;<samp>./</samp>&rsquo;, or to use absolute path names
starting with &lsquo;<samp>/</samp>&rsquo;.
</p>
<p>Alternatively, it is generally safe though non-portable to use the GNU option
&lsquo;<samp>-files0-from</samp>&rsquo; to pass arbitrary starting points to <code>find</code>.
</p>
<dl>
<dt id="index-_002dfiles0_002dfrom">Option: <strong>-files0-from</strong> <em>file</em></dt>
<dt id="index-_002dfiles0_002dfrom-1">Option: <strong>-files0-from</strong> <em>file</em></dt>
<dd>
<p>Read the starting points from <samp>file</samp> instead of getting them on the
command line.
In contrast to the known limitations of passing starting points via arguments
on the command line, namely the limitation of the amount of file names,
and the inherent ambiguity of file names clashing with option names,
using this option allows to safely pass an arbitrary number of starting points
to <code>find</code>.
</p>
<p>Using this option and passing starting points on the command line is mutually
exclusive, and is therefore not allowed at the same time.
</p>
<p>The <samp>file</samp> argument is mandatory.
One can use &lsquo;<samp>-files0-from -</samp>&rsquo; to read the list of starting points from the
standard input stream, and e.g. from a pipe.
In this case, the actions &lsquo;<samp>-ok</samp>&rsquo; and &lsquo;<samp>-okdir</samp>&rsquo; are not allowed,
because they would obviously interfere with reading from standard input
in order to get a user confirmation.
</p>
<p>The starting points in <samp>file</samp> have to be separated by ASCII NUL characters.
Two consecutive NUL characters, i.e., a starting point with a Zero-length
file name is not allowed and will lead to an error diagnostic followed by
a non-Zero exit code later.
</p>
<p>In the case the given <samp>file</samp> is empty, <code>find</code> does not process any
starting point and therefore will exit immediately after parsing the program
arguments.
This is unlike the standard invocation where <code>find</code> assumes the current
directory as starting point if no path argument is passed.
</p>
<p>The processing of the starting points is otherwise as usual, e.g. <code>find</code>
will recurse into subdirectories unless otherwise prevented.
To process only the starting points, one can additionally pass &lsquo;<samp>-maxdepth 0</samp>&rsquo;.
</p>
<p>Further notes:
if a file is listed more than once in the input file, it is unspecified
whether it is visited more than once.
If the <samp>file</samp> is mutated during the operation of <code>find</code>, the result
is unspecified as well.
Finally, the seek position within the named &lsquo;<samp>file</samp>&rsquo; at the time <code>find</code>
exits, be it with &lsquo;<samp>-quit</samp>&rsquo; or in any other way, is also unspecified.
By &quot;unspecified&quot; here is meant that it may or may not work or do any specific
thing, and that the behavior may change from platform to platform, or from
findutils release to release.
</p>
<p>Example:
Given that another program <code>proggy</code> pre-filters and creates a huge
NUL-separated list of files, process those as starting points, and find
all regular, empty files among them:
</p><div class="example">
<pre class="example">$ proggy | find -files0-from - -maxdepth 0 -type f -empty
</pre></div>
<p>The use of &lsquo;<samp>-files0-from -</samp>&rsquo; means to read the names of the starting points
from standard input, i.e., from the pipe; and &lsquo;<samp>-maxdepth 0</samp>&rsquo; ensures that
only explicitly those entries are examined without recursing into directories
(in the case one of the starting points is one).
</p></dd></dl>


<hr>
<span id="Name"></span><div class="header">
<p>
Next: <a href="#Links" accesskey="n" rel="next">Links</a>, Previous: <a href="#Starting-points" accesskey="p" rel="prev">Starting points</a>, Up: <a href="#Finding-Files" accesskey="u" rel="up">Finding Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Name-1"></span><h3 class="section">2.3 Name</h3>

<p>Here are ways to search for files whose name matches a certain
pattern.  See <a href="#Shell-Pattern-Matching">Shell Pattern Matching</a>, for a description of the
<var>pattern</var> arguments to these tests.
</p>
<p>Each of these tests has a case-sensitive version and a
case-insensitive version, whose name begins with &lsquo;<samp>i</samp>&rsquo;.  In a
case-insensitive comparison, the patterns &lsquo;<samp>fo*</samp>&rsquo; and &lsquo;<samp>F??</samp>&rsquo;
match the file names <samp>Foo</samp>, &lsquo;<samp>FOO</samp>&rsquo;, &lsquo;<samp>foo</samp>&rsquo;, &lsquo;<samp>fOo</samp>&rsquo;,
etc.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Base-Name-Patterns" accesskey="1">Base Name Patterns</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Full-Name-Patterns" accesskey="2">Full Name Patterns</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Fast-Full-Name-Search" accesskey="3">Fast Full Name Search</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Shell-Pattern-Matching" accesskey="4">Shell Pattern Matching</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Wildcards used by these programs.
</td></tr>
</table>

<hr>
<span id="Base-Name-Patterns"></span><div class="header">
<p>
Next: <a href="#Full-Name-Patterns" accesskey="n" rel="next">Full Name Patterns</a>, Up: <a href="#Name" accesskey="u" rel="up">Name</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Base-Name-Patterns-1"></span><h4 class="subsection">2.3.1 Base Name Patterns</h4>

<dl>
<dt id="index-_002dname">Test: <strong>-name</strong> <em>pattern</em></dt>
<dt id="index-_002diname">Test: <strong>-iname</strong> <em>pattern</em></dt>
<dd><p>True if the base of the file name (the path with the leading
directories removed) matches shell pattern <var>pattern</var>.  For
&lsquo;<samp>-iname</samp>&rsquo;, the match is case-insensitive.<a id="DOCF1" href="#FOOT1"><sup>1</sup></a>
To ignore a whole directory tree, use &lsquo;<samp>-prune</samp>&rsquo;
(see <a href="#Directories">Directories</a>).  As an example, to find Texinfo source files in
<samp>/usr/local/doc</samp>:
</p>
<div class="example">
<pre class="example">find /usr/local/doc -name '*.texi'
</pre></div>

<p>Notice that the wildcard must be enclosed in quotes in order to
protect it from expansion by the shell.
</p>
<p>As of findutils version 4.2.2, patterns for &lsquo;<samp>-name</samp>&rsquo; and
&lsquo;<samp>-iname</samp>&rsquo; match a file name with a leading &lsquo;<samp>.</samp>&rsquo;.  For
example the command &lsquo;<samp>find /tmp -name \*bar</samp>&rsquo; match the file
<samp>/tmp/.foobar</samp>.  Braces within the pattern (&lsquo;<samp>{}</samp>&rsquo;) are not
considered to be special (that is, <code>find . -name 'foo{1,2}'</code>
matches a file named <samp>foo{1,2}</samp>, not the files <samp>foo1</samp> and
<samp>foo2</samp>.
</p>
<p>Because the leading directories are removed, the file names considered
for a match with &lsquo;<samp>-name</samp>&rsquo; will never include a slash, so
&lsquo;<samp>-name a/b</samp>&rsquo; will never match anything (you probably need to use
&lsquo;<samp>-path</samp>&rsquo; instead).
</p></dd></dl>


<hr>
<span id="Full-Name-Patterns"></span><div class="header">
<p>
Next: <a href="#Fast-Full-Name-Search" accesskey="n" rel="next">Fast Full Name Search</a>, Previous: <a href="#Base-Name-Patterns" accesskey="p" rel="prev">Base Name Patterns</a>, Up: <a href="#Name" accesskey="u" rel="up">Name</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Full-Name-Patterns-1"></span><h4 class="subsection">2.3.2 Full Name Patterns</h4>

<dl>
<dt id="index-_002dpath">Test: <strong>-path</strong> <em>pattern</em></dt>
<dt id="index-_002dwholename">Test: <strong>-wholename</strong> <em>pattern</em></dt>
<dd><p>True if the entire file name, starting with the command line argument
under which the file was found, matches shell pattern <var>pattern</var>.
To ignore a whole directory tree, use &lsquo;<samp>-prune</samp>&rsquo; rather than
checking every file in the tree (see <a href="#Directories">Directories</a>).  The &ldquo;entire
file name&rdquo; as used by <code>find</code> starts with the starting-point
specified on the command line, and is not converted to an absolute
pathname, so for example <code>cd /; find tmp -wholename /tmp</code> will
never match anything.
</p>
<p>Find compares the &lsquo;<samp>-path</samp>&rsquo; argument with the concatenation of a
directory name and the base name of the file it&rsquo;s considering.
Since the concatenation will never end with a slash, &lsquo;<samp>-path</samp>&rsquo;
arguments ending in &lsquo;<samp>/</samp>&rsquo; will match nothing (except perhaps a
start point specified on the command line).
</p>
<p>The name &lsquo;<samp>-wholename</samp>&rsquo; is GNU-specific, but &lsquo;<samp>-path</samp>&rsquo; is more
portable; it is supported by HP-UX <code>find</code> and is part of the
POSIX 2008 standard.
</p>
</dd></dl>

<dl>
<dt id="index-_002dipath">Test: <strong>-ipath</strong> <em>pattern</em></dt>
<dt id="index-_002diwholename">Test: <strong>-iwholename</strong> <em>pattern</em></dt>
<dd><p>These tests are like &lsquo;<samp>-wholename</samp>&rsquo; and &lsquo;<samp>-path</samp>&rsquo;, but the match
is case-insensitive.
</p></dd></dl>


<p>In the context of the tests &lsquo;<samp>-path</samp>&rsquo;, &lsquo;<samp>-wholename</samp>&rsquo;,
&lsquo;<samp>-ipath</samp>&rsquo; and &lsquo;<samp>-iwholename</samp>&rsquo;, a &ldquo;full path&rdquo; is the name of
all the directories traversed from <code>find</code>&rsquo;s start point to the
file being tested, followed by the base name of the file itself.
These paths are often not absolute paths; for example
</p>
<div class="example">
<pre class="example">$ cd /tmp
$ mkdir -p foo/bar/baz
$ find foo -path foo/bar -print
foo/bar
$ find foo -path /tmp/foo/bar -print
$ find /tmp/foo -path /tmp/foo/bar -print
/tmp/foo/bar
</pre></div>

<p>Notice that the second <code>find</code> command prints nothing, even though
<samp>/tmp/foo/bar</samp> exists and was examined by <code>find</code>.
</p>
<p>Unlike file name expansion on the command line, a &lsquo;<samp>*</samp>&rsquo; in the pattern
will match both &lsquo;<samp>/</samp>&rsquo; and leading dots in file names:
</p>
<div class="example">
<pre class="example">$ find .  -path '*f'
./quux/bar/baz/f
$ find .  -path '*/*config'
./quux/bar/baz/.config
</pre></div>


<dl>
<dt id="index-_002dregex">Test: <strong>-regex</strong> <em>expr</em></dt>
<dt id="index-_002diregex">Test: <strong>-iregex</strong> <em>expr</em></dt>
<dd><p>True if the entire file name matches regular expression <var>expr</var>.
This is a match on the whole path, not a search.  For example, to
match a file named <samp>./fubar3</samp>, you can use the regular expression
&lsquo;<samp>.*bar.</samp>&rsquo; or &lsquo;<samp>.*b.*3</samp>&rsquo;, but not &lsquo;<samp>f.*r3</samp>&rsquo;.  See <a href="https://www.gnu.org/software/emacs/manual/html_mono/emacs.html#Regexps">Syntax of Regular Expressions</a> in <cite>The GNU Emacs Manual</cite>, for a
description of the syntax of regular expressions.  For &lsquo;<samp>-iregex</samp>&rsquo;,
the match is case-insensitive.
</p>
<p>As for &lsquo;<samp>-path</samp>&rsquo;, the candidate file name never ends with a slash,
so regular expressions which only match something that ends in slash
will always fail.
</p>
<p>There are several varieties of regular expressions; by default this
test uses POSIX basic regular expressions, but this can be changed
with the option &lsquo;<samp>-regextype</samp>&rsquo;.
</p></dd></dl>

<dl>
<dt id="index-_002dregextype">Option: <strong>-regextype</strong> <em>name</em></dt>
<dd><p>This option controls the variety of regular expression syntax
understood by the &lsquo;<samp>-regex</samp>&rsquo; and &lsquo;<samp>-iregex</samp>&rsquo; tests.  This option
is positional; that is, it only affects regular expressions which
occur later in the command line.  If this option is not given, GNU
Emacs regular expressions are assumed.  Currently-implemented types
are
</p>

<dl compact="compact">
<dt>&lsquo;<samp>emacs</samp>&rsquo;</dt>
<dd><p>Regular expressions compatible with GNU Emacs; this is also the
default behaviour if this option is not used.
</p></dd>
<dt>&lsquo;<samp>posix-awk</samp>&rsquo;</dt>
<dd><p>Regular expressions compatible with the POSIX awk command (not GNU awk)
</p></dd>
<dt>&lsquo;<samp>posix-basic</samp>&rsquo;</dt>
<dd><p>POSIX Basic Regular Expressions.
</p></dd>
<dt>&lsquo;<samp>posix-egrep</samp>&rsquo;</dt>
<dd><p>Regular expressions compatible with the POSIX egrep command
</p></dd>
<dt>&lsquo;<samp>posix-extended</samp>&rsquo;</dt>
<dd><p>POSIX Extended Regular Expressions
</p></dd>
</dl>

<p><a href="#Regular-Expressions">Regular Expressions</a> for more information on the regular
expression dialects understood by GNU findutils.
</p>

</dd></dl>

<hr>
<span id="Fast-Full-Name-Search"></span><div class="header">
<p>
Next: <a href="#Shell-Pattern-Matching" accesskey="n" rel="next">Shell Pattern Matching</a>, Previous: <a href="#Full-Name-Patterns" accesskey="p" rel="prev">Full Name Patterns</a>, Up: <a href="#Name" accesskey="u" rel="up">Name</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Fast-Full-Name-Search-1"></span><h4 class="subsection">2.3.3 Fast Full Name Search</h4>

<p>To search for files by name without having to actually scan the
directories on the disk (which can be slow), you can use the
<code>locate</code> program.  For each shell pattern you give it,
<code>locate</code> searches one or more databases of file names and
displays the file names that contain the pattern.  See <a href="#Shell-Pattern-Matching">Shell Pattern Matching</a>, for details about shell patterns.
</p>
<p>If a pattern is a plain string &ndash; it contains no
metacharacters &ndash; <code>locate</code> displays all file names in the database
that contain that string.  If a pattern contains
metacharacters, <code>locate</code> only displays file names that match the
pattern exactly.  As a result, patterns that contain metacharacters
should usually begin with a &lsquo;<samp>*</samp>&rsquo;, and will most often end with one
as well.  The exceptions are patterns that are intended to explicitly
match the beginning or end of a file name.
</p>
<p>If you only want <code>locate</code> to match against the last component of
the file names (the &ldquo;base name&rdquo; of the files) you can use the
&lsquo;<samp>--basename</samp>&rsquo; option.  The opposite behaviour is the default, but
can be selected explicitly by using the option &lsquo;<samp>--wholename</samp>&rsquo;.
</p>
<p>The command
</p><div class="example">
<pre class="example">locate <var>pattern</var>
</pre></div>

<p>is almost equivalent to
</p><div class="example">
<pre class="example">find <var>directories</var> -name <var>pattern</var>
</pre></div>

<p>where <var>directories</var> are the directories for which the file name
databases contain information.  The differences are that the
<code>locate</code> information might be out of date, and that <code>locate</code>
handles wildcards in the pattern slightly differently than <code>find</code>
(see <a href="#Shell-Pattern-Matching">Shell Pattern Matching</a>).
</p>
<p>The file name databases contain lists of files that were on the system
when the databases were last updated.  The system administrator can
choose the file name of the default database, the frequency with which
the databases are updated, and the directories for which they contain
entries.
</p>
<p>Here is how to select which file name databases <code>locate</code>
searches.  The default is system-dependent.  At the time this document
was generated, the default was <samp>/usr/local/var/locatedb</samp>.
</p>
<dl compact="compact">
<dt><code>--database=<var>path</var></code></dt>
<dt><code>-d <var>path</var></code></dt>
<dd><p>Instead of searching the default file name database, search the file
name databases in <var>path</var>, which is a colon-separated list of
database file names.  You can also use the environment variable
<code>LOCATE_PATH</code> to set the list of database files to search.  The
option overrides the environment variable if both are used.
</p></dd>
</dl>

<p>GNU <code>locate</code> can read file name databases generated by the
<code>slocate</code> package.  However, these generally contain a list of
all the files on the system, and so when using this database,
<code>locate</code> will produce output only for files which are accessible
to you.  See <a href="#Invoking-locate">Invoking locate</a>, for a description of the
&lsquo;<samp>--existing</samp>&rsquo; option which is used to do this.
</p>
<p>The <code>updatedb</code> program can also generate database in a format
compatible with <code>slocate</code>.  See <a href="#Invoking-updatedb">Invoking updatedb</a>, for a
description of its &lsquo;<samp>--dbformat</samp>&rsquo; and &lsquo;<samp>--output</samp>&rsquo; options.
</p>

<hr>
<span id="Shell-Pattern-Matching"></span><div class="header">
<p>
Previous: <a href="#Fast-Full-Name-Search" accesskey="p" rel="prev">Fast Full Name Search</a>, Up: <a href="#Name" accesskey="u" rel="up">Name</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Shell-Pattern-Matching-1"></span><h4 class="subsection">2.3.4 Shell Pattern Matching</h4>

<p><code>find</code> and <code>locate</code> can compare file names, or parts of file
names, to shell patterns.  A <em>shell pattern</em> is a string that may
contain the following special characters, which are known as
<em>wildcards</em> or <em>metacharacters</em>.
</p>
<p>You must quote patterns that contain metacharacters to prevent the
shell from expanding them itself.  Double and single quotes both work;
so does escaping with a backslash.
</p>
<dl compact="compact">
<dt><code>*</code></dt>
<dd><p>Matches any zero or more characters.
</p>
</dd>
<dt><code>?</code></dt>
<dd><p>Matches any one character.
</p>
</dd>
<dt><code>[<var>string</var>]</code></dt>
<dd><p>Matches exactly one character that is a member of the string
<var>string</var>.  This is called a <em>character class</em>.  As a
shorthand, <var>string</var> may contain ranges, which consist of two
characters with a dash between them.  For example, the class
&lsquo;<samp>[a-z0-9_]</samp>&rsquo; matches a lowercase letter, a number, or an
underscore.  You can negate a class by placing a &lsquo;<samp>!</samp>&rsquo; or &lsquo;<samp>^</samp>&rsquo;
immediately after the opening bracket.  Thus, &lsquo;<samp>[^A-Z@]</samp>&rsquo; matches
any character except an uppercase letter or an at sign.
</p>
</dd>
<dt><code>\</code></dt>
<dd><p>Removes the special meaning of the character that follows it.  This
works even in character classes.
</p></dd>
</dl>

<p>In the <code>find</code> tests that do shell pattern matching (&lsquo;<samp>-name</samp>&rsquo;,
&lsquo;<samp>-wholename</samp>&rsquo;, etc.), wildcards in the pattern will match a
&lsquo;<samp>.</samp>&rsquo;  at the beginning of a file name.  This is also the case for
<code>locate</code>.  Thus, &lsquo;<samp>find -name '*macs'</samp>&rsquo; will match a file
named <samp>.emacs</samp>, as will &lsquo;<samp>locate '*macs'</samp>&rsquo;.
</p>
<p>Slash characters have no special significance in the shell pattern
matching that <code>find</code> and <code>locate</code> do, unlike in the shell,
in which wildcards do not match them.  Therefore, a pattern
&lsquo;<samp>foo*bar</samp>&rsquo; can match a file name &lsquo;<samp>foo3/bar</samp>&rsquo;, and a pattern
&lsquo;<samp>./sr*sc</samp>&rsquo; can match a file name &lsquo;<samp>./src/misc</samp>&rsquo;.
</p>
<p>If you want to locate some files with the &lsquo;<samp>locate</samp>&rsquo; command but
don&rsquo;t need to see the full list you can use the &lsquo;<samp>--limit</samp>&rsquo; option
to see just a small number of results, or the &lsquo;<samp>--count</samp>&rsquo; option to
display only the total number of matches.
</p>
<hr>
<span id="Links"></span><div class="header">
<p>
Next: <a href="#Time" accesskey="n" rel="next">Time</a>, Previous: <a href="#Name" accesskey="p" rel="prev">Name</a>, Up: <a href="#Finding-Files" accesskey="u" rel="up">Finding Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Links-1"></span><h3 class="section">2.4 Links</h3>

<p>There are two ways that files can be linked together.  <em>Symbolic
links</em> are a special type of file whose contents are a portion of the
name of another file.  <em>Hard links</em> are multiple directory entries
for one file; the file names all have the same index node
(<em>inode</em>) number on the disk.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Symbolic-Links" accesskey="1">Symbolic Links</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Hard-Links" accesskey="2">Hard Links</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Symbolic-Links"></span><div class="header">
<p>
Next: <a href="#Hard-Links" accesskey="n" rel="next">Hard Links</a>, Up: <a href="#Links" accesskey="u" rel="up">Links</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Symbolic-Links-1"></span><h4 class="subsection">2.4.1 Symbolic Links</h4>

<p>Symbolic links are names that reference other files.  GNU <code>find</code>
will handle symbolic links in one of two ways; firstly, it can
dereference the links for you - this means that if it comes across a
symbolic link, it examines the file that the link points to, in order
to see if it matches the criteria you have specified.  Secondly, it
can check the link itself in case you might be looking for the actual
link.  If the file that the symbolic link points to is also within the
directory hierarchy you are searching with the <code>find</code> command,
you may not see a great deal of difference between these two
alternatives.
</p>
<p>By default, <code>find</code> examines symbolic links themselves when it
finds them (and, if it later comes across the linked-to file, it will
examine that, too).  If you would prefer <code>find</code> to dereference
the links and examine the file that each link points to, specify the
&lsquo;<samp>-L</samp>&rsquo; option to <code>find</code>.  You can explicitly specify the
default behaviour by using the &lsquo;<samp>-P</samp>&rsquo; option.  The &lsquo;<samp>-H</samp>&rsquo;
option is a half-way-between option which ensures that any symbolic
links listed on the command line are dereferenced, but other symbolic
links are not.
</p>
<p>Symbolic links are different from &ldquo;hard links&rdquo; in the sense that you
need permission to search the directories
in the linked-to file name to
dereference the link.  This can mean that even if you specify the
&lsquo;<samp>-L</samp>&rsquo; option, <code>find</code> may not be able to determine the
properties of the file that the link points to (because you don&rsquo;t have
sufficient permission).  In this situation, <code>find</code> uses the
properties of the link itself.  This also occurs if a symbolic link
exists but points to a file that is missing.
</p>
<p>The options controlling the behaviour of <code>find</code> with respect to
links are as follows:
</p>
<dl compact="compact">
<dt>&lsquo;<samp>-P</samp>&rsquo;</dt>
<dd><p><code>find</code> does not dereference symbolic links at all.  This is the
default behaviour.  This option must be specified before any of the
file names on the command line.
</p></dd>
<dt>&lsquo;<samp>-H</samp>&rsquo;</dt>
<dd><p><code>find</code> does not dereference symbolic links (except in the case of
file names on the command line, which are dereferenced).  If a
symbolic link cannot be dereferenced, the information for the symbolic
link itself is used.  This option must be specified before any of the
file names on the command line.
</p></dd>
<dt>&lsquo;<samp>-L</samp>&rsquo;</dt>
<dd><p><code>find</code> dereferences symbolic links where possible, and where this
is not possible it uses the properties of the symbolic link itself.
This option must be specified before any of the file names on the
command line.  Use of this option also implies the same behaviour as
the &lsquo;<samp>-noleaf</samp>&rsquo; option.  If you later use the &lsquo;<samp>-H</samp>&rsquo; or
&lsquo;<samp>-P</samp>&rsquo; options, this does not turn off &lsquo;<samp>-noleaf</samp>&rsquo;.
</p>
<p>Actions that can cause symbolic links to become broken while
&lsquo;<samp>find</samp>&rsquo; is executing (for example &lsquo;<samp>-delete</samp>&rsquo;) can give rise to
confusing behaviour.  Take for example the command line
&lsquo;<samp>find -L . -type d -delete</samp>&rsquo;.   This will delete empty
directories.  If a subtree includes only directories and symbolic
links to directoires, this command may still not successfully delete
it, since deletion of the target of the symbolic link will cause the
symbolic link to become broken and &lsquo;<samp>-type d</samp>&rsquo; is false for broken
symbolic links.
</p>
</dd>
<dt>&lsquo;<samp>-follow</samp>&rsquo;</dt>
<dd><p>This option forms part of the &ldquo;expression&rdquo; and must be specified
after the file names, but it is otherwise equivalent to &lsquo;<samp>-L</samp>&rsquo;.
The &lsquo;<samp>-follow</samp>&rsquo; option affects only those tests which appear after
it on the command line.  This option is deprecated.  Where possible,
you should use &lsquo;<samp>-L</samp>&rsquo; instead.
</p></dd>
</dl>

<p>The following differences in behaviour occur when the &lsquo;<samp>-L</samp>&rsquo; option
is used:
</p>
<ul>
<li> <code>find</code> follows symbolic links to directories when searching
directory trees.
</li><li> &lsquo;<samp>-lname</samp>&rsquo; and &lsquo;<samp>-ilname</samp>&rsquo; always return false (unless they
happen to match broken symbolic links).
</li><li> &lsquo;<samp>-type</samp>&rsquo; reports the types of the files that symbolic links point
to.  This means that in combination with &lsquo;<samp>-L</samp>&rsquo;, &lsquo;<samp>-type l</samp>&rsquo;
will be true only for broken symbolic links.  To check for symbolic
links when &lsquo;<samp>-L</samp>&rsquo; has been specified, use &lsquo;<samp>-xtype l</samp>&rsquo;.
</li><li> Implies &lsquo;<samp>-noleaf</samp>&rsquo; (see <a href="#Directories">Directories</a>).
</li></ul>

<p>If the &lsquo;<samp>-L</samp>&rsquo; option or the &lsquo;<samp>-H</samp>&rsquo; option is used,
the file names used as arguments to &lsquo;<samp>-newer</samp>&rsquo;, &lsquo;<samp>-anewer</samp>&rsquo;, and
&lsquo;<samp>-cnewer</samp>&rsquo; are dereferenced and the timestamp from the pointed-to
file is used instead (if possible &ndash; otherwise the timestamp from the
symbolic link is used).
</p>
<dl>
<dt id="index-_002dlname">Test: <strong>-lname</strong> <em>pattern</em></dt>
<dt id="index-_002dilname">Test: <strong>-ilname</strong> <em>pattern</em></dt>
<dd><p>True if the file is a symbolic link whose contents match shell pattern
<var>pattern</var>.  For &lsquo;<samp>-ilname</samp>&rsquo;, the match is case-insensitive.
See <a href="#Shell-Pattern-Matching">Shell Pattern Matching</a>, for details about the <var>pattern</var>
argument.  If the &lsquo;<samp>-L</samp>&rsquo; option is in effect, this test will always
return false for symbolic links unless they are broken.  So, to list
any symbolic links to <samp>sysdep.c</samp> in the current directory and its
subdirectories, you can do:
</p>
<div class="example">
<pre class="example">find . -lname '*sysdep.c'
</pre></div>
</dd></dl>

<hr>
<span id="Hard-Links"></span><div class="header">
<p>
Previous: <a href="#Symbolic-Links" accesskey="p" rel="prev">Symbolic Links</a>, Up: <a href="#Links" accesskey="u" rel="up">Links</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Hard-Links-1"></span><h4 class="subsection">2.4.2 Hard Links</h4>

<p>Hard links allow more than one name to refer to the same file on a
file system, i.e., to the same inode.  To find all the names which refer
to the same file as <var>name</var>, use &lsquo;<samp>-samefile NAME</samp>&rsquo;.
</p>
<dl>
<dt id="index-_002dsamefile">Test: <strong>-samefile</strong> <em>NAME</em></dt>
<dd><p>True if the file is a hard link to the same inode as <var>name</var>.
This implies that <var>name</var> and the file reside on the same file system,
i.e., they have the same device number.
</p>
<p>Unless the &lsquo;<samp>-L</samp>&rsquo; option is also given to follow symbolic links, one may
confine the search to one file system by using the &lsquo;<samp>-xdev</samp>&rsquo; option.
This is useful because hard links cannot point outside a single file system,
so this can cut down on needless searching.
</p>
<p>If the &lsquo;<samp>-L</samp>&rsquo; option is in effect, then dereferencing of symbolic links
applies both to the <var>name</var> argument of the &lsquo;<samp>-samefile</samp>&rsquo; primary and
to each file examined during the traversal of the directory hierarchy.
Therefore, &lsquo;<samp>find -L -samefile NAME</samp>&rsquo; will find both hard links and
symbolic links pointing to the file referenced by <var>name</var>.
</p></dd></dl>

<p><code>find</code> also allows searching for files by inode number.
</p>
<p>This can occasionally be useful in diagnosing problems with file systems;
for example, <code>fsck</code> and <code>lsof</code> tend to print inode numbers.
Inode numbers also occasionally turn up in log messages for some types of
software.
</p>
<p>You can learn a file&rsquo;s inode number and the number of links to it by
running &lsquo;<samp>ls -li</samp>&rsquo;, &lsquo;<samp>stat</samp>&rsquo; or &lsquo;<samp>find -ls</samp>&rsquo;.
</p>
<p>You can search for hard links to inode number NUM by using &lsquo;<samp>-inum
NUM</samp>&rsquo;. If there are any file system mount points below the directory
where you are starting the search, use the &lsquo;<samp>-xdev</samp>&rsquo; option unless
you are also using the &lsquo;<samp>-L</samp>&rsquo; option.  Using &lsquo;<samp>-xdev</samp>&rsquo; saves
needless searching, since hard links to a file must be on the
same file system.  See <a href="#Filesystems">Filesystems</a>.
</p>
<dl>
<dt id="index-_002dinum">Test: <strong>-inum</strong> <em>n</em></dt>
<dd><p>True if the file has inode number <var>n</var>.  The &lsquo;<samp>+</samp>&rsquo; and &lsquo;<samp>-</samp>&rsquo; qualifiers
also work, though these are rarely useful.
</p>
<p>Please note that the &lsquo;<samp>-inum</samp>&rsquo; primary simply compares the inode number
against the given <var>n</var>.
This means that a search for a certain inode number in several file systems
may return several files with that inode number, but as each file system has
its own device number, those files are not necessarily hard links to the
same file.
</p>
<p>Therefore, it is much of the time easier to use &lsquo;<samp>-samefile</samp>&rsquo; rather than
this option.
</p></dd></dl>

<p><code>find</code> also allows searching for files that have a certain number of
links, with &lsquo;<samp>-links</samp>&rsquo;.
</p>
<p>A directory normally has at least two hard links: the entry named in its parent
directory, and the <samp>.</samp> entry inside of the directory.
If a directory has subdirectories, each of those also has a hard link called
<samp>..</samp> to its parent directory.
</p>
<p>The <samp>.</samp> and <samp>..</samp> directory entries are not normally searched unless
they are mentioned on the <code>find</code> command line.
</p>
<dl>
<dt id="index-_002dlinks">Test: <strong>-links</strong> <em>n</em></dt>
<dd><p>File has <var>n</var> hard links.
</p></dd></dl>

<dl>
<dt id="index-_002dlinks-1">Test: <strong>-links</strong> <em>+n</em></dt>
<dd><p>File has more than <var>n</var> hard links.
</p></dd></dl>

<dl>
<dt id="index-_002dlinks-2">Test: <strong>-links</strong> <em>-n</em></dt>
<dd><p>File has fewer than <var>n</var> hard links.
</p></dd></dl>

<hr>
<span id="Time"></span><div class="header">
<p>
Next: <a href="#Size" accesskey="n" rel="next">Size</a>, Previous: <a href="#Links" accesskey="p" rel="prev">Links</a>, Up: <a href="#Finding-Files" accesskey="u" rel="up">Finding Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Time-1"></span><h3 class="section">2.5 Time</h3>

<p>Each file has three timestamps, which record the last time that
certain operations were performed on the file:
</p>
<ol>
<li> access (read the file&rsquo;s contents)
</li><li> change the status (modify the file or its attributes)
</li><li> modify (change the file&rsquo;s contents)
</li></ol>

<p>Some systems also provide a timestamp that indicates when a file was
<em>created</em>.   For example, the UFS2 filesystem under NetBSD-3.1
records the <em>birth time</em> of each file.  This information is also
available under other versions of BSD and some versions of Cygwin.
However, even on systems which support file birth time, files may
exist for which this information was not recorded (for example, UFS1
file systems simply do not contain this information).
</p>
<p>You can search for files whose timestamps are within a certain age
range, or compare them to other timestamps.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Age-Ranges" accesskey="1">Age Ranges</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Comparing-Timestamps" accesskey="2">Comparing Timestamps</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Age-Ranges"></span><div class="header">
<p>
Next: <a href="#Comparing-Timestamps" accesskey="n" rel="next">Comparing Timestamps</a>, Up: <a href="#Time" accesskey="u" rel="up">Time</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Age-Ranges-1"></span><h4 class="subsection">2.5.1 Age Ranges</h4>

<p>These tests are mainly useful with ranges (&lsquo;<samp>+<var>n</var></samp>&rsquo; and
&lsquo;<samp>-<var>n</var></samp>&rsquo;).
</p>
<dl>
<dt id="index-_002datime">Test: <strong>-atime</strong> <em>n</em></dt>
<dt id="index-_002dctime">Test: <strong>-ctime</strong> <em>n</em></dt>
<dt id="index-_002dmtime">Test: <strong>-mtime</strong> <em>n</em></dt>
<dd><p>True if the file was last accessed (or its status changed, or it was
modified) <var>n</var>*24 hours ago.  The number of 24-hour periods since
the file&rsquo;s timestamp is always rounded down; therefore 0 means &ldquo;less
than 24 hours ago&rdquo;, 1 means &ldquo;between 24 and 48 hours ago&rdquo;, and so
forth.  Fractional values are supported but this only really makes
sense for the case where ranges (&lsquo;<samp>+<var>n</var></samp>&rsquo; and &lsquo;<samp>-<var>n</var></samp>&rsquo;)
are used.
</p></dd></dl>

<dl>
<dt id="index-_002damin">Test: <strong>-amin</strong> <em>n</em></dt>
<dt id="index-_002dcmin">Test: <strong>-cmin</strong> <em>n</em></dt>
<dt id="index-_002dmmin">Test: <strong>-mmin</strong> <em>n</em></dt>
<dd><p>True if the file was last accessed (or its status changed, or it was
modified) <var>n</var> minutes ago.  These tests provide finer granularity
of measurement than &lsquo;<samp>-atime</samp>&rsquo; et al., but rounding is done in a
similar way (again, fractions are supported).  For example, to list
files in <samp>/u/bill</samp> that were last read from 2 to 6 minutes ago:
</p>
<div class="example">
<pre class="example">find /u/bill -amin +2 -amin -6
</pre></div>
</dd></dl>

<dl>
<dt id="index-_002ddaystart">Option: <strong>-daystart</strong></dt>
<dd><p>Measure times from the beginning of today rather than from 24 hours
ago.  So, to list the regular files in your home directory that were
modified yesterday, do
</p>
<div class="example">
<pre class="example">find ~/ -daystart -type f -mtime 1
</pre></div>

<p>The &lsquo;<samp>-daystart</samp>&rsquo; option is unlike most other options in that it
has an effect on the way that other tests are performed.  The affected
tests are &lsquo;<samp>-amin</samp>&rsquo;, &lsquo;<samp>-cmin</samp>&rsquo;, &lsquo;<samp>-mmin</samp>&rsquo;, &lsquo;<samp>-atime</samp>&rsquo;,
&lsquo;<samp>-ctime</samp>&rsquo; and &lsquo;<samp>-mtime</samp>&rsquo;.  The &lsquo;<samp>-daystart</samp>&rsquo; option only
affects the behaviour of any tests which appear after it on the
command line.
</p></dd></dl>

<hr>
<span id="Comparing-Timestamps"></span><div class="header">
<p>
Previous: <a href="#Age-Ranges" accesskey="p" rel="prev">Age Ranges</a>, Up: <a href="#Time" accesskey="u" rel="up">Time</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Comparing-Timestamps-1"></span><h4 class="subsection">2.5.2 Comparing Timestamps</h4>

<dl>
<dt id="index-_002dnewerXY">Test: <strong>-newerXY</strong> <em>reference</em></dt>
<dd><p>Succeeds if timestamp &lsquo;<samp>X</samp>&rsquo; of the file being considered is newer
than timestamp &lsquo;<samp>Y</samp>&rsquo; of the file <samp>reference</samp>.   The letters
&lsquo;<samp>X</samp>&rsquo; and &lsquo;<samp>Y</samp>&rsquo; can be any of the following letters:
</p>
<dl compact="compact">
<dt>&lsquo;<samp>a</samp>&rsquo;</dt>
<dd><p>Last-access time of <samp>reference</samp>
</p></dd>
<dt>&lsquo;<samp>B</samp>&rsquo;</dt>
<dd><p>Birth time of <samp>reference</samp> (when this is not known, the test cannot succeed)
</p></dd>
<dt>&lsquo;<samp>c</samp>&rsquo;</dt>
<dd><p>Last-change time of <samp>reference</samp>
</p></dd>
<dt>&lsquo;<samp>m</samp>&rsquo;</dt>
<dd><p>Last-modification time of <samp>reference</samp>
</p></dd>
<dt>&lsquo;<samp>t</samp>&rsquo;</dt>
<dd><p>The <samp>reference</samp> argument is interpreted as a literal time, rather
than the name of a file.  See <a href="#Date-input-formats">Date input formats</a>, for a description
of how the timestamp is understood.  Tests of the form &lsquo;<samp>-newerXt</samp>&rsquo;
are valid but tests of the form &lsquo;<samp>-newertY</samp>&rsquo; are not.
</p></dd>
</dl>

<p>For example the test <code>-newerac /tmp/foo</code> succeeds for all files
which have been accessed more recently than <samp>/tmp/foo</samp> was
changed.   Here &lsquo;<samp>X</samp>&rsquo; is &lsquo;<samp>a</samp>&rsquo; and &lsquo;<samp>Y</samp>&rsquo; is &lsquo;<samp>c</samp>&rsquo;.
</p>
<p>Not all files have a known birth time.  If &lsquo;<samp>Y</samp>&rsquo; is &lsquo;<samp>b</samp>&rsquo; and
the birth time of <samp>reference</samp> is not available, <code>find</code> exits
with an explanatory error message.  If &lsquo;<samp>X</samp>&rsquo; is &lsquo;<samp>b</samp>&rsquo; and we do
not know the birth time the file currently being considered, the test
simply fails (that is, it behaves like <code>-false</code> does).
</p>
<p>Some operating systems (for example, most implementations of Unix) do
not support file birth times.  Some others, for example NetBSD-3.1,
do.  Even on operating systems which support file birth times, the
information may not be available for specific files.  For example,
under NetBSD, file birth times are supported on UFS2 file systems, but
not UFS1 file systems.
</p>
</dd></dl>



<p>There are two ways to list files in <samp>/usr</samp> modified after
February 1 of the current year.  One uses &lsquo;<samp>-newermt</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">find /usr -newermt &quot;Feb 1&quot;
</pre></div>

<p>The other way of doing this works on the versions of find before 4.3.3:
</p>
<div class="example">
<pre class="example">touch -t 02010000 /tmp/stamp$$
find /usr -newer /tmp/stamp$$
rm -f /tmp/stamp$$
</pre></div>

<dl>
<dt id="index-_002danewer">Test: <strong>-anewer</strong> <em>reference</em></dt>
<dt id="index-_002dcnewer">Test: <strong>-cnewer</strong> <em>reference</em></dt>
<dt id="index-_002dnewer">Test: <strong>-newer</strong> <em>reference</em></dt>
<dd><p>True if the time of the last access (or status change or data modification)
of the current file is more recent than that of the last data modification
of the <var>reference</var> file.
As such, &lsquo;<samp>-anewer</samp>&rsquo; is equivalent to &lsquo;<samp>-neweram</samp>&rsquo;,
&lsquo;<samp>-cnewer</samp>&rsquo; to &lsquo;<samp>-newercm</samp>&rsquo;, and &lsquo;<samp>-newer</samp>&rsquo; to &lsquo;<samp>-newermm</samp>&rsquo;.
</p>
<p>If <var>reference</var> is a symbolic link and the &lsquo;<samp>-H</samp>&rsquo; option or the &lsquo;<samp>-L</samp>&rsquo;
option is in effect, then the time of the last data modification of the file
it points to is always used.
</p>
<p>These tests are affected by &lsquo;<samp>-follow</samp>&rsquo; only if &lsquo;<samp>-follow</samp>&rsquo; comes before
them on the command line.  See <a href="#Symbolic-Links">Symbolic Links</a>, for more information on
&lsquo;<samp>-follow</samp>&rsquo;.
</p>
<p>As an example, to list any files modified since
<samp>/bin/sh</samp> was last modified:
</p>
<div class="example">
<pre class="example">find . -newer /bin/sh
</pre></div>
</dd></dl>

<dl>
<dt id="index-_002dused">Test: <strong>-used</strong> <em>n</em></dt>
<dd><p>True if the file was last accessed <var>n</var> days after its status was
last changed.  Useful for finding files that are not being used, and
could perhaps be archived or removed to save disk space.
</p></dd></dl>

<hr>
<span id="Size"></span><div class="header">
<p>
Next: <a href="#Type" accesskey="n" rel="next">Type</a>, Previous: <a href="#Time" accesskey="p" rel="prev">Time</a>, Up: <a href="#Finding-Files" accesskey="u" rel="up">Finding Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Size-1"></span><h3 class="section">2.6 Size</h3>

<dl>
<dt id="index-_002dsize">Test: <strong>-size</strong> <em>n<span class="roman">[</span>bckwMG<span class="roman">]</span></em></dt>
<dd><p>True if the file uses <var>n</var> units of space, rounding up.  The units
are 512-byte blocks by default, but they can be changed by adding a
one-character suffix to <var>n</var>:
</p>
<dl compact="compact">
<dt><code>b</code></dt>
<dd><p>512-byte blocks (never 1024)
</p></dd>
<dt><code>c</code></dt>
<dd><p>bytes
</p></dd>
<dt><code>w</code></dt>
<dd><p>2-byte words
</p></dd>
<dt><code>k</code></dt>
<dd><p>Kibibytes (KiB, units of 1024 bytes)
</p></dd>
<dt><code>M</code></dt>
<dd><p>Mebibytes (MiB, units of 1024 * 1024 = 1048576 bytes)
</p></dd>
<dt><code>G</code></dt>
<dd><p>Gibibytes (GiB, units of 1024 * 1024 * 1024 = 1073741824 bytes)
</p></dd>
</dl>

<p>The &lsquo;b&rsquo; suffix always considers blocks to be 512 bytes.  This is not
affected by the setting (or non-setting) of the <code>POSIXLY_CORRECT</code>
environment variable.  This behaviour is different from the behaviour of
the &lsquo;<samp>-ls</samp>&rsquo; action).  If you want to use 1024-byte units, use the
&lsquo;k&rsquo; suffix instead.
</p>
<p>The number can be prefixed with a &lsquo;+&rsquo; or a &lsquo;-&rsquo;.  A plus sign indicates
that the test should succeed if the file uses at least <var>n</var> units
of storage (a common use of this test) and a minus sign
indicates that the test should succeed if the file uses less than
<var>n</var> units of storage; i.e., an exact size of <var>n</var> units does not match.
Bear in mind that the size is rounded up to
the next unit. Therefore &lsquo;<samp>-size -1M</samp>&rsquo; is not equivalent to
&lsquo;<samp>-size -1048576c</samp>&rsquo;. The former only matches empty files, the latter
matches files from 0 to 1,048,575 bytes.  There is no &lsquo;=&rsquo; prefix, because
that&rsquo;s the default anyway.
</p>
<p>The size is simply the st_size member of the struct stat populated by
the lstat (or stat) system call, rounded up as shown above.  In other words, it&rsquo;s
consistent with the result you get for &lsquo;<samp>ls -l</samp>&rsquo;.
This handling of sparse files differs from the output of the &lsquo;<samp>%k</samp>&rsquo;
and &lsquo;<samp>%b</samp>&rsquo; format specifiers for the &lsquo;<samp>-printf</samp>&rsquo; predicate.
</p>
</dd></dl>

<dl>
<dt id="index-_002dempty">Test: <strong>-empty</strong></dt>
<dd><p>True if the file is empty and is either a regular file or a directory.
This might help determine good candidates for deletion.  This test is
useful with &lsquo;<samp>-depth</samp>&rsquo; (see <a href="#Directories">Directories</a>) and &lsquo;<samp>-delete</samp>&rsquo;
(see <a href="#Single-File">Single File</a>).
</p></dd></dl>

<hr>
<span id="Type"></span><div class="header">
<p>
Next: <a href="#Owner" accesskey="n" rel="next">Owner</a>, Previous: <a href="#Size" accesskey="p" rel="prev">Size</a>, Up: <a href="#Finding-Files" accesskey="u" rel="up">Finding Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Type-1"></span><h3 class="section">2.7 Type</h3>

<dl>
<dt id="index-_002dtype">Test: <strong>-type</strong> <em>c</em></dt>
<dd><p>True if the file is of type <var>c</var>:
</p>
<dl compact="compact">
<dt><code>b</code></dt>
<dd><p>block (buffered) special
</p></dd>
<dt><code>c</code></dt>
<dd><p>character (unbuffered) special
</p></dd>
<dt><code>d</code></dt>
<dd><p>directory
</p></dd>
<dt><code>p</code></dt>
<dd><p>named pipe (FIFO)
</p></dd>
<dt><code>f</code></dt>
<dd><p>regular file
</p></dd>
<dt><code>l</code></dt>
<dd><p>symbolic link; if &lsquo;<samp>-L</samp>&rsquo; is in effect, this is true only for broken
symbolic links.  If you want to search for symbolic links when
&lsquo;<samp>-L</samp>&rsquo; is in effect, use &lsquo;<samp>-xtype</samp>&rsquo; instead of &lsquo;<samp>-type</samp>&rsquo;.
</p></dd>
<dt><code>s</code></dt>
<dd><p>socket
</p></dd>
<dt><code>D</code></dt>
<dd><p>door (Solaris)
</p></dd>
</dl>

<p>As a GNU extension, multiple file types can be provided as a combined list
separated by comma &lsquo;<samp>,</samp>&rsquo;. For example, &lsquo;<samp>-type f,d,l</samp>&rsquo; is logically
interpreted as &lsquo;<samp>( -type f -o -type d -o -type l )</samp>&rsquo;.
</p></dd></dl>

<dl>
<dt id="index-_002dxtype">Test: <strong>-xtype</strong> <em>c</em></dt>
<dd><p>This test behaves the same as &lsquo;<samp>-type</samp>&rsquo; unless the file is a
symbolic link.  If the file is a symbolic link, the result is as
follows (in the table below, &lsquo;<samp>X</samp>&rsquo; should be understood to
represent any letter except &lsquo;<samp>l</samp>&rsquo;):
</p>
<dl compact="compact">
<dt>&lsquo;<samp>&lsquo;<samp>-P -xtype l</samp>&rsquo;</samp>&rsquo;</dt>
<dd><p>True if the symbolic link is broken
</p></dd>
<dt>&lsquo;<samp>&lsquo;<samp>-P -xtype X</samp>&rsquo;</samp>&rsquo;</dt>
<dd><p>True if the (ultimate) target file is of type &lsquo;<samp>X</samp>&rsquo;.
</p></dd>
<dt>&lsquo;<samp>&lsquo;<samp>-L -xtype l</samp>&rsquo;</samp>&rsquo;</dt>
<dd><p>Always true
</p></dd>
<dt>&lsquo;<samp>&lsquo;<samp>-L -xtype X</samp>&rsquo;</samp>&rsquo;</dt>
<dd><p>False unless the symbolic link is broken
</p></dd>
</dl>

<p>In other words, for symbolic links, &lsquo;<samp>-xtype</samp>&rsquo; checks the type of
the file that &lsquo;<samp>-type</samp>&rsquo; does not check.
</p>
<p>The &lsquo;<samp>-H</samp>&rsquo; option also affects the behaviour of &lsquo;<samp>-xtype</samp>&rsquo;.
When &lsquo;<samp>-H</samp>&rsquo; is in effect, &lsquo;<samp>-xtype</samp>&rsquo; behaves as if &lsquo;<samp>-L</samp>&rsquo; had
been specified when examining files listed on the command line, and as
if &lsquo;<samp>-P</samp>&rsquo; had been specified otherwise.  If neither &lsquo;<samp>-H</samp>&rsquo; nor
&lsquo;<samp>-L</samp>&rsquo; was specified, &lsquo;<samp>-xtype</samp>&rsquo; behaves as if &lsquo;<samp>-P</samp>&rsquo; had
been specified.
</p>
<p>See <a href="#Symbolic-Links">Symbolic Links</a>, for more information on &lsquo;<samp>-follow</samp>&rsquo; and
&lsquo;<samp>-L</samp>&rsquo;.
</p></dd></dl>

<hr>
<span id="Owner"></span><div class="header">
<p>
Next: <a href="#Mode-Bits" accesskey="n" rel="next">Mode Bits</a>, Previous: <a href="#Type" accesskey="p" rel="prev">Type</a>, Up: <a href="#Finding-Files" accesskey="u" rel="up">Finding Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Owner-1"></span><h3 class="section">2.8 Owner</h3>

<dl>
<dt id="index-_002duser">Test: <strong>-user</strong> <em>uname</em></dt>
<dt id="index-_002dgroup">Test: <strong>-group</strong> <em>gname</em></dt>
<dd><p>True if the file is owned by user <var>uname</var> (belongs to group
<var>gname</var>).  A numeric ID is allowed.
</p></dd></dl>

<dl>
<dt id="index-_002duid">Test: <strong>-uid</strong> <em>n</em></dt>
<dt id="index-_002dgid">Test: <strong>-gid</strong> <em>n</em></dt>
<dd><p>True if the file&rsquo;s numeric user ID (group ID) is <var>n</var>.  These tests
support ranges (&lsquo;<samp>+<var>n</var></samp>&rsquo; and &lsquo;<samp>-<var>n</var></samp>&rsquo;), unlike
&lsquo;<samp>-user</samp>&rsquo; and &lsquo;<samp>-group</samp>&rsquo;.
</p></dd></dl>

<dl>
<dt id="index-_002dnouser">Test: <strong>-nouser</strong></dt>
<dt id="index-_002dnogroup">Test: <strong>-nogroup</strong></dt>
<dd><p>True if no user corresponds to the file&rsquo;s numeric user ID (no group
corresponds to the numeric group ID).  These cases usually mean that
the files belonged to users who have since been removed from the
system.  You probably should change the ownership of such files to an
existing user or group, using the <code>chown</code> or <code>chgrp</code>
program.
</p></dd></dl>

<hr>
<span id="Mode-Bits"></span><div class="header">
<p>
Next: <a href="#Contents" accesskey="n" rel="next">Contents</a>, Previous: <a href="#Owner" accesskey="p" rel="prev">Owner</a>, Up: <a href="#Finding-Files" accesskey="u" rel="up">Finding Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="File-Mode-Bits"></span><h3 class="section">2.9 File Mode Bits</h3>

<p>See <a href="#File-Permissions">File Permissions</a>, for information on how file mode bits are
structured and how to specify them.
</p>
<p>Four tests determine what users can do with files.  These are
&lsquo;<samp>-readable</samp>&rsquo;, &lsquo;<samp>-writable</samp>&rsquo;, &lsquo;<samp>-executable</samp>&rsquo; and
&lsquo;<samp>-perm</samp>&rsquo;.  The first three tests ask the operating system if the
current user can perform the relevant operation on a file, while
&lsquo;<samp>-perm</samp>&rsquo; just examines the file&rsquo;s mode.  The file mode may give
a misleading impression of what the user can actually do, because the
file may have an access control list, or exist on a read-only
filesystem, for example.  Of these four tests though, only
&lsquo;<samp>-perm</samp>&rsquo; is specified by the POSIX standard.
</p>
<p>The &lsquo;<samp>-readable</samp>&rsquo;, &lsquo;<samp>-writable</samp>&rsquo; and &lsquo;<samp>-executable</samp>&rsquo; tests
are implemented via the <code>access</code> system call.  This is
implemented within the operating system itself.  If the file being
considered is on an NFS filesystem, the remote system may allow or
forbid read or write operations for reasons of which the NFS client
cannot take account.  This includes user-ID mapping, either in the
general sense or the more restricted sense in which remote superusers
are treated by the NFS server as if they are the local user
&lsquo;<samp>nobody</samp>&rsquo; on the NFS server.
</p>
<p>None of the tests in this section should be used to verify that a user
is authorised to perform any operation (on the file being tested or
any other file) because of the possibility of a race condition.  That
is, the situation may change between the test and an action being
taken on the basis of the result of that test.
</p>

<dl>
<dt id="index-_002dreadable">Test: <strong>-readable</strong></dt>
<dd><p>True if the file can be read by the invoking user.
</p></dd></dl>

<dl>
<dt id="index-_002dwritable">Test: <strong>-writable</strong></dt>
<dd><p>True if the file can be written by the invoking user.  This is an
in-principle check, and other things may prevent a successful write
operation; for example, the filesystem might be full.
</p></dd></dl>

<dl>
<dt id="index-_002dexecutable">Test: <strong>-executable</strong></dt>
<dd><p>True if the file can be executed/searched by the invoking user.
</p></dd></dl>

<dl>
<dt id="index-_002dperm">Test: <strong>-perm</strong> <em>pmode</em></dt>
<dd>
<p>True if the file&rsquo;s mode bits match <var>pmode</var>, which can be
either a symbolic or numeric <var>mode</var> (see <a href="#File-Permissions">File Permissions</a>)
optionally prefixed by &lsquo;<samp>-</samp>&rsquo; or &lsquo;<samp>/</samp>&rsquo;.
</p>
<p>Note that <var>pmode</var> starts with all file mode bits cleared, i.e.,
does not relate to the process&rsquo;s file creation bit mask (also known
as <code>umask</code>).
</p>
<p>A <var>pmode</var> that starts with neither &lsquo;<samp>-</samp>&rsquo; nor &lsquo;<samp>/</samp>&rsquo; matches
if <var>mode</var> exactly matches the file mode bits.
(To avoid confusion with an obsolete GNU extension, <var>mode</var>
must not start with a &lsquo;<samp>+</samp>&rsquo; immediately followed by an octal digit.)
</p>
<p>A <var>pmode</var> that starts with &lsquo;<samp>-</samp>&rsquo; matches if
<em>all</em> the file mode bits set in <var>mode</var> are set for the file;
bits not set in <var>mode</var> are ignored.
</p>
<p>A <var>pmode</var> that starts with &lsquo;<samp>/</samp>&rsquo; matches if
<em>any</em> of the file mode bits set in <var>mode</var> are set for the file;
bits not set in <var>mode</var> are ignored.
This is a GNU extension.
</p>
<p>If you don&rsquo;t use the &lsquo;<samp>/</samp>&rsquo; or &lsquo;<samp>-</samp>&rsquo; form with a symbolic mode
string, you may have to specify a rather complex mode string.  For
example &lsquo;<samp>-perm g=w</samp>&rsquo; will only match files that have mode 0020
(that is, ones for which group write permission is the only file mode bit
set).  It is more likely that you will want to use the &lsquo;<samp>/</samp>&rsquo; or
&lsquo;<samp>-</samp>&rsquo; forms, for example &lsquo;<samp>-perm -g=w</samp>&rsquo;, which matches any file
with group write permission.
</p>

<dl compact="compact">
<dt>&lsquo;<samp>-perm 664</samp>&rsquo;</dt>
<dd><p>Match files that have read and write permission for their owner,
and group, but that the rest of the world can read but not write to.
Do not match files that meet these criteria but have other file mode
bits set (for example if someone can execute/search the file).
</p>
</dd>
<dt>&lsquo;<samp>-perm -664</samp>&rsquo;</dt>
<dd><p>Match files that have read and write permission for their owner,
and group, but that the rest of the world can read but not write to,
without regard to the presence of any extra file mode bits (for
example the executable bit).  This matches a file with mode
0777, for example.
</p>
</dd>
<dt>&lsquo;<samp>-perm /222</samp>&rsquo;</dt>
<dd><p>Match files that are writable by somebody (their owner, or
their group, or anybody else).
</p>
</dd>
<dt>&lsquo;<samp>-perm /022</samp>&rsquo;</dt>
<dd><p>Match files that are writable by their group or everyone else - the latter
often called <em>other</em>.  The files don&rsquo;t have to be writable by both the
group and other to be matched; either will do.
</p>
</dd>
<dt>&lsquo;<samp>-perm /g+w,o+w</samp>&rsquo;</dt>
<dd><p>As above.
</p>
</dd>
<dt>&lsquo;<samp>-perm /g=w,o=w</samp>&rsquo;</dt>
<dd><p>As above.
</p>
</dd>
<dt>&lsquo;<samp>-perm -022</samp>&rsquo;</dt>
<dd><p>Match files that are writable by both their group and everyone else.
</p>
</dd>
<dt>&lsquo;<samp>-perm -g+w,o+w</samp>&rsquo;</dt>
<dd><p>As above.
</p>
</dd>
<dt>&lsquo;<samp>-perm -444 -perm /222 ! -perm /111</samp>&rsquo;</dt>
<dd><p>Match files that are readable for everybody, have at least one
write bit set (i.e., somebody can write to them), but that cannot be
executed/searched by anybody.  Note that in some shells the &lsquo;<samp>!</samp>&rsquo; must be
escaped.
</p>
</dd>
<dt>&lsquo;<samp>-perm -a+r -perm /a+w ! -perm /a+x</samp>&rsquo;</dt>
<dd><p>As above.
</p>
</dd>
</dl>

<blockquote>
<p><b>Warning:</b> If you specify &lsquo;<samp>-perm /000</samp>&rsquo; or &lsquo;<samp>-perm /mode</samp>&rsquo; where the
symbolic mode &lsquo;<samp>mode</samp>&rsquo; has no bits set, the test matches all files.
Versions of GNU <code>find</code> prior to 4.3.3 matched no files in this
situation.
</p></blockquote>

</dd></dl>

<dl>
<dt id="index-_002dcontext">Test: <strong>-context</strong> <em>pattern</em></dt>
<dd><p>True if file&rsquo;s SELinux context matches the pattern <var>pattern</var>.
The pattern uses shell glob matching.
</p>
<p>This predicate is supported only on <code>find</code> versions compiled with
SELinux support and only when SELinux is enabled.
</p></dd></dl>

<hr>
<span id="Contents"></span><div class="header">
<p>
Next: <a href="#Directories" accesskey="n" rel="next">Directories</a>, Previous: <a href="#Mode-Bits" accesskey="p" rel="prev">Mode Bits</a>, Up: <a href="#Finding-Files" accesskey="u" rel="up">Finding Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Contents-1"></span><h3 class="section">2.10 Contents</h3>

<p>To search for files based on their contents, you can use the
<code>grep</code> program.  For example, to find out which C source files in
the current directory contain the string &lsquo;<samp>thing</samp>&rsquo;, you can do:
</p>
<div class="example">
<pre class="example">grep -l thing *.[ch]
</pre></div>

<p>If you also want to search for the string in files in subdirectories,
you can combine <code>grep</code> with <code>find</code> and <code>xargs</code>, like
this:
</p>
<div class="example">
<pre class="example">find . -name '*.[ch]' | xargs grep -l thing
</pre></div>

<p>The &lsquo;<samp>-l</samp>&rsquo; option causes <code>grep</code> to print only the names of
files that contain the string, rather than the lines that contain it.
The string argument (&lsquo;<samp>thing</samp>&rsquo;) is actually a regular expression,
so it can contain metacharacters.  This method can be refined a little
by using the &lsquo;<samp>-r</samp>&rsquo; option to make <code>xargs</code> not run <code>grep</code>
if <code>find</code> produces no output, and using the <code>find</code> action
&lsquo;<samp>-print0</samp>&rsquo; and the <code>xargs</code> option &lsquo;<samp>-0</samp>&rsquo; to avoid
misinterpreting files whose names contain spaces:
</p>
<div class="example">
<pre class="example">find . -name '*.[ch]' -print0 | xargs -r -0 grep -l thing
</pre></div>

<p>For a fuller treatment of finding files whose contents match a
pattern, see the manual page for <code>grep</code>.
</p>
<hr>
<span id="Directories"></span><div class="header">
<p>
Next: <a href="#Filesystems" accesskey="n" rel="next">Filesystems</a>, Previous: <a href="#Contents" accesskey="p" rel="prev">Contents</a>, Up: <a href="#Finding-Files" accesskey="u" rel="up">Finding Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Directories-1"></span><h3 class="section">2.11 Directories</h3>

<p>Here is how to control which directories <code>find</code> searches, and how
it searches them.  These two options allow you to process a horizontal
slice of a directory tree.
</p>
<dl>
<dt id="index-_002dmaxdepth">Option: <strong>-maxdepth</strong> <em>levels</em></dt>
<dd><p>Descend at most <var>levels</var> (a non-negative integer) levels of
directories below the command line arguments.  Using &lsquo;<samp>-maxdepth 0</samp>&rsquo;
means only apply the tests and actions to the command line arguments.
</p>
<div class="example">
<pre class="example">$ mkdir -p dir/d1/d2/d3/d4/d5/d6

$ find dir -maxdepth 1
dir
dir/d1

$ find dir -mindepth 5
dir/d1/d2/d3/d4/d5
dir/d1/d2/d3/d4/d5/d6

$ find dir -mindepth 2 -maxdepth 4
dir/d1/d2
dir/d1/d2/d3
dir/d1/d2/d3/d4
</pre></div>
</dd></dl>

<dl>
<dt id="index-_002dmindepth">Option: <strong>-mindepth</strong> <em>levels</em></dt>
<dd><p>Do not apply any tests or actions at levels less than <var>levels</var> (a
non-negative integer).  Using &lsquo;<samp>-mindepth 1</samp>&rsquo; means process all files
except the command line arguments.
</p>
<p>See &lsquo;<samp>-maxdepth</samp>&rsquo; for examples.
</p></dd></dl>

<dl>
<dt id="index-_002ddepth">Option: <strong>-depth</strong></dt>
<dd><p>Process each directory&rsquo;s contents before the directory itself.  Doing
this is a good idea when producing lists of files to archive with
<code>cpio</code> or <code>tar</code>.  If a directory does not have write
permission for its owner, its contents can still be restored from the
archive since the directory&rsquo;s permissions are restored after its
contents.
</p></dd></dl>

<dl>
<dt id="index-_002dd">Option: <strong>-d</strong></dt>
<dd><p>This is a deprecated synonym for &lsquo;<samp>-depth</samp>&rsquo;, for compatibility with
Mac OS X, FreeBSD and OpenBSD.  The &lsquo;<samp>-depth</samp>&rsquo; option is a POSIX
feature, so it is better to use that.
</p></dd></dl>

<dl>
<dt id="index-_002dprune">Action: <strong>-prune</strong></dt>
<dd><p>If the file is a directory, do not descend into it.  The result is
true.  For example, to skip the directory <samp>src/emacs</samp> and all
files and directories under it, and print the names of the other files
found:
</p>
<div class="example">
<pre class="example">find . -wholename './src/emacs' -prune -o -print
</pre></div>

<p>The above command will not print <samp>./src/emacs</samp> among its list of
results.  This however is not due to the effect of the &lsquo;<samp>-prune</samp>&rsquo;
action (which only prevents further descent, it doesn&rsquo;t make sure we
ignore that item).  Instead, this effect is due to the use of
&lsquo;<samp>-o</samp>&rsquo;.  Since the left hand side of the &ldquo;or&rdquo; condition has
succeeded for <samp>./src/emacs</samp>, it is not necessary to evaluate the
right-hand-side (&lsquo;<samp>-print</samp>&rsquo;) at all for this particular file.  If
you wanted to print that directory name you could use either an extra
&lsquo;<samp>-print</samp>&rsquo; action:
</p>
<div class="example">
<pre class="example">find . -wholename './src/emacs' -prune -print -o -print
</pre></div>

<p>or use the comma operator:
</p>
<div class="example">
<pre class="example">find . -wholename './src/emacs' -prune , -print
</pre></div>

<p>If the &lsquo;<samp>-depth</samp>&rsquo; option is in effect, the subdirectories will have
already been visited in any case.  Hence &lsquo;<samp>-prune</samp>&rsquo; has no effect
in this case.
</p>
<p>Because &lsquo;<samp>-delete</samp>&rsquo; implies &lsquo;<samp>-depth</samp>&rsquo;, using &lsquo;<samp>-prune</samp>&rsquo; in
combination with &lsquo;<samp>-delete</samp>&rsquo; may well result in the deletion of
more files than you intended.
</p></dd></dl>


<dl>
<dt id="index-_002dquit">Action: <strong>-quit</strong></dt>
<dd><p>Exit immediately (with return value zero if no errors have occurred).
This is different to &lsquo;<samp>-prune</samp>&rsquo; because &lsquo;<samp>-prune</samp>&rsquo; only applies
to the contents of pruned directories, while &lsquo;<samp>-quit</samp>&rsquo; simply makes
<code>find</code> stop immediately.  No child processes will be left
running.  Any command lines which have been built by &lsquo;<samp>-exec
... \+</samp>&rsquo; or &lsquo;<samp>-execdir ... \+</samp>&rsquo; are invoked before the program is
exited.  After &lsquo;<samp>-quit</samp>&rsquo; is executed, no more files specified on
the command line will be processed.  For example, &lsquo;<samp>find /tmp/foo
/tmp/bar -print -quit</samp>&rsquo; will print only &lsquo;<samp>/tmp/foo</samp>&rsquo;.  One common
use of &lsquo;<samp>-quit</samp>&rsquo; is to stop searching the file system once we have
found what we want.  For example, if we want to find just a single
file we can do this:
</p><div class="example">
<pre class="example">find / -name needle -print -quit
</pre></div>
</dd></dl>

<dl>
<dt id="index-_002dnoleaf">Option: <strong>-noleaf</strong></dt>
<dd><p>Do not optimize by assuming that directories contain 2 fewer
subdirectories than their hard link count.  This option is needed when
searching filesystems that do not follow the Unix directory-link
convention, such as CD-ROM or MS-DOS filesystems or AFS volume mount
points.  Each directory on a normal Unix filesystem has at least 2
hard links: its name and its <samp>.</samp>  entry.  Additionally, its
subdirectories (if any) each have a <samp>..</samp>  entry linked to that
directory.  When <code>find</code> is examining a directory, after it has
statted 2 fewer subdirectories than the directory&rsquo;s link count, it
knows that the rest of the entries in the directory are
non-directories (<em>leaf</em> files in the directory tree).  If only the
files&rsquo; names need to be examined, there is no need to stat them; this
gives a significant increase in search speed.
</p></dd></dl>

<dl>
<dt id="index-_002dignore_005freaddir_005frace">Option: <strong>-ignore_readdir_race</strong></dt>
<dd><p>If a file disappears after its name has been read from a directory but
before <code>find</code> gets around to examining the file with <code>stat</code>,
don&rsquo;t issue an error message.  If you don&rsquo;t specify this option, an
error message will be issued.
</p>
<p>Furthermore, <code>find</code> with the &lsquo;<samp>-ignore_readdir_race</samp>&rsquo; option
will ignore errors of the &lsquo;<samp>-delete</samp>&rsquo; action in the case the file
has disappeared since the parent directory was read: it will not output
an error diagnostic, and the return code of the &lsquo;<samp>-delete</samp>&rsquo; action
will be true.
</p>
<p>This option can be useful in system
scripts (cron scripts, for example) that examine areas of the
filesystem that change frequently (mail queues, temporary directories,
and so forth), because this scenario is common for those sorts of
directories.  Completely silencing error messages from <code>find</code> is
undesirable, so this option neatly solves the problem.  There is no
way to search one part of the filesystem with this option on and part
of it with this option off, though.  When this option is turned on and
find discovers that one of the start-point files specified on the
command line does not exist, no error message will be issued.
</p>
</dd></dl>

<dl>
<dt id="index-_002dnoignore_005freaddir_005frace">Option: <strong>-noignore_readdir_race</strong></dt>
<dd><p>This option reverses the effect of the &lsquo;<samp>-ignore_readdir_race</samp>&rsquo;
option.
</p></dd></dl>


<hr>
<span id="Filesystems"></span><div class="header">
<p>
Next: <a href="#Combining-Primaries-With-Operators" accesskey="n" rel="next">Combining Primaries With Operators</a>, Previous: <a href="#Directories" accesskey="p" rel="prev">Directories</a>, Up: <a href="#Finding-Files" accesskey="u" rel="up">Finding Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Filesystems-1"></span><h3 class="section">2.12 Filesystems</h3>

<p>A <em>filesystem</em> is a section of a disk, either on the local host or
mounted from a remote host over a network.  Searching network
filesystems can be slow, so it is common to make <code>find</code> avoid
them.
</p>
<p>There are two ways to avoid searching certain filesystems.  One way is
to tell <code>find</code> to only search one filesystem:
</p>
<dl>
<dt id="index-_002dxdev">Option: <strong>-xdev</strong></dt>
<dt id="index-_002dmount">Option: <strong>-mount</strong></dt>
<dd><p>Don&rsquo;t descend directories on other filesystems.  These options are
synonyms.
</p></dd></dl>

<p>The other way is to check the type of filesystem each file is on, and
not descend directories that are on undesirable filesystem types:
</p>
<dl>
<dt id="index-_002dfstype">Test: <strong>-fstype</strong> <em>type</em></dt>
<dd><p>True if the file is on a filesystem of type <var>type</var>.  The valid
filesystem types vary among different versions of Unix; an incomplete
list of filesystem types that are accepted on some version of Unix or
another is:
</p><div class="example">
<pre class="example">autofs ext3 ext4 fuse.sshfs nfs proc sshfs sysfs ufs tmpfs xfs
</pre></div>
<p>You can use &lsquo;<samp>-printf</samp>&rsquo; with the &lsquo;<samp>%F</samp>&rsquo; directive to see the
types of your filesystems.  The &lsquo;<samp>%D</samp>&rsquo; directive shows the device
number.  See <a href="#Print-File-Information">Print File Information</a>.  &lsquo;<samp>-fstype</samp>&rsquo; is usually
used with &lsquo;<samp>-prune</samp>&rsquo; to avoid searching remote filesystems
(see <a href="#Directories">Directories</a>).
</p></dd></dl>

<hr>
<span id="Combining-Primaries-With-Operators"></span><div class="header">
<p>
Previous: <a href="#Filesystems" accesskey="p" rel="prev">Filesystems</a>, Up: <a href="#Finding-Files" accesskey="u" rel="up">Finding Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Combining-Primaries-With-Operators-1"></span><h3 class="section">2.13 Combining Primaries With Operators</h3>

<p>Operators build a complex expression from tests and actions.
The operators are, in order of decreasing precedence:
</p>
<dl compact="compact">
<dt><code>( <var>expr</var> )</code></dt>
<dd><span id="index-_0028_0029"></span>
<p>Force precedence.  True if <var>expr</var> is true.
</p>
</dd>
<dt><code>! <var>expr</var></code></dt>
<dt><code>-not <var>expr</var></code></dt>
<dd><span id="index-_0021"></span>
<span id="index-_002dnot"></span>
<p>True if <var>expr</var> is false.  In some shells, it is necessary to
protect the &lsquo;<samp>!</samp>&rsquo; from shell interpretation by quoting it.
</p>
</dd>
<dt><code><var>expr1 expr2</var></code></dt>
<dt><code><var>expr1</var> -a <var>expr2</var></code></dt>
<dt><code><var>expr1</var> -and <var>expr2</var></code></dt>
<dd><span id="index-_002dand"></span>
<span id="index-_002da"></span>
<p>And; <var>expr2</var> is not evaluated if <var>expr1</var> is false.
</p>
</dd>
<dt><code><var>expr1</var> -o <var>expr2</var></code></dt>
<dt><code><var>expr1</var> -or <var>expr2</var></code></dt>
<dd><span id="index-_002dor"></span>
<span id="index-_002do"></span>
<p>Or; <var>expr2</var> is not evaluated if <var>expr1</var> is true.
</p>
</dd>
<dt><code><var>expr1</var> , <var>expr2</var></code></dt>
<dd><span id="index-_002c"></span>
<p>List; both <var>expr1</var> and <var>expr2</var> are always evaluated.  True if
<var>expr2</var> is true.  The value of <var>expr1</var> is discarded.  This
operator lets you do multiple independent operations on one traversal,
without depending on whether other operations succeeded.  The two
operations <var>expr1</var> and <var>expr2</var> are not always fully
independent, since <var>expr1</var> might have side effects like touching
or deleting files, or it might use &lsquo;<samp>-prune</samp>&rsquo; which would also
affect <var>expr2</var>.
</p></dd>
</dl>

<p><code>find</code> searches the directory tree rooted at each file name by
evaluating the expression from left to right, according to the rules
of precedence, until the outcome is known (the left hand side is false
for &lsquo;<samp>-and</samp>&rsquo;, true for &lsquo;<samp>-or</samp>&rsquo;), at which point <code>find</code>
moves on to the next file name.
</p>
<p>There are two other tests that can be useful in complex expressions:
</p>
<dl>
<dt id="index-_002dtrue">Test: <strong>-true</strong></dt>
<dd><p>Always true.
</p></dd></dl>

<dl>
<dt id="index-_002dfalse">Test: <strong>-false</strong></dt>
<dd><p>Always false.
</p></dd></dl>

<hr>
<span id="Actions"></span><div class="header">
<p>
Next: <a href="#Databases" accesskey="n" rel="next">Databases</a>, Previous: <a href="#Finding-Files" accesskey="p" rel="prev">Finding Files</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Actions-1"></span><h2 class="chapter">3 Actions</h2>

<p>There are several ways you can print information about the files that
match the criteria you gave in the <code>find</code> expression.  You can
print the information either to the standard output or to a file that
you name.  You can also execute commands that have the file names as
arguments.  You can use those commands as further filters to select
files.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Print-File-Name" accesskey="1">Print File Name</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Print-File-Information" accesskey="2">Print File Information</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Run-Commands" accesskey="3">Run Commands</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Delete-Files" accesskey="4">Delete Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Adding-Tests" accesskey="5">Adding Tests</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Print-File-Name"></span><div class="header">
<p>
Next: <a href="#Print-File-Information" accesskey="n" rel="next">Print File Information</a>, Up: <a href="#Actions" accesskey="u" rel="up">Actions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Print-File-Name-1"></span><h3 class="section">3.1 Print File Name</h3>

<dl>
<dt id="index-_002dprint">Action: <strong>-print</strong></dt>
<dd><p>True; print the entire file name on the standard output, followed by a
newline.  If there is the faintest possibility that one of the files
for which you are searching might contain a newline, you should use
&lsquo;<samp>-print0</samp>&rsquo; instead.
</p></dd></dl>

<dl>
<dt id="index-_002dfprint">Action: <strong>-fprint</strong> <em>file</em></dt>
<dd><p>True; print the entire file name into file <var>file</var>, followed by a
newline.  If <var>file</var> does not exist when <code>find</code> is run, it is
created; if it does exist, it is truncated to 0 bytes.  The named
output file is always created, even if no output is sent to it.  The
file names <samp>/dev/stdout</samp> and <samp>/dev/stderr</samp> are handled
specially; they refer to the standard output and standard error
output, respectively.
</p>
<p>If there is the faintest possibility that one of the files for which
you are searching might contain a newline, you should use
&lsquo;<samp>-fprint0</samp>&rsquo; instead.
</p></dd></dl>




<hr>
<span id="Print-File-Information"></span><div class="header">
<p>
Next: <a href="#Run-Commands" accesskey="n" rel="next">Run Commands</a>, Previous: <a href="#Print-File-Name" accesskey="p" rel="prev">Print File Name</a>, Up: <a href="#Actions" accesskey="u" rel="up">Actions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Print-File-Information-1"></span><h3 class="section">3.2 Print File Information</h3>

<dl>
<dt id="index-_002dls">Action: <strong>-ls</strong></dt>
<dd><p>True; list the current file in &lsquo;<samp>ls -dils</samp>&rsquo; format on the standard
output.  The output looks like this:
</p>
<div class="example">
<pre class="example">204744   17 -rw-r--r--   1 djm      staff       17337 Nov  2  1992 ./lwall-quotes
</pre></div>

<p>The fields are:
</p>
<ol>
<li> The inode number of the file.  See <a href="#Hard-Links">Hard Links</a>, for how to find
files based on their inode number.

</li><li> the number of blocks in the file.  The block counts are of 1K blocks,
unless the environment variable <code>POSIXLY_CORRECT</code> is set, in
which case 512-byte blocks are used.  See <a href="#Size">Size</a>, for how to find
files based on their size.

</li><li> The file&rsquo;s type and file mode bits.  The type is shown as a dash for a
regular file; for other file types, a letter like for &lsquo;<samp>-type</samp>&rsquo; is
used (see <a href="#Type">Type</a>).  The file mode bits are read, write, and execute/search for
the file&rsquo;s owner, its group, and other users, respectively; a dash
means the permission is not granted.  See <a href="#File-Permissions">File Permissions</a>, for
more details about file permissions.  See <a href="#Mode-Bits">Mode Bits</a>, for how to
find files based on their file mode bits.

</li><li> The number of hard links to the file.

</li><li> The user who owns the file.

</li><li> The file&rsquo;s group.

</li><li> The file&rsquo;s size in bytes.

</li><li> The date the file was last modified.

</li><li> The file&rsquo;s name.  &lsquo;<samp>-ls</samp>&rsquo; quotes non-printable characters in the
file names using C-like backslash escapes.  This may change soon, as
the treatment of unprintable characters is harmonised for &lsquo;<samp>-ls</samp>&rsquo;,
&lsquo;<samp>-fls</samp>&rsquo;, &lsquo;<samp>-print</samp>&rsquo;, &lsquo;<samp>-fprint</samp>&rsquo;, &lsquo;<samp>-printf</samp>&rsquo; and
&lsquo;<samp>-fprintf</samp>&rsquo;.
</li></ol>
</dd></dl>

<dl>
<dt id="index-_002dfls">Action: <strong>-fls</strong> <em>file</em></dt>
<dd><p>True; like &lsquo;<samp>-ls</samp>&rsquo; but write to <var>file</var> like &lsquo;<samp>-fprint</samp>&rsquo;
(see <a href="#Print-File-Name">Print File Name</a>).  The named output file is always created,
even if no output is sent to it.
</p></dd></dl>

<dl>
<dt id="index-_002dprintf">Action: <strong>-printf</strong> <em>format</em></dt>
<dd><p>True; print <var>format</var> on the standard output, interpreting &lsquo;<samp>\</samp>&rsquo;
escapes and &lsquo;<samp>%</samp>&rsquo; directives (more details in the following
sections).
</p>
<p>Field widths and precisions can be specified as with the <code>printf</code> C
function.  Format flags (like &lsquo;<samp>#</samp>&rsquo; for example) may not work as you
expect because many of the fields, even numeric ones, are printed with
%s.  Numeric flags which are affected in this way include &lsquo;<samp>G</samp>&rsquo;,
&lsquo;<samp>U</samp>&rsquo;, &lsquo;<samp>b</samp>&rsquo;, &lsquo;<samp>D</samp>&rsquo;, &lsquo;<samp>k</samp>&rsquo; and &lsquo;<samp>n</samp>&rsquo;.  This difference in
behaviour means though that the format flag &lsquo;<samp>-</samp>&rsquo; will work; it
forces left-alignment of the field.  Unlike &lsquo;<samp>-print</samp>&rsquo;,
&lsquo;<samp>-printf</samp>&rsquo; does not add a newline at the end of the string.  If you
want a newline at the end of the string, add a &lsquo;<samp>\n</samp>&rsquo;.
</p>
<p>As an example, an approximate equivalent of &lsquo;<samp>-ls</samp>&rsquo; with
null-terminated filenames can be achieved with this <code>-printf</code>
format:
</p>
<div class="example">
<pre class="example">find -printf &quot;%i %4k %M %3n %-8u %-8g %8s %T+ %p\n-&gt;%l\0&quot; | cat
</pre></div>

<p>A practical reason for doing this would be to get literal filenames in
the output, instead of &lsquo;<samp>-ls</samp>&rsquo;&rsquo;s backslash-escaped names.  (Using
<code>cat</code> here prevents this happening for the &lsquo;<samp>%p</samp>&rsquo; format
specifier; see <a href="#Unusual-Characters-in-File-Names">Unusual Characters in File Names</a>).  This format also
outputs a uniform timestamp format.
</p>
<p>As for symbolic links, the format above outputs the target of the symbolic link
on a second line, following &lsquo;<samp>\n-&gt;</samp>&rsquo;.  There is nothing following the arrow
for file types other than symbolic links.
Another approach, for complete consistency, would be to <code>-fprintf</code> the
symbolic links into a separate file, so they too can be null-terminated.
</p></dd></dl>

<dl>
<dt id="index-_002dfprintf">Action: <strong>-fprintf</strong> <em>file format</em></dt>
<dd><p>True; like &lsquo;<samp>-printf</samp>&rsquo; but write to <var>file</var> like &lsquo;<samp>-fprint</samp>&rsquo;
(see <a href="#Print-File-Name">Print File Name</a>).  The output file is always created, even if
no output is ever sent to it.
</p></dd></dl>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Escapes" accesskey="1">Escapes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Format-Directives" accesskey="2">Format Directives</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Time-Formats" accesskey="3">Time Formats</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Formatting-Flags" accesskey="4">Formatting Flags</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Escapes"></span><div class="header">
<p>
Next: <a href="#Format-Directives" accesskey="n" rel="next">Format Directives</a>, Up: <a href="#Print-File-Information" accesskey="u" rel="up">Print File Information</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Escapes-1"></span><h4 class="subsection">3.2.1 Escapes</h4>

<p>The escapes that &lsquo;<samp>-printf</samp>&rsquo; and &lsquo;<samp>-fprintf</samp>&rsquo; recognise are:
</p>
<dl compact="compact">
<dt><code>\a</code></dt>
<dd><p>Alarm bell.
</p></dd>
<dt><code>\b</code></dt>
<dd><p>Backspace.
</p></dd>
<dt><code>\c</code></dt>
<dd><p>Stop printing from this format immediately and flush the output.
</p></dd>
<dt><code>\f</code></dt>
<dd><p>Form feed.
</p></dd>
<dt><code>\n</code></dt>
<dd><p>Newline.
</p></dd>
<dt><code>\r</code></dt>
<dd><p>Carriage return.
</p></dd>
<dt><code>\t</code></dt>
<dd><p>Horizontal tab.
</p></dd>
<dt><code>\v</code></dt>
<dd><p>Vertical tab.
</p></dd>
<dt><code>\\</code></dt>
<dd><p>A literal backslash (&lsquo;<samp>\</samp>&rsquo;).
</p></dd>
<dt><code>\0</code></dt>
<dd><p>ASCII NUL.
</p></dd>
<dt><code>\NNN</code></dt>
<dd><p>The character whose ASCII code is NNN (octal).
</p></dd>
</dl>

<p>A &lsquo;<samp>\</samp>&rsquo; character followed by any other character is treated as an
ordinary character, so they both are printed, and a warning message is
printed to the standard error output (because it was probably a typo).
</p>
<hr>
<span id="Format-Directives"></span><div class="header">
<p>
Next: <a href="#Time-Formats" accesskey="n" rel="next">Time Formats</a>, Previous: <a href="#Escapes" accesskey="p" rel="prev">Escapes</a>, Up: <a href="#Print-File-Information" accesskey="u" rel="up">Print File Information</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Format-Directives-1"></span><h4 class="subsection">3.2.2 Format Directives</h4>

<p>&lsquo;<samp>-printf</samp>&rsquo; and &lsquo;<samp>-fprintf</samp>&rsquo; support the following format
directives to print information about the file being processed.  The C
<code>printf</code> function, field width and precision specifiers are
supported, as applied to string (%s) types. That is, you can specify
&quot;minimum field width&quot;.&quot;maximum field width&quot; for each directive.
Format flags (like &lsquo;<samp>#</samp>&rsquo; for example) may not work as you expect
because many of the fields, even numeric ones, are printed with %s.
The format flag &lsquo;<samp>-</samp>&rsquo; does work; it forces left-alignment of the
field.
</p>
<p>&lsquo;<samp>%%</samp>&rsquo; is a literal percent sign.  See <a href="#Reserved-and-Unknown-Directives">Reserved and Unknown Directives</a>, for a description of how format directives not mentioned
below are handled.
</p>
<p>A &lsquo;<samp>%</samp>&rsquo; at the end of the format argument causes undefined
behaviour since there is no following character.  In some locales, it
may hide your door keys, while in others it may remove the final page
from the novel you are reading.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Name-Directives" accesskey="1">Name Directives</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Ownership-Directives" accesskey="2">Ownership Directives</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Size-Directives" accesskey="3">Size Directives</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Location-Directives" accesskey="4">Location Directives</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Time-Directives" accesskey="5">Time Directives</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Other-Directives" accesskey="6">Other Directives</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Reserved-and-Unknown-Directives" accesskey="7">Reserved and Unknown Directives</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Name-Directives"></span><div class="header">
<p>
Next: <a href="#Ownership-Directives" accesskey="n" rel="next">Ownership Directives</a>, Up: <a href="#Format-Directives" accesskey="u" rel="up">Format Directives</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Name-Directives-1"></span><h4 class="subsubsection">3.2.2.1 Name Directives</h4>

<dl compact="compact">
<dt><code>%p</code></dt>
<dd><p>File&rsquo;s name (not the absolute path name, but the name of the file as
it was encountered by <code>find</code> - that is, as a relative path from
one of the starting points).
</p></dd>
<dt><code>%f</code></dt>
<dd><p>File&rsquo;s name with any leading directories removed (only the last
element).  That is, the basename of the file.
</p></dd>
<dt><code>%h</code></dt>
<dd><p>Leading directories of file&rsquo;s name (all but the last element and the
slash before it).  That is, the dirname of the file.  If the file&rsquo;s
name contains no slashes (for example because it was named on the
command line and is in the current working directory), then &ldquo;%h&rdquo;
expands to &ldquo;.&rdquo;.  This prevents &ldquo;%h/%f&rdquo; expanding to &ldquo;/foo&rdquo;,
which would be surprising and probably not desirable.
</p></dd>
<dt><code>%P</code></dt>
<dd><p>File&rsquo;s name with the name of the command line argument under which
it was found removed from the beginning.
</p></dd>
<dt><code>%H</code></dt>
<dd><p>Command line argument under which file was found.
</p></dd>
</dl>

<p>For some corner-cases, the interpretation of the &lsquo;<samp>%f</samp>&rsquo; and
&lsquo;<samp>%h</samp>&rsquo; format directives is not obvious.  Here is an example
including some output:
</p>
<div class="example">
<pre class="example">$ find \
  . .. / /tmp /tmp/TRACE compile compile/64/tests/find \
  -maxdepth 0 -printf '%p: [%h][%f]\n'
.: [.][.]
..: [.][..]
/: [][/]
/tmp: [][tmp]
/tmp/TRACE: [/tmp][TRACE]
compile: [.][compile]
compile/64/tests/find: [compile/64/tests][find]
</pre></div>

<hr>
<span id="Ownership-Directives"></span><div class="header">
<p>
Next: <a href="#Size-Directives" accesskey="n" rel="next">Size Directives</a>, Previous: <a href="#Name-Directives" accesskey="p" rel="prev">Name Directives</a>, Up: <a href="#Format-Directives" accesskey="u" rel="up">Format Directives</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Ownership-Directives-1"></span><h4 class="subsubsection">3.2.2.2 Ownership Directives</h4>

<dl compact="compact">
<dt><code>%g</code></dt>
<dd><p>File&rsquo;s group name, or numeric group ID if the group has no name.
</p></dd>
<dt><code>%G</code></dt>
<dd><p>File&rsquo;s numeric group ID.
</p></dd>
<dt><code>%u</code></dt>
<dd><p>File&rsquo;s user name, or numeric user ID if the user has no name.
</p></dd>
<dt><code>%U</code></dt>
<dd><p>File&rsquo;s numeric user ID.
</p></dd>
<dt><code>%m</code></dt>
<dd><p>File&rsquo;s mode bits (in octal).  If you always want to have a leading
zero on the number, use the &rsquo;#&rsquo; format flag, for example &rsquo;%#m&rsquo;.
</p>
<p>The file mode bit numbers used are the traditional Unix
numbers, which will be as expected on most systems, but if your
system&rsquo;s file mode bit layout differs from the traditional Unix
semantics, you will see a difference between the mode as printed by
&lsquo;<samp>%m</samp>&rsquo; and the mode as it appears in <code>struct stat</code>.
</p>
</dd>
<dt><code>%M</code></dt>
<dd><p>File&rsquo;s type and mode bits (in symbolic form, as for <code>ls</code>).  This
directive is supported in findutils 4.2.5 and later.
</p></dd>
</dl>

<hr>
<span id="Size-Directives"></span><div class="header">
<p>
Next: <a href="#Location-Directives" accesskey="n" rel="next">Location Directives</a>, Previous: <a href="#Ownership-Directives" accesskey="p" rel="prev">Ownership Directives</a>, Up: <a href="#Format-Directives" accesskey="u" rel="up">Format Directives</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Size-Directives-1"></span><h4 class="subsubsection">3.2.2.3 Size Directives</h4>

<dl compact="compact">
<dt><code>%k</code></dt>
<dd><p>The amount of disk space used for this file in 1K blocks. Since disk
space is allocated in multiples of the filesystem block size this is
usually greater than %s/1024, but it can also be smaller if the file
is a sparse file (that is, it has &ldquo;holes&rdquo;).
</p></dd>
<dt><code>%b</code></dt>
<dd><p>The amount of disk space used for this file in 512-byte blocks. Since
disk space is allocated in multiples of the filesystem block size this
is usually greater than %s/512, but it can also be smaller if the
file is a sparse file (that is, it has &ldquo;holes&rdquo;).
</p></dd>
<dt><code>%s</code></dt>
<dd><p>File&rsquo;s size in bytes.
</p></dd>
<dt><code>%S</code></dt>
<dd><p>File&rsquo;s sparseness.  This is calculated as <code>(BLOCKSIZE*st_blocks /
st_size)</code>.  The exact value you will get for an ordinary file of a
certain length is system-dependent.  However, normally sparse files
will have values less than 1.0, and files which use indirect blocks
and have few holes may have a value which is greater than 1.0.  The
value used for BLOCKSIZE is system-dependent, but is usually 512
bytes.  If the file size is zero, the value printed is undefined.  On
systems which lack support for st_blocks, a file&rsquo;s sparseness is
assumed to be 1.0.
</p></dd>
</dl>

<hr>
<span id="Location-Directives"></span><div class="header">
<p>
Next: <a href="#Time-Directives" accesskey="n" rel="next">Time Directives</a>, Previous: <a href="#Size-Directives" accesskey="p" rel="prev">Size Directives</a>, Up: <a href="#Format-Directives" accesskey="u" rel="up">Format Directives</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Location-Directives-1"></span><h4 class="subsubsection">3.2.2.4 Location Directives</h4>

<dl compact="compact">
<dt><code>%d</code></dt>
<dd><p>File&rsquo;s depth in the directory tree (depth below a file named on the
command line, not depth below the root directory).  Files named on the
command line have a depth of 0.  Subdirectories immediately below them
have a depth of 1, and so on.
</p></dd>
<dt><code>%D</code></dt>
<dd><p>The device number on which the file exists (the <code>st_dev</code> field of
<code>struct stat</code>), in decimal.
</p></dd>
<dt><code>%F</code></dt>
<dd><p>Type of the filesystem the file is on; this value can be used for
&lsquo;<samp>-fstype</samp>&rsquo; (see <a href="#Directories">Directories</a>).
</p></dd>
<dt><code>%l</code></dt>
<dd><p>Object of symbolic link (empty string if file is not a symbolic link).
</p></dd>
<dt><code>%i</code></dt>
<dd><p>File&rsquo;s inode number (in decimal).
</p></dd>
<dt><code>%n</code></dt>
<dd><p>Number of hard links to file.
</p></dd>
<dt><code>%y</code></dt>
<dd><p>Type of the file as used with &lsquo;<samp>-type</samp>&rsquo;.  If the file is a symbolic
link, &lsquo;<samp>l</samp>&rsquo; will be printed.
</p></dd>
<dt><code>%Y</code></dt>
<dd><p>Type of the file as used with &lsquo;<samp>-type</samp>&rsquo;.  If the file is a symbolic
link, it is dereferenced.  If the file is a broken symbolic link,
&lsquo;<samp>N</samp>&rsquo; is printed.
When determining the type of the target of a symbolic link, and a loop is
encountered, then &lsquo;<samp>L</samp>&rsquo; is printed (e.g. for a symbolic link to itself);
&lsquo;<samp>?</samp>&rsquo; is printed for any other error (like e.g. &lsquo;<samp>permission denied</samp>&rsquo;).
</p>
</dd>
</dl>

<hr>
<span id="Time-Directives"></span><div class="header">
<p>
Next: <a href="#Other-Directives" accesskey="n" rel="next">Other Directives</a>, Previous: <a href="#Location-Directives" accesskey="p" rel="prev">Location Directives</a>, Up: <a href="#Format-Directives" accesskey="u" rel="up">Format Directives</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Time-Directives-1"></span><h4 class="subsubsection">3.2.2.5 Time Directives</h4>

<p>Some of these directives use the C <code>ctime</code> function.  Its output
depends on the current locale, but it typically looks like
</p>
<div class="example">
<pre class="example">Wed Nov  2 00:42:36 1994
</pre></div>

<dl compact="compact">
<dt><code>%a</code></dt>
<dd><p>File&rsquo;s last access time in the format returned by the C <code>ctime</code>
function.
</p>
</dd>
<dt><code>%A<var>k</var></code></dt>
<dd><p>File&rsquo;s last access time in the format specified by <var>k</var>
(see <a href="#Time-Formats">Time Formats</a>).
</p>
</dd>
<dt><code>%B<var>k</var></code></dt>
<dd><p>File&rsquo;s birth time, i.e., its creation time, in the format specified by <var>k</var>
(see <a href="#Time-Formats">Time Formats</a>).
</p>
<p>This directive produces an empty string if the underlying operating system or
filesystem does not support birth times.
</p>
</dd>
<dt><code>%c</code></dt>
<dd><p>File&rsquo;s last status change time in the format returned by the C
<code>ctime</code> function.
</p>
</dd>
<dt><code>%C<var>k</var></code></dt>
<dd><p>File&rsquo;s last status change time in the format specified by <var>k</var>
(see <a href="#Time-Formats">Time Formats</a>).
</p>
</dd>
<dt><code>%t</code></dt>
<dd><p>File&rsquo;s last modification time in the format returned by the C
<code>ctime</code> function.
</p>
</dd>
<dt><code>%T<var>k</var></code></dt>
<dd><p>File&rsquo;s last modification time in the format specified by <var>k</var>
(see <a href="#Time-Formats">Time Formats</a>).
</p></dd>
</dl>

<hr>
<span id="Other-Directives"></span><div class="header">
<p>
Next: <a href="#Reserved-and-Unknown-Directives" accesskey="n" rel="next">Reserved and Unknown Directives</a>, Previous: <a href="#Time-Directives" accesskey="p" rel="prev">Time Directives</a>, Up: <a href="#Format-Directives" accesskey="u" rel="up">Format Directives</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Other-Directives-1"></span><h4 class="subsubsection">3.2.2.6 Other Directives</h4>

<dl compact="compact">
<dt><code>%Z</code></dt>
<dd><p>File&rsquo;s SELinux context, or empty string if the file has no SELinux context.
</p></dd>
</dl>

<hr>
<span id="Reserved-and-Unknown-Directives"></span><div class="header">
<p>
Previous: <a href="#Other-Directives" accesskey="p" rel="prev">Other Directives</a>, Up: <a href="#Format-Directives" accesskey="u" rel="up">Format Directives</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Reserved-and-Unknown-Directives-1"></span><h4 class="subsubsection">3.2.2.7 Reserved and Unknown Directives</h4>

<p>The &lsquo;<samp>%(</samp>&rsquo;, &lsquo;<samp>%{</samp>&rsquo; and &lsquo;<samp>%[</samp>&rsquo; format directives, with or
without field with and precision specifications, are reserved for
future use. Don&rsquo;t use them and don&rsquo;t rely on current experiment to
predict future behaviour.  To print &lsquo;<samp>(</samp>&rsquo;, simply use &lsquo;<samp>(</samp>&rsquo;
rather than &lsquo;<samp>%(</samp>&rsquo;.  Likewise for &lsquo;<samp>{</samp>&rsquo; and &lsquo;<samp>[</samp>&rsquo;.
</p>
<p>Similarly, a &lsquo;<samp>%</samp>&rsquo; character followed by any other unrecognised
character (i.e., not a known directive or <code>printf</code> field width
and precision specifier), is discarded (but the unrecognised character
is printed), and a warning message is printed to the standard error
output (because it was probably a typo).  Don&rsquo;t rely on this
behaviour, because other directives may be added in the future.
</p>

<hr>
<span id="Time-Formats"></span><div class="header">
<p>
Next: <a href="#Formatting-Flags" accesskey="n" rel="next">Formatting Flags</a>, Previous: <a href="#Format-Directives" accesskey="p" rel="prev">Format Directives</a>, Up: <a href="#Print-File-Information" accesskey="u" rel="up">Print File Information</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Time-Formats-1"></span><h4 class="subsection">3.2.3 Time Formats</h4>

<p>Below is an incomplete list of formats for the directives &lsquo;<samp>%A</samp>&rsquo;, &lsquo;<samp>%B</samp>&rsquo;,
&lsquo;<samp>%C</samp>&rsquo;, and &lsquo;<samp>%T</samp>&rsquo;, which print the file&rsquo;s timestamps.
Please refer to the documentation of <code>strftime</code> for the full list.
Some of these formats might not be available on all systems, due to differences
in the implementation of the C <code>strftime</code> function.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Time-Components" accesskey="1">Time Components</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Date-Components" accesskey="2">Date Components</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Combined-Time-Formats" accesskey="3">Combined Time Formats</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Time-Components"></span><div class="header">
<p>
Next: <a href="#Date-Components" accesskey="n" rel="next">Date Components</a>, Up: <a href="#Time-Formats" accesskey="u" rel="up">Time Formats</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Time-Components-1"></span><h4 class="subsubsection">3.2.3.1 Time Components</h4>

<p>The following format directives print single components of the time.
</p>
<dl compact="compact">
<dt><code>H</code></dt>
<dd><p>hour (00..23)
</p></dd>
<dt><code>I</code></dt>
<dd><p>hour (01..12)
</p></dd>
<dt><code>k</code></dt>
<dd><p>hour ( 0..23)
</p></dd>
<dt><code>l</code></dt>
<dd><p>hour ( 1..12)
</p></dd>
<dt><code>p</code></dt>
<dd><p>locale&rsquo;s AM or PM
</p></dd>
<dt><code>Z</code></dt>
<dd><p>time zone (e.g., EDT), or nothing if no time zone is determinable
</p></dd>
<dt><code>M</code></dt>
<dd><p>minute (00..59)
</p></dd>
<dt><code>S</code></dt>
<dd><p>second (00..61).  There is a fractional part.
</p></dd>
<dt><code>@</code></dt>
<dd><p>seconds since Jan. 1, 1970, 00:00 GMT, with fractional part.
</p></dd>
</dl>

<p>The fractional part of the seconds field is of indeterminate length
and precision.  That is, the length of the fractional part of the
seconds field will in general vary between findutils releases and
between systems.  This means that it is unwise to assume that field
has any specific length.  The length of this field is not usually a
guide to the precision of timestamps in the underlying file system.
</p>


<hr>
<span id="Date-Components"></span><div class="header">
<p>
Next: <a href="#Combined-Time-Formats" accesskey="n" rel="next">Combined Time Formats</a>, Previous: <a href="#Time-Components" accesskey="p" rel="prev">Time Components</a>, Up: <a href="#Time-Formats" accesskey="u" rel="up">Time Formats</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Date-Components-1"></span><h4 class="subsubsection">3.2.3.2 Date Components</h4>

<p>The following format directives print single components of the date.
</p>
<dl compact="compact">
<dt><code>a</code></dt>
<dd><p>locale&rsquo;s abbreviated weekday name (Sun..Sat)
</p></dd>
<dt><code>A</code></dt>
<dd><p>locale&rsquo;s full weekday name, variable length (Sunday..Saturday)
</p></dd>
<dt><code>b</code></dt>
<dt><code>h</code></dt>
<dd><p>locale&rsquo;s abbreviated month name (Jan..Dec)
</p></dd>
<dt><code>B</code></dt>
<dd><p>locale&rsquo;s full month name, variable length (January..December)
</p></dd>
<dt><code>m</code></dt>
<dd><p>month (01..12)
</p></dd>
<dt><code>d</code></dt>
<dd><p>day of month (01..31)
</p></dd>
<dt><code>w</code></dt>
<dd><p>day of week (0..6)
</p></dd>
<dt><code>j</code></dt>
<dd><p>day of year (001..366)
</p></dd>
<dt><code>U</code></dt>
<dd><p>week number of year with Sunday as first day of week (00..53)
</p></dd>
<dt><code>W</code></dt>
<dd><p>week number of year with Monday as first day of week (00..53)
</p></dd>
<dt><code>Y</code></dt>
<dd><p>year (1970&hellip;)
</p></dd>
<dt><code>y</code></dt>
<dd><p>last two digits of year (00..99)
</p></dd>
</dl>

<hr>
<span id="Combined-Time-Formats"></span><div class="header">
<p>
Previous: <a href="#Date-Components" accesskey="p" rel="prev">Date Components</a>, Up: <a href="#Time-Formats" accesskey="u" rel="up">Time Formats</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Combined-Time-Formats-1"></span><h4 class="subsubsection">3.2.3.3 Combined Time Formats</h4>

<p>The following format directives print combinations of time and date
components.
</p>
<dl compact="compact">
<dt><code>r</code></dt>
<dd><p>time, 12-hour (hh:mm:ss [AP]M)
</p></dd>
<dt><code>T</code></dt>
<dd><p>time, 24-hour (hh:mm:ss.xxxxxxxxxx)
</p></dd>
<dt><code>X</code></dt>
<dd><p>locale&rsquo;s time representation (H:M:S).  The seconds field includes a
fractional part.
</p></dd>
<dt><code>c</code></dt>
<dd><p>locale&rsquo;s date and time in ctime format (Sat Nov 04 12:02:33 EST
1989).  This format does not include any fractional part in the
seconds field.
</p></dd>
<dt><code>D</code></dt>
<dd><p>date (mm/dd/yy)
</p></dd>
<dt><code>F</code></dt>
<dd><p>date (yyyy-mm-dd)
</p></dd>
<dt><code>x</code></dt>
<dd><p>locale&rsquo;s date representation (mm/dd/yy)
</p></dd>
<dt><code>+</code></dt>
<dd><p>Date and time, separated by &rsquo;+&rsquo;, for example
&lsquo;2004-04-28+22:22:05.0000000000&rsquo;.
The time is given in the current timezone (which may be affected by
setting the <code>TZ</code> environment variable).  This is a GNU extension.  The
seconds field includes a fractional part.
</p></dd>
</dl>

<hr>
<span id="Formatting-Flags"></span><div class="header">
<p>
Previous: <a href="#Time-Formats" accesskey="p" rel="prev">Time Formats</a>, Up: <a href="#Print-File-Information" accesskey="u" rel="up">Print File Information</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Formatting-Flags-1"></span><h4 class="subsection">3.2.4 Formatting Flags</h4>

<p>The &lsquo;<samp>%m</samp>&rsquo; and &lsquo;<samp>%d</samp>&rsquo; directives support the &lsquo;<samp>#</samp>&rsquo;, &lsquo;<samp>0</samp>&rsquo;
and &lsquo;<samp>+</samp>&rsquo; flags, but the other directives do not, even if they
print numbers.  Numeric directives that do not support these flags
include
</p>
<p>&lsquo;<samp>G</samp>&rsquo;,
&lsquo;<samp>U</samp>&rsquo;,
&lsquo;<samp>b</samp>&rsquo;,
&lsquo;<samp>D</samp>&rsquo;,
&lsquo;<samp>k</samp>&rsquo; and
&lsquo;<samp>n</samp>&rsquo;.
</p>
<p>All fields support the format flag &lsquo;<samp>-</samp>&rsquo;, which makes fields
left-aligned.  That is, if the field width is greater than the actual
contents of the field, the requisite number of spaces are printed
after the field content instead of before it.
</p>
<hr>
<span id="Run-Commands"></span><div class="header">
<p>
Next: <a href="#Delete-Files" accesskey="n" rel="next">Delete Files</a>, Previous: <a href="#Print-File-Information" accesskey="p" rel="prev">Print File Information</a>, Up: <a href="#Actions" accesskey="u" rel="up">Actions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Run-Commands-1"></span><h3 class="section">3.3 Run Commands</h3>

<p>You can use the list of file names created by <code>find</code> or
<code>locate</code> as arguments to other commands.  In this way you can
perform arbitrary actions on the files.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Single-File" accesskey="1">Single File</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Multiple-Files" accesskey="2">Multiple Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Querying" accesskey="3">Querying</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Single-File"></span><div class="header">
<p>
Next: <a href="#Multiple-Files" accesskey="n" rel="next">Multiple Files</a>, Up: <a href="#Run-Commands" accesskey="u" rel="up">Run Commands</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Single-File-1"></span><h4 class="subsection">3.3.1 Single File</h4>

<p>Here is how to run a command on one file at a time.
</p>
<dl>
<dt id="index-_002dexecdir">Action: <strong>-execdir</strong> <em>command ;</em></dt>
<dd><p>Execute <var>command</var>; true if <var>command</var> returns zero.  <code>find</code>
takes all arguments after &lsquo;<samp>-execdir</samp>&rsquo; to be part of the command until
an argument consisting of &lsquo;<samp>;</samp>&rsquo; is reached.  It replaces the string
&lsquo;<samp>{}</samp>&rsquo; by the current file name being processed everywhere it
occurs in the command.  Both of these constructions need to be escaped
(with a &lsquo;<samp>\</samp>&rsquo;) or quoted to protect them from expansion by the
shell.  The command is executed in the directory which <code>find</code>
was searching at the time the action was executed (that is, {} will
expand to a file in the local directory).
</p>
<p>For example, to compare each C header file in or below the current
directory with the file <samp>/tmp/master</samp>:
</p>
<div class="example">
<pre class="example">find . -name '*.h' -execdir diff -u '{}' /tmp/master ';'
</pre></div>
</dd></dl>

<p>If you use &lsquo;<samp>-execdir</samp>&rsquo;, you must ensure that the <code>PATH</code>
variable contains only absolute directory names.  Having an empty
element in <code>PATH</code> or explicitly including &lsquo;<samp>.</samp>&rsquo; (or any other
non-absolute name) is insecure.  GNU find will refuse to run if you
use &lsquo;<samp>-execdir</samp>&rsquo; and it thinks your <code>PATH</code> setting is
insecure.  For example:
</p>
<dl compact="compact">
<dt>&lsquo;<samp>/bin:/usr/bin:</samp>&rsquo;</dt>
<dd><p>Insecure; empty path element (at the end)
</p></dd>
<dt>&lsquo;<samp>:/bin:/usr/bin:/usr/local/bin</samp>&rsquo;</dt>
<dd><p>Insecure; empty path element (at the start)
</p></dd>
<dt>&lsquo;<samp>/bin:/usr/bin::/usr/local/bin</samp>&rsquo;</dt>
<dd><p>Insecure; empty path element (two colons in a row)
</p></dd>
<dt>&lsquo;<samp>/bin:/usr/bin:.:/usr/local/bin</samp>&rsquo;</dt>
<dd><p>Insecure; &lsquo;<samp>.</samp>&rsquo; is a path element (<samp>.</samp> is not an absolute file name)
</p></dd>
<dt>&lsquo;<samp>/bin:/usr/bin:sbin:/usr/local/bin</samp>&rsquo;</dt>
<dd><p>Insecure; &lsquo;<samp>sbin</samp>&rsquo; is not an absolute file name
</p></dd>
<dt>&lsquo;<samp>/bin:/usr/bin:/sbin:/usr/local/bin</samp>&rsquo;</dt>
<dd><p>Secure (if you control the contents of those directories and any access to them)
</p></dd>
</dl>

<p>Another similar option, &lsquo;<samp>-exec</samp>&rsquo; is supported, but is less secure.
See <a href="#Security-Considerations">Security Considerations</a>, for a discussion of the security
problems surrounding &lsquo;<samp>-exec</samp>&rsquo;.
</p>

<dl>
<dt id="index-_002dexec">Action: <strong>-exec</strong> <em>command ;</em></dt>
<dd><p>This insecure variant of the &lsquo;<samp>-execdir</samp>&rsquo; action is specified by
POSIX.  Like &lsquo;<samp>-execdir command ;</samp>&rsquo; it is true if zero is
returned by <var>command</var>. The main difference is that the command is
executed in the directory from which <code>find</code> was invoked, meaning
that &lsquo;<samp>{}</samp>&rsquo; is expanded to a relative path starting with the name
of one of the starting directories, rather than just the basename of
the matched file.
</p>
<p>While some implementations of <code>find</code> replace the &lsquo;<samp>{}</samp>&rsquo; only
where it appears on its own in an argument, GNU <code>find</code> replaces
&lsquo;<samp>{}</samp>&rsquo; wherever it appears.
</p></dd></dl>


<hr>
<span id="Multiple-Files"></span><div class="header">
<p>
Next: <a href="#Querying" accesskey="n" rel="next">Querying</a>, Previous: <a href="#Single-File" accesskey="p" rel="prev">Single File</a>, Up: <a href="#Run-Commands" accesskey="u" rel="up">Run Commands</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Multiple-Files-1"></span><h4 class="subsection">3.3.2 Multiple Files</h4>

<p>Sometimes you need to process files one at a time.  But usually this
is not necessary, and, it is faster to run a command on as many files
as possible at a time, rather than once per file.  Doing this saves on
the time it takes to start up the command each time.
</p>
<p>The &lsquo;<samp>-execdir</samp>&rsquo; and &lsquo;<samp>-exec</samp>&rsquo; actions have variants that build
command lines containing as many matched files as possible.
</p>
<dl>
<dt id="index-_002dexecdir-1">Action: <strong>-execdir</strong> <em>command {} +</em></dt>
<dd><p>This works as for &lsquo;<samp>-execdir command ;</samp>&rsquo;, except that the result is
always true, and the &lsquo;<samp>{}</samp>&rsquo; at the end of the command is expanded
to a list of names of matching files.  This expansion is done in such
a way as to avoid exceeding the maximum command line length available
on the system.  Only one &lsquo;<samp>{}</samp>&rsquo; is allowed within the command,
and it must appear at the end, immediately before the &lsquo;<samp>+</samp>&rsquo;.  A
&lsquo;<samp>+</samp>&rsquo; appearing in any position other than immediately after
&lsquo;<samp>{}</samp>&rsquo; is not considered to be special (that is, it does not
terminate the command).
</p></dd></dl>


<dl>
<dt id="index-_002dexec-1">Action: <strong>-exec</strong> <em>command {} +</em></dt>
<dd><p>This insecure variant of the &lsquo;<samp>-execdir</samp>&rsquo; action is specified by
POSIX.  The main difference is that the command is executed in the
directory from which <code>find</code> was invoked, meaning that &lsquo;<samp>{}</samp>&rsquo;
is expanded to a relative path starting with the name of one of the
starting directories, rather than just the basename of the matched
file.  The result is always true.
</p></dd></dl>

<p>Before <code>find</code> exits, any partially-built command lines are
executed.  This happens even if the exit was caused by the
&lsquo;<samp>-quit</samp>&rsquo; action.  However, some types of error (for example not
being able to invoke <code>stat()</code> on the current directory) can cause
an immediate fatal exit.  In this situation, any partially-built
command lines will not be invoked (this prevents possible infinite
loops).
</p>
<p>At first sight, it looks like the list of filenames to be processed
can only be at the end of the command line, and that this might be a
problem for some commands (<code>cp</code> and <code>rsync</code> for example).
</p>
<p>However, there is a slightly obscure but powerful workaround for this
problem which takes advantage of the behaviour of <code>sh -c</code>:
</p>
<div class="example">
<pre class="example">find startpoint -tests &hellip; -exec sh -c 'scp &quot;$@&quot; remote:/dest' sh {} +
</pre></div>

<p>In the example above, the filenames we want to work on need to occur
on the <code>scp</code> command line before the name of the destination.  We
use the shell to invoke the command <code>scp &quot;$@&quot; remote:/dest</code> and
the shell expands <code>&quot;$@&quot;</code> to the list of filenames we want to
process.
</p>
<p>Another, but less secure, way to run a command on more than one file
at once, is to use the <code>xargs</code> command, which is invoked like
this:
</p>
<div class="example">
<pre class="example">xargs <span class="roman">[</span><var>option</var>&hellip;<span class="roman">]</span> <span class="roman">[</span><var>command</var> <span class="roman">[</span><var>initial-arguments</var><span class="roman">]</span><span class="roman">]</span>
</pre></div>

<p><code>xargs</code> normally reads arguments from the standard input.  These
arguments are delimited by blanks (which can be protected with double
or single quotes or a backslash) or newlines.  It executes the
<var>command</var> (the default is <samp>echo</samp>) one or more times with any
<var>initial-arguments</var> followed by arguments read from standard
input.  Blank lines on the standard input are ignored.  If the
&lsquo;<samp>-L</samp>&rsquo; option is in use, trailing blanks indicate that <code>xargs</code>
should consider the following line to be part of this one.
</p>
<p>Instead of blank-delimited names, it is safer to use &lsquo;<samp>find
-print0</samp>&rsquo; or &lsquo;<samp>find -fprint0</samp>&rsquo; and process the output by giving the
&lsquo;<samp>-0</samp>&rsquo; or &lsquo;<samp>--null</samp>&rsquo; option to GNU <code>xargs</code>, GNU <code>tar</code>,
GNU <code>cpio</code>, or <code>perl</code>.  The <code>locate</code> command also has a
&lsquo;<samp>-0</samp>&rsquo; or &lsquo;<samp>--null</samp>&rsquo; option which does the same thing.
</p>
<p>You can use shell command substitution (backquotes) to process a list
of arguments, like this:
</p>
<div class="example">
<pre class="example">grep -l sprintf `find $HOME -name '*.c' -print`
</pre></div>

<p>However, that method produces an error if the length of the &lsquo;<samp>.c</samp>&rsquo;
file names exceeds the operating system&rsquo;s command line length limit.
<code>xargs</code> avoids that problem by running the command as many times
as necessary without exceeding the limit:
</p>
<div class="example">
<pre class="example">find $HOME -name '*.c' -print | xargs grep -l sprintf
</pre></div>

<p>However, if the command needs to have its standard input be a terminal
(<code>less</code>, for example), you have to use the shell command
substitution method or use either the &lsquo;<samp>--arg-file</samp>&rsquo; option or the
&lsquo;<samp>--open-tty</samp>&rsquo; option of <code>xargs</code>.
</p>
<p>The <code>xargs</code> command will process all its input, building command
lines and executing them, unless one of the commands exits with a
status of 255 (this will cause xargs to issue an error message and
stop) or it reads a line contains the end of file string specified
with the &lsquo;<samp>--eof</samp>&rsquo; option.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Unsafe-File-Name-Handling" accesskey="1">Unsafe File Name Handling</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Safe-File-Name-Handling" accesskey="2">Safe File Name Handling</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Unusual-Characters-in-File-Names" accesskey="3">Unusual Characters in File Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Limiting-Command-Size" accesskey="4">Limiting Command Size</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Controlling-Parallelism" accesskey="5">Controlling Parallelism</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Interspersing-File-Names" accesskey="6">Interspersing File Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Unsafe-File-Name-Handling"></span><div class="header">
<p>
Next: <a href="#Safe-File-Name-Handling" accesskey="n" rel="next">Safe File Name Handling</a>, Up: <a href="#Multiple-Files" accesskey="u" rel="up">Multiple Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Unsafe-File-Name-Handling-1"></span><h4 class="subsubsection">3.3.2.1 Unsafe File Name Handling</h4>

<p>Because file names can contain quotes, backslashes, blank characters,
and even newlines, it is not safe to process them using <code>xargs</code>
in its default mode of operation.  But since most files&rsquo; names do not
contain blanks, this problem occurs only infrequently.  If you are
only searching through files that you know have safe names, then you
need not be concerned about it.
</p>
<p>Error messages issued by <code>find</code> and <code>locate</code> quote unusual
characters in file names in order to prevent unwanted changes in the
terminal&rsquo;s state.
</p>

<p>In many applications, if <code>xargs</code> botches processing a file
because its name contains special characters, some data might be lost.
The importance of this problem depends on the importance of the data
and whether anyone notices the loss soon enough to correct it.
However, here is an extreme example of the problems that using
blank-delimited names can cause.  If the following command is run
daily from <code>cron</code>, then any user can remove any file on the
system:
</p>
<div class="example">
<pre class="example">find / -name '#*' -atime +7 -print | xargs rm
</pre></div>

<p>For example, you could do something like this:
</p>
<div class="example">
<pre class="example">eg$ echo &gt; '#
vmunix'
</pre></div>

<p>and then <code>cron</code> would delete <samp>/vmunix</samp>, if it ran
<code>xargs</code> with <samp>/</samp> as its current directory.
</p>
<p>To delete other files, for example <samp>/u/joeuser/.plan</samp>, you could
do this:
</p>
<div class="example">
<pre class="example">eg$ mkdir '#
'
eg$ cd '#
'
eg$ mkdir u u/joeuser u/joeuser/.plan'
'
eg$ echo &gt; u/joeuser/.plan'
/#foo'
eg$ cd ..
eg$ find . -name '#*' -print | xargs echo
./# ./# /u/joeuser/.plan /#foo
</pre></div>

<hr>
<span id="Safe-File-Name-Handling"></span><div class="header">
<p>
Next: <a href="#Unusual-Characters-in-File-Names" accesskey="n" rel="next">Unusual Characters in File Names</a>, Previous: <a href="#Unsafe-File-Name-Handling" accesskey="p" rel="prev">Unsafe File Name Handling</a>, Up: <a href="#Multiple-Files" accesskey="u" rel="up">Multiple Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Safe-File-Name-Handling-1"></span><h4 class="subsubsection">3.3.2.2 Safe File Name Handling</h4>

<p>Here is how to make <code>find</code> output file names so that they can be
used by other programs without being mangled or misinterpreted.  You
can process file names generated this way by giving the &lsquo;<samp>-0</samp>&rsquo; or
&lsquo;<samp>--null</samp>&rsquo; option to GNU <code>xargs</code>, GNU <code>tar</code>, GNU
<code>cpio</code>, or <code>perl</code>.
</p>
<dl>
<dt id="index-_002dprint0">Action: <strong>-print0</strong></dt>
<dd><p>True; print the entire file name on the standard output, followed by a
null character.
</p></dd></dl>

<dl>
<dt id="index-_002dfprint0">Action: <strong>-fprint0</strong> <em>file</em></dt>
<dd><p>True; like &lsquo;<samp>-print0</samp>&rsquo; but write to <var>file</var> like &lsquo;<samp>-fprint</samp>&rsquo;
(see <a href="#Print-File-Name">Print File Name</a>).  The output file is always created.
</p></dd></dl>

<p>As of findutils version 4.2.4, the <code>locate</code> program also has a
&lsquo;<samp>--null</samp>&rsquo; option which does the same thing.  For similarity with
<code>xargs</code>, the short form of the option &lsquo;<samp>-0</samp>&rsquo; can also be used.
</p>
<p>If you want to be able to handle file names safely but need to run
commands which want to be connected to a terminal on their input, you
can use the &lsquo;<samp>--open-tty</samp>&rsquo; option to <code>xargs</code> or the
&lsquo;<samp>--arg-file</samp>&rsquo; option to <code>xargs</code> like this:
</p>
<div class="example">
<pre class="example">find / -name xyzzy -print0 &gt; list
xargs --null --arg-file=list munge
</pre></div>

<p>The example above runs the <code>munge</code> program on all the files named
<samp>xyzzy</samp> that we can find, but <code>munge</code>&rsquo;s input will still be
the terminal (or whatever the shell was using as standard input).  If
your shell has the &ldquo;process substitution&rdquo; feature &lsquo;<samp>&lt;(...)</samp>&rsquo;, you
can do this in just one step:
</p>
<div class="example">
<pre class="example">xargs --null --arg-file=&lt;(find / -name xyzzy -print0) munge
</pre></div>

<hr>
<span id="Unusual-Characters-in-File-Names"></span><div class="header">
<p>
Next: <a href="#Limiting-Command-Size" accesskey="n" rel="next">Limiting Command Size</a>, Previous: <a href="#Safe-File-Name-Handling" accesskey="p" rel="prev">Safe File Name Handling</a>, Up: <a href="#Multiple-Files" accesskey="u" rel="up">Multiple Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Unusual-Characters-in-File-Names-1"></span><h4 class="subsubsection">3.3.2.3 Unusual Characters in File Names</h4>
<p>As discussed above, you often need to be careful about how the names
of files are handled by <code>find</code> and other programs.  If the output
of <code>find</code> is not going to another program but instead is being
shown on a terminal, this can still be a problem.  For example, some
character sequences can reprogram the function keys on some terminals.
See <a href="#Security-Considerations">Security Considerations</a>, for a discussion of other security
problems relating to <code>find</code>.
</p>
<p>Unusual characters are handled differently by various
actions, as described below.
</p>
<dl compact="compact">
<dt>&lsquo;<samp>-print0</samp>&rsquo;</dt>
<dt>&lsquo;<samp>-fprint0</samp>&rsquo;</dt>
<dd><p>Always print the exact file name, unchanged, even if the output is
going to a terminal.
</p></dd>
<dt>&lsquo;<samp>-ok</samp>&rsquo;</dt>
<dt>&lsquo;<samp>-okdir</samp>&rsquo;</dt>
<dd><p>Always print the exact file name, unchanged.  This will probably
change in a future release.
</p></dd>
<dt>&lsquo;<samp>-ls</samp>&rsquo;</dt>
<dt>&lsquo;<samp>-fls</samp>&rsquo;</dt>
<dd><p>Unusual characters are always escaped.  White space, backslash, and
double quote characters are printed using C-style escaping (for
example &lsquo;<samp>\f</samp>&rsquo;, &lsquo;<samp>\&quot;</samp>&rsquo;).  Other unusual characters are printed
using an octal escape.  Other printable characters (for &lsquo;<samp>-ls</samp>&rsquo; and
&lsquo;<samp>-fls</samp>&rsquo; these are the characters between octal 041 and 0176) are
printed as-is.
</p></dd>
<dt>&lsquo;<samp>-printf</samp>&rsquo;</dt>
<dt>&lsquo;<samp>-fprintf</samp>&rsquo;</dt>
<dd><p>If the output is not going to a terminal, it is printed as-is.
Otherwise, the result depends on which directive is in use:
</p>
<dl compact="compact">
<dt>%D, %F, %H, %Y, %y</dt>
<dd><p>These expand to values which are not under control of files&rsquo; owners,
and so are printed as-is.
</p></dd>
<dt>%a, %b, %c, %d, %g, %G, %i, %k, %m, %M, %n, %s, %t, %u, %U</dt>
<dd><p>These have values which are under the control of files&rsquo; owners but
which cannot be used to send arbitrary data to the terminal, and so
these are printed as-is.
</p></dd>
<dt>%f, %h, %l, %p, %P</dt>
<dd><p>The output of these directives is quoted if the output is going to a
terminal.  The setting of the <code>LC_CTYPE</code> environment
variable is used to determine which characters need to be quoted.
</p>
<p>This quoting is performed in the same way as for GNU <code>ls</code>.  This
is not the same quoting mechanism as the one used for &lsquo;<samp>-ls</samp>&rsquo; and
&lsquo;<samp>fls</samp>&rsquo;.  If you are able to decide what format to use for the
output of <code>find</code> then it is normally better to use &lsquo;<samp>\0</samp>&rsquo; as a
terminator than to use newline, as file names can contain white space
and newline characters.
</p></dd>
</dl>
</dd>
<dt>&lsquo;<samp>-print</samp>&rsquo;</dt>
<dt>&lsquo;<samp>-fprint</samp>&rsquo;</dt>
<dd><p>Quoting is handled in the same way as for the &lsquo;<samp>%p</samp>&rsquo; directive of
&lsquo;<samp>-printf</samp>&rsquo; and &lsquo;<samp>-fprintf</samp>&rsquo;.  If you are using <code>find</code> in a
script or in a situation where the matched files might have arbitrary
names, you should consider using &lsquo;<samp>-print0</samp>&rsquo; instead of
&lsquo;<samp>-print</samp>&rsquo;.
</p></dd>
</dl>


<p>The <code>locate</code> program quotes and escapes unusual characters in
file names in the same way as <code>find</code>&rsquo;s &lsquo;<samp>-print</samp>&rsquo; action.
</p>
<p>The behaviours described above may change soon, as the treatment of
unprintable characters is harmonised for &lsquo;<samp>-ls</samp>&rsquo;, &lsquo;<samp>-fls</samp>&rsquo;,
&lsquo;<samp>-print</samp>&rsquo;, &lsquo;<samp>-fprint</samp>&rsquo;, &lsquo;<samp>-printf</samp>&rsquo; and &lsquo;<samp>-fprintf</samp>&rsquo;.
</p>
<hr>
<span id="Limiting-Command-Size"></span><div class="header">
<p>
Next: <a href="#Controlling-Parallelism" accesskey="n" rel="next">Controlling Parallelism</a>, Previous: <a href="#Unusual-Characters-in-File-Names" accesskey="p" rel="prev">Unusual Characters in File Names</a>, Up: <a href="#Multiple-Files" accesskey="u" rel="up">Multiple Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Limiting-Command-Size-1"></span><h4 class="subsubsection">3.3.2.4 Limiting Command Size</h4>

<p><code>xargs</code> gives you control over how many arguments it passes to
the command each time it executes it.  By default, it uses up to
<code>ARG_MAX</code> - 2k, or 128k, whichever is smaller, characters per
command.  It uses as many lines and arguments as fit within that
limit.  The following options modify those values.
</p>
<dl compact="compact">
<dt><code>--no-run-if-empty</code></dt>
<dt><code>-r</code></dt>
<dd><p>If the standard input does not contain any nonblanks, do not run the
command.  By default, the command is run once even if there is no
input.  This option is a GNU extension.
</p>
</dd>
<dt><code>--max-lines<span class="roman">[</span>=<var>max-lines</var><span class="roman">]</span></code></dt>
<dt><code>-L <var>max-lines</var></code></dt>
<dt><code>-l<span class="roman">[</span><var>max-lines</var><span class="roman">]</span></code></dt>
<dd><p>Use at most <var>max-lines</var> nonblank input lines per command line;
<var>max-lines</var> defaults to 1 if omitted; omitting the argument is not
allowed in the case of the &lsquo;<samp>-L</samp>&rsquo; option.  Trailing blanks cause an
input line to be logically continued on the next input line, for the
purpose of counting the lines.  Implies &lsquo;<samp>-x</samp>&rsquo;.  The preferred name
for this option is &lsquo;<samp>-L</samp>&rsquo; as this is specified by POSIX.
</p>
</dd>
<dt><code>--max-args=<var>max-args</var></code></dt>
<dt><code>-n <var>max-args</var></code></dt>
<dd><p>Use at most <var>max-args</var> arguments per command line.  Fewer than
<var>max-args</var> arguments will be used if the size (see the &lsquo;<samp>-s</samp>&rsquo;
option) is exceeded, unless the &lsquo;<samp>-x</samp>&rsquo; option is given, in which
case <code>xargs</code> will exit.
</p>
</dd>
<dt><code>--max-chars=<var>max-chars</var></code></dt>
<dt><code>-s <var>max-chars</var></code></dt>
<dd><p>Use at most <var>max-chars</var> characters per command line, including the
command initial arguments and the terminating nulls at the ends of the
argument strings.  If you specify a value for this option which is too
large or small, a warning message is printed and the appropriate upper
or lower limit is used instead.  You can use &lsquo;<samp>--show-limits</samp>&rsquo;
option to understand the command-line limits applying to <code>xargs</code>
and how this is affected by any other options.  The POSIX limits shown
when you do this have already been adjusted to take into account the
size of your environment variables.
</p>
<p>The largest allowed value is system-dependent, and is calculated as
the argument length limit for exec, less the size of your environment,
less 2048 bytes of headroom.  If this value is more than 128KiB,
128Kib is used as the default value; otherwise, the default value is
the maximum.
</p></dd>
</dl>

<hr>
<span id="Controlling-Parallelism"></span><div class="header">
<p>
Next: <a href="#Interspersing-File-Names" accesskey="n" rel="next">Interspersing File Names</a>, Previous: <a href="#Limiting-Command-Size" accesskey="p" rel="prev">Limiting Command Size</a>, Up: <a href="#Multiple-Files" accesskey="u" rel="up">Multiple Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Controlling-Parallelism-1"></span><h4 class="subsubsection">3.3.2.5 Controlling Parallelism</h4>

<p>Normally, <code>xargs</code> runs one command at a time.  This is called
&quot;serial&quot; execution; the commands happen in a series, one after another.
If you&rsquo;d like <code>xargs</code> to do things in &quot;parallel&quot;, you can ask it
to do so, either when you invoke it, or later while it is running.
Running several commands at one time can make the entire operation
go more quickly, if the commands are independent, and if your system
has enough resources to handle the load.  When parallelism works in
your application, <code>xargs</code> provides an easy way to get your work
done faster.
</p>
<dl compact="compact">
<dt><code>--max-procs=<var>max-procs</var></code></dt>
<dt><code>-P <var>max-procs</var></code></dt>
<dd><p>Run up to <var>max-procs</var> processes at a time; the default is 1.  If
<var>max-procs</var> is 0, <code>xargs</code> will run as many processes as
possible at a time.  Use the &lsquo;<samp>-n</samp>&rsquo;, &lsquo;<samp>-s</samp>&rsquo;, or &lsquo;<samp>-L</samp>&rsquo; option
with &lsquo;<samp>-P</samp>&rsquo;; otherwise chances are that the command will be run
only once.
</p></dd>
</dl>

<p>For example, suppose you have a directory tree of large image files
and a <code>makeallsizes</code> script that takes a single file name and
creates various sized images from it (thumbnail-sized, web-page-sized,
printer-sized, and the original large file).  The script is doing enough
work that it takes significant time to run, even on a single image.
You could run:
</p>
<div class="example">
<pre class="example">find originals -name '*.jpg' | xargs -l makeallsizes
</pre></div>

<p>This will run <code>makeallsizes <var>filename</var></code> once for each <code>.jpg</code>
file in the <code>originals</code> directory.  However, if your system has
two central processors, this script will only keep one of them busy.
Instead, you could probably finish in about half the time by running:
</p>
<div class="example">
<pre class="example">find originals -name '*.jpg' | xargs -l -P 2 makeallsizes
</pre></div>

<p><code>xargs</code> will run the first two commands in parallel, and then
whenever one of them terminates, it will start another one, until
the entire job is done.
</p>
<p>The same idea can be generalized to as many processors as you have handy.
It also generalizes to other resources besides processors.  For example,
if <code>xargs</code> is running commands that are waiting for a response from a
distant network connection, running a few in parallel may reduce the
overall latency by overlapping their waiting time.
</p>
<p>If you are running commands in parallel, you need to think about how
they should arbitrate access to any resources that they share.  For
example, if more than one of them tries to print to stdout, the output
will be produced in an indeterminate order (and very likely mixed up)
unless the processes collaborate in some way to prevent this.  Using
some kind of locking scheme is one way to prevent such problems.  In
general, using a locking scheme will help ensure correct output but
reduce performance.  If you don&rsquo;t want to tolerate the performance
difference, simply arrange for each process to produce a separate output
file (or otherwise use separate resources).
</p>
<p><code>xargs</code> also allows &ldquo;turning up&rdquo; or &ldquo;turning down&rdquo; its parallelism
in the middle of a run.  Suppose you are keeping your four-processor
system busy for hours, processing thousands of images using <code>-P 4</code>.
Now, in the middle of the run, you or someone else wants you to reduce
your load on the system, so that something else will run faster.
If you interrupt <code>xargs</code>, your job will be half-done, and it
may take significant manual work to resume it only for the remaining
images.  If you suspend <code>xargs</code> using your shell&rsquo;s job controls
(e.g. <code>control-Z</code>), then it will get no work done while suspended.
</p>
<p>Find out the process ID of the <code>xargs</code> process, either from your
shell or with the <code>ps</code> command.  After you send it the signal
<code>SIGUSR2</code>, <code>xargs</code> will run one fewer command in parallel.
If you send it the signal <code>SIGUSR1</code>, it will run one more command
in parallel.  For example:
</p>
<div class="example">
<pre class="example">shell$ xargs &lt;allimages -l -P 4 makeallsizes &amp;
[4] 27643
   ... at some later point ...
shell$ kill -USR2 27643
shell$ kill -USR2 %4
</pre></div>

<p>The first <code>kill</code> command will cause <code>xargs</code> to wait for
two commands to terminate before starting the next command (reducing
the parallelism from 4 to 3).  The second <code>kill</code> will reduce it from
3 to 2.  (<code>%4</code> works in some shells as a shorthand for the process
ID of the background job labeled <code>[4]</code>.)
</p>
<p>Similarly, if you started a long <code>xargs</code> job without parallelism, you
can easily switch it to start running two commands in parallel by sending
it a <code>SIGUSR1</code>.
</p>
<p><code>xargs</code> will never terminate any existing commands when you ask it
to run fewer processes.  It merely waits for the excess commands to
finish.  If you ask it to run more commands, it will start the next
one immediately (if it has more work to do).  If the degree of
parallelism is already 1, sending <code>SIGUSR2</code> will have no further
effect (since <code>--max-procs=0</code> means that there should be no limit
on the number of processes to run).
</p>
<p>There is an implementation-defined limit on the number of processes.
This limit is shown with <code>xargs --show-limits</code>.  The limit is at
least 127 on all systems (and on the author&rsquo;s system it is
2147483647).
</p>
<p>If you send several identical signals quickly, the operating system
does not guarantee that each of them will be delivered to <code>xargs</code>.
This means that you can&rsquo;t rapidly increase or decrease the parallelism by
more than one command at a time.  You can avoid this problem by sending
a signal, observing the result, then sending the next one; or merely by
delaying for a few seconds between signals (unless your system is very
heavily loaded).
</p>
<p>Whether or not parallel execution will work well for you depends on
the nature of the commmand you are running in parallel, on the
configuration of the system on which you are running the command, and
on the other work being done on the system at the time.
</p>
<hr>
<span id="Interspersing-File-Names"></span><div class="header">
<p>
Previous: <a href="#Controlling-Parallelism" accesskey="p" rel="prev">Controlling Parallelism</a>, Up: <a href="#Multiple-Files" accesskey="u" rel="up">Multiple Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Interspersing-File-Names-1"></span><h4 class="subsubsection">3.3.2.6 Interspersing File Names</h4>

<p><code>xargs</code> can insert the name of the file it is processing between
arguments you give for the command.  Unless you also give options to
limit the command size (see <a href="#Limiting-Command-Size">Limiting Command Size</a>), this mode of
operation is equivalent to &lsquo;<samp>find -exec</samp>&rsquo; (see <a href="#Single-File">Single File</a>).
</p>
<dl compact="compact">
<dt><code>--replace<span class="roman">[</span>=<var>replace-str</var><span class="roman">]</span></code></dt>
<dt><code>-I <var>replace-str</var></code></dt>
<dt><code>-i <var>replace-str</var></code></dt>
<dd><p>Replace occurrences of <var>replace-str</var> in the initial arguments with
names read from the input.  Also, unquoted blanks do not terminate
arguments; instead, the input is split at newlines only.  For the
&lsquo;<samp>-i</samp>&rsquo; option, if <var>replace-str</var> is omitted for &lsquo;<samp>--replace</samp>&rsquo;
or &lsquo;<samp>-i</samp>&rsquo;, it defaults to &lsquo;<samp>{}</samp>&rsquo; (like for &lsquo;<samp>find -exec</samp>&rsquo;).
Implies &lsquo;<samp>-x</samp>&rsquo; and &lsquo;<samp>-l 1</samp>&rsquo;.  &lsquo;<samp>-i</samp>&rsquo; is deprecated in favour
of &lsquo;<samp>-I</samp>&rsquo;. As an example, to sort each file in the <samp>bills</samp>
directory, leaving the output in that file name with <samp>.sorted</samp>
appended, you could do:
</p>
<div class="example">
<pre class="example">find bills -type f | xargs -I XX sort -o XX.sorted XX
</pre></div>

<p>The equivalent command using &lsquo;<samp>find -execdir</samp>&rsquo; is:
</p>
<div class="example">
<pre class="example">find bills -type f -execdir sort -o '{}.sorted' '{}' ';'
</pre></div>
</dd>
</dl>


<p>When you use the &lsquo;<samp>-I</samp>&rsquo; option, each line read from the input is
buffered internally.  This means that there is an upper limit on the
length of input line that <code>xargs</code> will accept when used with the
&lsquo;<samp>-I</samp>&rsquo; option.  To work around this limitation, you can use the
&lsquo;<samp>-s</samp>&rsquo; option to increase the amount of buffer space that xargs
uses, and you can also use an extra invocation of xargs to ensure that
very long lines do not occur.  For example:
</p>
<div class="example">
<pre class="example">somecommand | xargs -s 50000 echo | xargs -I '{}' -s 100000 rm '{}'
</pre></div>

<p>Here, the first invocation of <code>xargs</code> has no input line length
limit because it doesn&rsquo;t use the &lsquo;<samp>-I</samp>&rsquo; option. The second
invocation of <code>xargs</code> does have such a limit, but we have ensured
that it never encounters a line which is longer than it can
handle.
</p>
<p>This is not an ideal solution.  Instead, the &lsquo;<samp>-I</samp>&rsquo; option should
not impose a line length limit (apart from any limit imposed by the
operating system) and so one might consider this limitation to be a
bug.  A better solution would be to allow <code>xargs -I</code> to
automatically move to a larger value for the &lsquo;<samp>-s</samp>&rsquo; option when
this is needed.
</p>
<p>This sort of problem doesn&rsquo;t occur with the output of <code>find</code>
because it emits just one filename per line.
</p>
<hr>
<span id="Querying"></span><div class="header">
<p>
Previous: <a href="#Multiple-Files" accesskey="p" rel="prev">Multiple Files</a>, Up: <a href="#Run-Commands" accesskey="u" rel="up">Run Commands</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Querying-1"></span><h4 class="subsection">3.3.3 Querying</h4>

<p>To ask the user whether to execute a command on a single file, you can
use the <code>find</code> primary &lsquo;<samp>-okdir</samp>&rsquo; instead of &lsquo;<samp>-execdir</samp>&rsquo;,
and the <code>find</code> primary &lsquo;<samp>-ok</samp>&rsquo; instead of &lsquo;<samp>-exec</samp>&rsquo;:
</p>
<dl>
<dt id="index-_002dokdir">Action: <strong>-okdir</strong> <em>command ;</em></dt>
<dd><p>Like &lsquo;<samp>-execdir</samp>&rsquo; (see <a href="#Single-File">Single File</a>), but ask the user first.
If the user does not agree to run the command, just return false.
Otherwise, run it, with  standard input redirected from
<samp>/dev/null</samp>.
</p>
<p>This action may not be specified together with the &lsquo;<samp>-files0-from</samp>&rsquo; option.
</p>
<p>The response to the prompt is matched against a pair of regular
expressions to determine if it is a yes or no response.  These regular
expressions are obtained from the system (<code>nl_langinfo</code> items
YESEXPR and NOEXPR are used) if the <code>POSIXLY_CORRECT</code> environment
variable is set and the system has such patterns available.  Otherwise,
<code>find</code>&rsquo;s message translations are used.  In either case, the
<code>LC_MESSAGES</code> environment variable will determine the regular
expressions used to determine if the answer is affirmative or negative.
The interpretation of the regular expressions themselves will be
affected by the environment variables <code>LC_CTYPE</code> (character
classes) and <code>LC_COLLATE</code> (character ranges and equivalence
classes).
</p></dd></dl>

<dl>
<dt id="index-_002dok">Action: <strong>-ok</strong> <em>command ;</em></dt>
<dd><p>This insecure variant of the &lsquo;<samp>-okdir</samp>&rsquo; action is specified by
POSIX.  The main difference is that the command is executed in the
directory from which <code>find</code> was invoked, meaning that &lsquo;<samp>{}</samp>&rsquo;
is expanded to a relative path starting with the name of one of the
starting directories, rather than just the basename of the matched
file.  If the command is run, its standard input is redirected from
<samp>/dev/null</samp>.
</p>
<p>This action may not be specified together with the &lsquo;<samp>-files0-from</samp>&rsquo; option.
</p></dd></dl>

<p>When processing multiple files with a single command, to query the
user you give <code>xargs</code> the following option.  When using this
option, you might find it useful to control the number of files
processed per invocation of the command (see <a href="#Limiting-Command-Size">Limiting Command Size</a>).
</p>
<dl compact="compact">
<dt><code>--interactive</code></dt>
<dt><code>-p</code></dt>
<dd><p>Prompt the user about whether to run each command line and read a line
from the terminal.  Only run the command line if the response starts
with &lsquo;<samp>y</samp>&rsquo; or &lsquo;<samp>Y</samp>&rsquo;.  Implies &lsquo;<samp>-t</samp>&rsquo;.
</p></dd>
</dl>

<hr>
<span id="Delete-Files"></span><div class="header">
<p>
Next: <a href="#Adding-Tests" accesskey="n" rel="next">Adding Tests</a>, Previous: <a href="#Run-Commands" accesskey="p" rel="prev">Run Commands</a>, Up: <a href="#Actions" accesskey="u" rel="up">Actions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Delete-Files-1"></span><h3 class="section">3.4 Delete Files</h3>

<dl>
<dt id="index-_002ddelete">Action: <strong>-delete</strong></dt>
<dd><p>Delete files or directories; true if removal succeeded.  If the
removal failed, an error message is issued and <code>find</code>&rsquo;s exit status
will be nonzero (when it eventually exits).
</p>
<blockquote>
<p><b>Warning:</b> Don&rsquo;t forget that <code>find</code> evaluates the command line as an expression,
so putting &lsquo;<samp>-delete</samp>&rsquo; first will make <code>find</code> try to delete everything
below the starting points you specified.
</p></blockquote>

<p>The use of the &lsquo;<samp>-delete</samp>&rsquo; action on the command line automatically
turns on the &lsquo;<samp>-depth</samp>&rsquo; option.
As in turn &lsquo;<samp>-depth</samp>&rsquo; makes &lsquo;<samp>-prune</samp>&rsquo; ineffective, the &lsquo;<samp>-delete</samp>&rsquo;
action cannot usefully be combined with &lsquo;<samp>-prune</samp>&rsquo;.
</p>
<p>Often, the user might want to test a <code>find</code> command line with &lsquo;<samp>-print</samp>&rsquo;
prior to adding &lsquo;<samp>-delete</samp>&rsquo; for the actual removal run.  To avoid surprising
results, it is usually best to remember to use &lsquo;<samp>-depth</samp>&rsquo; explicitly during
those earlier test runs.
</p>
<p>See <a href="#Cleaning-Up">Cleaning Up</a> for a deeper discussion about good use cases of the
&lsquo;<samp>-delete</samp>&rsquo; action and those with surprising results.
</p>
<p>The &lsquo;<samp>-delete</samp>&rsquo; action will fail to remove a directory unless it is empty.
</p>
<p>Together with the &lsquo;<samp>-ignore_readdir_race</samp>&rsquo; option, <code>find</code> will
ignore errors of the &lsquo;<samp>-delete</samp>&rsquo; action in the case the file has disappeared
since the parent directory was read: it will not output an error diagnostic, not
change the exit code to nonzero, and the return code of the &lsquo;<samp>-delete</samp>&rsquo;
action will be true.
</p></dd></dl>

<hr>
<span id="Adding-Tests"></span><div class="header">
<p>
Previous: <a href="#Delete-Files" accesskey="p" rel="prev">Delete Files</a>, Up: <a href="#Actions" accesskey="u" rel="up">Actions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Adding-Tests-1"></span><h3 class="section">3.5 Adding Tests</h3>

<p>You can test for file attributes that none of the <code>find</code> builtin
tests check.  To do this, use <code>xargs</code> to run a program that
filters a list of files printed by <code>find</code>.  If possible, use
<code>find</code> builtin tests to pare down the list, so the program run by
<code>xargs</code> has less work to do.  The tests builtin to <code>find</code>
will likely run faster than tests that other programs perform.
</p>
<p>For reasons of efficiency it is often useful to limit the number of
times an external program has to be run.  For this reason, it is often
a good idea to implement &ldquo;extended&rdquo; tests by using <code>xargs</code>.
</p>
<p>For example, here is a way to print the names of all of the unstripped
binaries in the <samp>/usr/local</samp> directory tree.  Builtin tests avoid
running <code>file</code> on files that are not regular files or are not
executable.
</p>
<div class="example">
<pre class="example">find /usr/local -type f -perm /a=x | xargs file |
  grep 'not stripped' | cut -d: -f1
</pre></div>

<p>The <code>cut</code> program removes everything after the file name from the
output of <code>file</code>.
</p>
<p>However, using <code>xargs</code> can present important security problems
(see <a href="#Security-Considerations">Security Considerations</a>).  These can be avoided by using
&lsquo;<samp>-execdir</samp>&rsquo;.  The &lsquo;<samp>-execdir</samp>&rsquo; action is also a useful way of
putting your own test in the middle of a set of other tests or actions
for <code>find</code> (for example, you might want to use &lsquo;<samp>-prune</samp>&rsquo;).
</p>
<p>To place a special test somewhere in the middle of a <code>find</code>
expression, you can use &lsquo;<samp>-execdir</samp>&rsquo; (or, less securely,
&lsquo;<samp>-exec</samp>&rsquo;) to run a program that performs the test.  Because
&lsquo;<samp>-execdir</samp>&rsquo; evaluates to the exit status of the executed program,
you can use a program (which can be a shell script) that tests for a
special attribute and make it exit with a true (zero) or false
(non-zero) status.  It is a good idea to place such a special test
<em>after</em> the builtin tests, because it starts a new process which
could be avoided if a builtin test evaluates to false.
</p>
<p>Here is a shell script called <code>unstripped</code> that checks whether
its argument is an unstripped binary file:
</p>
<div class="example">
<pre class="example">#! /bin/sh
file &quot;$1&quot; | grep -q &quot;not stripped&quot;
</pre></div>


<p>This script relies on the shell exiting with the status of
the last command in the pipeline, in this case <code>grep</code>.  The
<code>grep</code> command exits with a true status if it found any matches,
false if not.  Here is an example of using the script (assuming it is
in your search path).  It lists the stripped executables (and shell
scripts) in the file <samp>sbins</samp> and the unstripped ones in
<samp>ubins</samp>.
</p>
<div class="example">
<pre class="example">find /usr/local -type f -perm /a=x \
  \( -execdir unstripped '{}' \; -fprint ubins -o -fprint sbins \)
</pre></div>


<hr>
<span id="Databases"></span><div class="header">
<p>
Next: <a href="#File-Permissions" accesskey="n" rel="next">File Permissions</a>, Previous: <a href="#Actions" accesskey="p" rel="prev">Actions</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="File-Name-Databases"></span><h2 class="chapter">4 File Name Databases</h2>

<p>The file name databases used by <code>locate</code> contain lists of files
that were in particular directory trees when the databases were last
updated.  The file name of the default database is determined when
<code>locate</code> and <code>updatedb</code> are configured and installed.  The
frequency with which the databases are updated and the directories for
which they contain entries depend on how often <code>updatedb</code> is run,
and with which arguments.
</p>
<p>You can obtain some statistics about the databases by using
&lsquo;<samp>locate --statistics</samp>&rsquo;.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Database-Locations" accesskey="1">Database Locations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Database-Formats" accesskey="2">Database Formats</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Newline-Handling" accesskey="3">Newline Handling</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr>
<span id="Database-Locations"></span><div class="header">
<p>
Next: <a href="#Database-Formats" accesskey="n" rel="next">Database Formats</a>, Up: <a href="#Databases" accesskey="u" rel="up">Databases</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Database-Locations-1"></span><h3 class="section">4.1 Database Locations</h3>

<p>There can be multiple file name databases.  Users can select which
databases <code>locate</code> searches using the <code>LOCATE_PATH</code>
environment variable or a command line option.  The system
administrator can choose the file name of the default database, the
frequency with which the databases are updated, and the directories
for which they contain entries.  File name databases are updated by
running the <code>updatedb</code> program, typically nightly.
</p>
<p>In networked environments, it often makes sense to build a database at
the root of each filesystem, containing the entries for that
filesystem.  <code>updatedb</code> is then run for each filesystem on the
fileserver where that filesystem is on a local disk, to prevent
thrashing the network.
</p>
<p>See <a href="#Invoking-updatedb">Invoking updatedb</a>, for the description of the options to
<code>updatedb</code>.  These options can be used to specify which
directories are indexed by each database file.
</p>
<p>The default location for the locate database depends on how findutils
is built, but the findutils installation accompanying this manual uses
the default location <samp>/usr/local/var/locatedb</samp>.
</p>
<p>If no database exists at <samp>/usr/local/var/locatedb</samp> but the user did not
specify where to look (by using &lsquo;<samp>-d</samp>&rsquo; or setting
<code>LOCATE_PATH</code>), then <code>locate</code> will also check for a
&ldquo;secure&rdquo; database in <samp>/var/lib/slocate/slocate.db</samp>.
</p>
<hr>
<span id="Database-Formats"></span><div class="header">
<p>
Next: <a href="#Newline-Handling" accesskey="n" rel="next">Newline Handling</a>, Previous: <a href="#Database-Locations" accesskey="p" rel="prev">Database Locations</a>, Up: <a href="#Databases" accesskey="u" rel="up">Databases</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Database-Formats-1"></span><h3 class="section">4.2 Database Formats</h3>

<p>The file name databases contain lists of files that were in particular
directory trees when the databases were last updated.  The file name
database format changed starting with GNU <code>locate</code> version 4.0 to
allow machines with different byte orderings to share the databases.
</p>
<p>GNU <code>locate</code> can read both the old pre-findutils-4.0 database
format and the &lsquo;<samp>LOCATE02</samp>&rsquo; database format.  Support for the old
database format will shortly be removed from <code>locate</code>.  It has
already been removed from <code>updatedb</code>.
</p>
<p>If you run &lsquo;<samp>locate --statistics</samp>&rsquo;, the resulting summary indicates
the type of each <code>locate</code> database.   You select which database
format <code>updatedb</code> will use with the &lsquo;<samp>--dbformat</samp>&rsquo; option.
</p>
<p>The &lsquo;<samp>slocate</samp>&rsquo; database format is very similar to &lsquo;<samp>LOCATE02</samp>&rsquo;
and is also supported (in both <code>updatedb</code> and <code>locate</code>).
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#LOCATE02-Database-Format" accesskey="1">LOCATE02 Database Format</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Sample-LOCATE02-Database" accesskey="2">Sample LOCATE02 Database</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#slocate-Database-Format" accesskey="3">slocate Database Format</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Old-Database-Format" accesskey="4">Old Database Format</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="LOCATE02-Database-Format"></span><div class="header">
<p>
Next: <a href="#Sample-LOCATE02-Database" accesskey="n" rel="next">Sample LOCATE02 Database</a>, Up: <a href="#Database-Formats" accesskey="u" rel="up">Database Formats</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="LOCATE02-Database-Format-1"></span><h4 class="subsection">4.2.1 LOCATE02 Database Format</h4>

<p><code>updatedb</code> runs a program called <code>frcode</code> to
<em>front-compress</em> the list of file names, which reduces the
database size by a factor of 4 to 5.  Front-compression (also known as
incremental encoding) works as follows.
</p>
<p>The database entries are a sorted list (case-insensitively, for users&rsquo;
convenience).  Since the list is sorted, each entry is likely to share
a prefix (initial string) with the previous entry.  Each database
entry begins with an offset-differential count byte, which is the
additional number of characters of prefix of the preceding entry to
use beyond the number that the preceding entry is using of its
predecessor.  (The counts can be negative.)  Following the count is a
null-terminated ASCII remainder &ndash; the part of the name that follows
the shared prefix.
</p>
<p>If the offset-differential count is larger than can be stored in a
byte (+/-127), the byte has the value 0x80 and the count follows in a
2-byte word, with the high byte first (network byte order).
</p>
<p>Every database begins with a dummy entry for a file called
<samp>LOCATE02</samp>, which <code>locate</code> checks for to ensure that the
database file has the correct format; it ignores the entry in doing
the search.
</p>
<p>Databases cannot be concatenated together, even if the first (dummy)
entry is trimmed from all but the first database.  This is because the
offset-differential count in the first entry of the second and
following databases will be wrong.
</p>
<p>In the output of &lsquo;<samp>locate --statistics</samp>&rsquo;, the new database format
is referred to as &lsquo;<samp>LOCATE02</samp>&rsquo;.
</p>
<hr>
<span id="Sample-LOCATE02-Database"></span><div class="header">
<p>
Next: <a href="#slocate-Database-Format" accesskey="n" rel="next">slocate Database Format</a>, Previous: <a href="#LOCATE02-Database-Format" accesskey="p" rel="prev">LOCATE02 Database Format</a>, Up: <a href="#Database-Formats" accesskey="u" rel="up">Database Formats</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Sample-LOCATE02-Database-1"></span><h4 class="subsection">4.2.2 Sample LOCATE02 Database</h4>

<p>Sample input to <code>frcode</code>:
</p>
<div class="example">
<pre class="example">/usr/src
/usr/src/cmd/aardvark.c
/usr/src/cmd/armadillo.c
/usr/tmp/zoo
</pre></div>

<p>Length of the longest prefix of the preceding entry to share:
</p>
<div class="example">
<pre class="example">0 /usr/src
8 /cmd/aardvark.c
14 rmadillo.c
5 tmp/zoo
</pre></div>

<p>Output from <code>frcode</code>, with trailing nulls changed to newlines
and count bytes made printable:
</p>
<div class="example">
<pre class="example">0 LOCATE02
0 /usr/src
8 /cmd/aardvark.c
6 rmadillo.c
-9 tmp/zoo
</pre></div>

<p>(6 = 14 - 8, and -9 = 5 - 14)
</p>
<hr>
<span id="slocate-Database-Format"></span><div class="header">
<p>
Next: <a href="#Old-Database-Format" accesskey="n" rel="next">Old Database Format</a>, Previous: <a href="#Sample-LOCATE02-Database" accesskey="p" rel="prev">Sample LOCATE02 Database</a>, Up: <a href="#Database-Formats" accesskey="u" rel="up">Database Formats</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="slocate-Database-Format-1"></span><h4 class="subsection">4.2.3 slocate Database Format</h4>

<p>The <code>slocate</code> program uses a database format similar to, but not
quite the same as, GNU <code>locate</code>.  The first byte of the database
specifies its <em>security level</em>.  If the security level is 0,
<code>slocate</code> will read, match and print filenames on the basis of
the information in the database only.  However, if the security level
byte is 1, <code>slocate</code> omits entries from its output if the
invoking user is unable to access them.  The second byte of the
database is zero.  The second byte is immediately followed by the
first database entry.  The first entry in the database is not preceded
by any differential count or dummy entry.  Instead the differential
count for the first item is assumed to be zero.
</p>
<p>Starting with the second entry (if any) in the database, data is
interpreted as for the GNU LOCATE02 format.
</p>
<hr>
<span id="Old-Database-Format"></span><div class="header">
<p>
Previous: <a href="#slocate-Database-Format" accesskey="p" rel="prev">slocate Database Format</a>, Up: <a href="#Database-Formats" accesskey="u" rel="up">Database Formats</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Old-Database-Format-1"></span><h4 class="subsection">4.2.4 Old Database Format</h4>

<p>The old database format is used by Unix <code>locate</code> and <code>find</code>
programs and pre-4.0 releases of GNU findutils.  <code>locate</code>
understands this format, though <code>updatedb</code> will no longer produce
it.
</p>
<p>The old format differs from &lsquo;<samp>LOCATE02</samp>&rsquo; in the following ways.
Instead of each entry starting with an offset-differential count byte
and ending with a null, byte values from 0 through 28 indicate
offset-differential counts from -14 through 14.  The byte value
indicating that a long offset-differential count follows is 0x1e (30),
not 0x80.  The long counts are stored in host byte order, which is not
necessarily network byte order, and host integer word size, which is
usually 4 bytes.  They also represent a count 14 less than their
value.  The database lines have no termination byte; the start of the
next line is indicated by its first byte having a value &lt;= 30.
</p>
<p>In addition, instead of starting with a dummy entry, the old database
format starts with a 256 byte table containing the 128 most common
bigrams in the file list.  A bigram is a pair of adjacent bytes.
Bytes in the database that have the high bit set are indexes (with the
high bit cleared) into the bigram table.  The bigram and
offset-differential count coding makes these databases 20-25% smaller
than the new format, but makes them not 8-bit clean.  Any byte in a
file name that is in the ranges used for the special codes is replaced
in the database by a question mark, which not coincidentally is the
shell wildcard to match a single character. The old format therefore
cannot faithfully store entries with non-ASCII characters.
</p>
<p>Because the long counts are stored as
native-order machine words, the database format is not easily used in
environments which differ in terms of byte order.  If locate databases
are to be shared between machines, the &lsquo;<samp>LOCATE02</samp>&rsquo; database format should
be used.  This has other benefits as discussed above.  However, the
length of the filename currently being processed can normally be used
to place reasonable limits on the long counts and so this information
is used by locate to help it guess the byte ordering of the old format
database.  Unless it finds evidence to the contrary, <code>locate</code>
will assume that the byte order of the database is the same as the
native byte order of the machine running <code>locate</code>.  The output of
&lsquo;<samp>locate --statistics</samp>&rsquo; also includes information about the byte
order of old-format databases.
</p>
<p>The output of &lsquo;<samp>locate --statistics</samp>&rsquo; will give an incorrect count
of the number of file names containing newlines or high-bit characters
for old-format databases.
</p>
<p>Old versions of GNU <code>locate</code> fail to correctly handle very long
file names, possibly leading to security problems relating to a heap
buffer overrun.  See <a href="#Security-Considerations-for-locate">Security Considerations for locate</a>, for a
detailed explanation.
</p>
<hr>
<span id="Newline-Handling"></span><div class="header">
<p>
Previous: <a href="#Database-Formats" accesskey="p" rel="prev">Database Formats</a>, Up: <a href="#Databases" accesskey="u" rel="up">Databases</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Newline-Handling-1"></span><h3 class="section">4.3 Newline Handling</h3>

<p>Within the database, file names are terminated with a null character.
This is the case for both the old and the new format.
</p>
<p>When the new database format is being used, the compression technique
used to generate the database though relies on the ability to sort the
list of files before they are presented to <code>frcode</code>.
</p>
<p>If the system&rsquo;s sort command allows separating its input list of
files with null characters via the &lsquo;<samp>-z</samp>&rsquo; option, this option
is used and therefore <code>updatedb</code> and <code>locate</code> will both
correctly handle file names containing newlines.  If the <code>sort</code>
command lacks support for this, the list of files is delimited with
the newline character, meaning that parts of file names containing
newlines will be incorrectly sorted.  This can result in both
incorrect matches and incorrect failures to match.
</p>
<hr>
<span id="File-Permissions"></span><div class="header">
<p>
Next: <a href="#Date-input-formats" accesskey="n" rel="next">Date input formats</a>, Previous: <a href="#Databases" accesskey="p" rel="prev">Databases</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="File-Permissions-1"></span><h2 class="chapter">5 File Permissions</h2>




<p>Each file has a set of <em>permissions</em> that control the kinds of
access that users have to that file.  The permissions for a file are
also called its <em>access mode</em>.  They can be represented either in
symbolic form or as an octal number.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Mode-Structure" accesskey="1">Mode Structure</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Structure of file permissions.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Symbolic-Modes" accesskey="2">Symbolic Modes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Mnemonic permissions representation.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Numeric-Modes" accesskey="3">Numeric Modes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Permissions as octal numbers.
</td></tr>
</table>

<hr>
<span id="Mode-Structure"></span><div class="header">
<p>
Next: <a href="#Symbolic-Modes" accesskey="n" rel="next">Symbolic Modes</a>, Up: <a href="#File-Permissions" accesskey="u" rel="up">File Permissions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Structure-of-File-Permissions"></span><h3 class="section">5.1 Structure of File Permissions</h3>

<p>There are three kinds of permissions that a user can have for a file:
</p>
<ol>
<li> <span id="index-read-permission"></span>
permission to read the file.  For directories, this means permission to
list the contents of the directory.
</li><li> <span id="index-write-permission"></span>
permission to write to (change) the file.  For directories, this means
permission to create and remove files in the directory.
</li><li> <span id="index-execute-permission"></span>
permission to execute the file (run it as a program).  For directories,
this means permission to access files in the directory.
</li></ol>

<p>There are three categories of users who may have different permissions
to perform any of the above operations on a file:
</p>
<ol>
<li> the file&rsquo;s owner;
</li><li> other users who are in the file&rsquo;s group;
</li><li> everyone else.
</li></ol>

<span id="index-owner_002c-default"></span>
<span id="index-group-owner_002c-default"></span>
<p>Files are given an owner and group when they are created.  Usually the
owner is the current user and the group is the group of the directory
the file is in, but this varies with the operating system, the
file system the file is created on, and the way the file is created.  You
can change the owner and group of a file by using the <code>chown</code> and
<code>chgrp</code> commands.
</p>
<p>In addition to the three sets of three permissions listed above, a
file&rsquo;s permissions have three special components, which affect only
executable files (programs) and, on some systems, directories:
</p>
<ol>
<li> <span id="index-setuid"></span>
Set the process&rsquo;s effective user ID to that of the file upon execution
(called the <em>setuid bit</em>).  No effect on directories.
</li><li> <span id="index-setgid"></span>
Set the process&rsquo;s effective group ID to that of the file upon execution
(called the <em>setgid bit</em>).  For directories on some systems, put
files created in the directory into the same group as the directory, no
matter what group the user who creates them is in.
</li><li> <span id="index-sticky"></span>
<span id="index-swap-space_002c-saving-text-image-in"></span>
<span id="index-text-image_002c-saving-in-swap-space"></span>
<span id="index-restricted-deletion-flag"></span>
prevent users from removing or renaming a file in a directory
unless they own the file or the directory; this is called the
<em>restricted deletion flag</em> for the directory.
For regular files on some systems, save the program&rsquo;s text image on the
swap device so it will load more quickly when run; this is called the
<em>sticky bit</em>.
</li></ol>

<p>In addition to the permissions listed above, there may be file attributes
specific to the file system, e.g: access control lists (ACLs), whether a
file is compressed, whether a file can be modified (immutability), whether
a file can be dumped.  These are usually set using programs
specific to the file system.  For example:
</p>
<dl compact="compact">
<dt>ext2</dt>
<dd><p>On <acronym>GNU</acronym> and <acronym>GNU</acronym>/Linux the file permissions
(&ldquo;attributes&rdquo;) specific to
the ext2 file system are set using <code>chattr</code>.
</p>
</dd>
<dt>FFS</dt>
<dd><p>On FreeBSD the file permissions (&ldquo;flags&rdquo;) specific to the FFS
file system are set using <code>chrflags</code>.
</p></dd>
</dl>

<p>Although a file&rsquo;s permission &ldquo;bits&rdquo; allow an operation on that file,
that operation may still fail, because:
</p>
<ul>
<li> the file-system-specific permissions do not permit it;

</li><li> the file system is mounted as read-only.
</li></ul>

<p>For example, if the immutable attribute is set on a file,
it cannot be modified, regardless of the fact that you
may have just run <code>chmod a+w FILE</code>.
</p>
<hr>
<span id="Symbolic-Modes"></span><div class="header">
<p>
Next: <a href="#Numeric-Modes" accesskey="n" rel="next">Numeric Modes</a>, Previous: <a href="#Mode-Structure" accesskey="p" rel="prev">Mode Structure</a>, Up: <a href="#File-Permissions" accesskey="u" rel="up">File Permissions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Symbolic-Modes-1"></span><h3 class="section">5.2 Symbolic Modes</h3>

<span id="index-symbolic-modes"></span>
<p><em>Symbolic modes</em> represent changes to files&rsquo; permissions as
operations on single-character symbols.  They allow you to modify either
all or selected parts of files&rsquo; permissions, optionally based on
their previous values, and perhaps on the current <code>umask</code> as well
(see <a href="#Umask-and-Protection">Umask and Protection</a>).
</p>
<p>The format of symbolic modes is:
</p>
<div class="example">
<pre class="example"><span class="roman">[</span>ugoa&hellip;<span class="roman">][</span>+-=<span class="roman">]</span><var>perms</var>&hellip;<span class="roman">[</span>,&hellip;<span class="roman">]</span>
</pre></div>

<p>where <var>perms</var> is either zero or more letters from the set
&lsquo;<samp>rwxXst</samp>&rsquo;, or a single letter from the set &lsquo;<samp>ugo</samp>&rsquo;.
</p>
<p>The following sections describe the operators and other details of
symbolic modes.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Setting-Permissions" accesskey="1">Setting Permissions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Basic operations on permissions.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Copying-Permissions" accesskey="2">Copying Permissions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Copying existing permissions.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Changing-Special-Permissions" accesskey="3">Changing Special Permissions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Special permissions.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Conditional-Executability" accesskey="4">Conditional Executability</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Conditionally affecting executability.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Multiple-Changes" accesskey="5">Multiple Changes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Making multiple changes.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Umask-and-Protection" accesskey="6">Umask and Protection</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">The effect of the umask.
</td></tr>
</table>

<hr>
<span id="Setting-Permissions"></span><div class="header">
<p>
Next: <a href="#Copying-Permissions" accesskey="n" rel="next">Copying Permissions</a>, Up: <a href="#Symbolic-Modes" accesskey="u" rel="up">Symbolic Modes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Setting-Permissions-1"></span><h4 class="subsection">5.2.1 Setting Permissions</h4>

<p>The basic symbolic operations on a file&rsquo;s permissions are adding,
removing, and setting the permission that certain users have to read,
write, and execute the file.  These operations have the following
format:
</p>
<div class="example">
<pre class="example"><var>users</var> <var>operation</var> <var>permissions</var>
</pre></div>

<p>The spaces between the three parts above are shown for readability only;
symbolic modes cannot contain spaces.
</p>
<p>The <var>users</var> part tells which users&rsquo; access to the file is changed.
It consists of one or more of the following letters (or it can be empty;
see <a href="#Umask-and-Protection">Umask and Protection</a>, for a description of what happens then).  When
more than one of these letters is given, the order that they are in does
not matter.
</p>
<dl compact="compact">
<dt><code>u</code></dt>
<dd><span id="index-owner-of-file_002c-permissions-for"></span>
<p>the user who owns the file;
</p></dd>
<dt><code>g</code></dt>
<dd><span id="index-group_002c-permissions-for"></span>
<p>other users who are in the file&rsquo;s group;
</p></dd>
<dt><code>o</code></dt>
<dd><span id="index-other-permissions"></span>
<p>all other users;
</p></dd>
<dt><code>a</code></dt>
<dd><p>all users; the same as &lsquo;<samp>ugo</samp>&rsquo;.
</p></dd>
</dl>

<p>The <var>operation</var> part tells how to change the affected users&rsquo; access
to the file, and is one of the following symbols:
</p>
<dl compact="compact">
<dt><code>+</code></dt>
<dd><span id="index-adding-permissions"></span>
<p>to add the <var>permissions</var> to whatever permissions the <var>users</var>
already have for the file;
</p></dd>
<dt><code>-</code></dt>
<dd><span id="index-removing-permissions"></span>
<span id="index-subtracting-permissions"></span>
<p>to remove the <var>permissions</var> from whatever permissions the
<var>users</var> already have for the file;
</p></dd>
<dt><code>=</code></dt>
<dd><span id="index-setting-permissions"></span>
<p>to make the <var>permissions</var> the only permissions that the <var>users</var>
have for the file.
</p></dd>
</dl>

<p>The <var>permissions</var> part tells what kind of access to the file should
be changed; it is normally zero or more of the following letters.  As with the
<var>users</var> part, the order does not matter when more than one letter is
given.  Omitting the <var>permissions</var> part is useful only with the
&lsquo;<samp>=</samp>&rsquo; operation, where it gives the specified <var>users</var> no access
at all to the file.
</p>
<dl compact="compact">
<dt><code>r</code></dt>
<dd><span id="index-read-permission_002c-symbolic"></span>
<p>the permission the <var>users</var> have to read the file;
</p></dd>
<dt><code>w</code></dt>
<dd><span id="index-write-permission_002c-symbolic"></span>
<p>the permission the <var>users</var> have to write to the file;
</p></dd>
<dt><code>x</code></dt>
<dd><span id="index-execute-permission_002c-symbolic"></span>
<p>the permission the <var>users</var> have to execute the file.
</p></dd>
</dl>

<p>For example, to give everyone permission to read and write a file,
but not to execute it, use:
</p>
<div class="example">
<pre class="example">a=rw
</pre></div>

<p>To remove write permission for all users other than the file&rsquo;s
owner, use:
</p>
<div class="example">
<pre class="example">go-w
</pre></div>

<p>The above command does not affect the access that the owner of
the file has to it, nor does it affect whether other users can
read or execute the file.
</p>
<p>To give everyone except a file&rsquo;s owner no permission to do anything with
that file, use the mode below.  Other users could still remove the file,
if they have write permission on the directory it is in.
</p>
<div class="example">
<pre class="example">go=
</pre></div>

<p>Another way to specify the same thing is:
</p>
<div class="example">
<pre class="example">og-rwx
</pre></div>

<hr>
<span id="Copying-Permissions"></span><div class="header">
<p>
Next: <a href="#Changing-Special-Permissions" accesskey="n" rel="next">Changing Special Permissions</a>, Previous: <a href="#Setting-Permissions" accesskey="p" rel="prev">Setting Permissions</a>, Up: <a href="#Symbolic-Modes" accesskey="u" rel="up">Symbolic Modes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Copying-Existing-Permissions"></span><h4 class="subsection">5.2.2 Copying Existing Permissions</h4>

<span id="index-copying-existing-permissions"></span>
<span id="index-permissions_002c-copying-existing"></span>
<p>You can base a file&rsquo;s permissions on its existing permissions.  To do
this, instead of using a series of &lsquo;<samp>r</samp>&rsquo;, &lsquo;<samp>w</samp>&rsquo;, or &lsquo;<samp>x</samp>&rsquo;
letters after the
operator, you use the letter &lsquo;<samp>u</samp>&rsquo;, &lsquo;<samp>g</samp>&rsquo;, or &lsquo;<samp>o</samp>&rsquo;.  For
example, the mode
</p>
<div class="example">
<pre class="example">o+g
</pre></div>

<p>adds the permissions for users who are in a file&rsquo;s group to the
permissions that other users have for the file.  Thus, if the file
started out as mode 664 (&lsquo;<samp>rw-rw-r--</samp>&rsquo;), the above mode would change
it to mode 666 (&lsquo;<samp>rw-rw-rw-</samp>&rsquo;).  If the file had started out as mode
741 (&lsquo;<samp>rwxr----x</samp>&rsquo;), the above mode would change it to mode 745
(&lsquo;<samp>rwxr--r-x</samp>&rsquo;).  The &lsquo;<samp>-</samp>&rsquo; and &lsquo;<samp>=</samp>&rsquo; operations work
analogously.
</p>
<hr>
<span id="Changing-Special-Permissions"></span><div class="header">
<p>
Next: <a href="#Conditional-Executability" accesskey="n" rel="next">Conditional Executability</a>, Previous: <a href="#Copying-Permissions" accesskey="p" rel="prev">Copying Permissions</a>, Up: <a href="#Symbolic-Modes" accesskey="u" rel="up">Symbolic Modes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Changing-Special-Permissions-1"></span><h4 class="subsection">5.2.3 Changing Special Permissions</h4>

<span id="index-changing-special-permissions"></span>
<p>In addition to changing a file&rsquo;s read, write, and execute permissions,
you can change its special permissions.  See <a href="#Mode-Structure">Mode Structure</a>, for a
summary of these permissions.
</p>
<p>To change a file&rsquo;s permission to set the user ID on execution, use
&lsquo;<samp>u</samp>&rsquo; in the <var>users</var> part of the symbolic mode and
&lsquo;<samp>s</samp>&rsquo; in the <var>permissions</var> part.
</p>
<p>To change a file&rsquo;s permission to set the group ID on execution, use
&lsquo;<samp>g</samp>&rsquo; in the <var>users</var> part of the symbolic mode and
&lsquo;<samp>s</samp>&rsquo; in the <var>permissions</var> part.
</p>
<p>To change a file&rsquo;s permission to set the restricted deletion flag or sticky bit,
omit the <var>users</var> part of the symbolic mode (or use &lsquo;<samp>a</samp>&rsquo;) and put
&lsquo;<samp>t</samp>&rsquo; in the <var>permissions</var> part.
</p>
<p>For example, to add set-user-ID permission to a program,
you can use the mode:
</p>
<div class="example">
<pre class="example">u+s
</pre></div>

<p>To remove both set-user-ID and set-group-ID permission from
it, you can use the mode:
</p>
<div class="example">
<pre class="example">ug-s
</pre></div>

<p>To set the restricted deletion flag or sticky bit, you can use
the mode:
</p>
<div class="example">
<pre class="example">+t
</pre></div>

<p>The combination &lsquo;<samp>o+s</samp>&rsquo; has no effect.  On <acronym>GNU</acronym> systems
the combinations &lsquo;<samp>u+t</samp>&rsquo; and &lsquo;<samp>g+t</samp>&rsquo; have no effect, and
&lsquo;<samp>o+t</samp>&rsquo; acts like plain &lsquo;<samp>+t</samp>&rsquo;.
</p>
<p>The &lsquo;<samp>=</samp>&rsquo; operator is not very useful with special permissions; for
example, the mode:
</p>
<div class="example">
<pre class="example">o=t
</pre></div>

<p>does set the restricted deletion flag or sticky bit, but it also
removes all read, write, and execute permissions that users not in the
file&rsquo;s group might have had for it.
</p>
<hr>
<span id="Conditional-Executability"></span><div class="header">
<p>
Next: <a href="#Multiple-Changes" accesskey="n" rel="next">Multiple Changes</a>, Previous: <a href="#Changing-Special-Permissions" accesskey="p" rel="prev">Changing Special Permissions</a>, Up: <a href="#Symbolic-Modes" accesskey="u" rel="up">Symbolic Modes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Conditional-Executability-1"></span><h4 class="subsection">5.2.4 Conditional Executability</h4>

<span id="index-conditional-executability"></span>
<p>There is one more special type of symbolic permission: if you use
&lsquo;<samp>X</samp>&rsquo; instead of &lsquo;<samp>x</samp>&rsquo;, execute permission is affected only if the
file is a directory or already had execute permission.
</p>
<p>For example, this mode:
</p>
<div class="example">
<pre class="example">a+X
</pre></div>

<p>gives all users permission to search directories, or to execute files if
anyone could execute them before.
</p>
<hr>
<span id="Multiple-Changes"></span><div class="header">
<p>
Next: <a href="#Umask-and-Protection" accesskey="n" rel="next">Umask and Protection</a>, Previous: <a href="#Conditional-Executability" accesskey="p" rel="prev">Conditional Executability</a>, Up: <a href="#Symbolic-Modes" accesskey="u" rel="up">Symbolic Modes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Making-Multiple-Changes"></span><h4 class="subsection">5.2.5 Making Multiple Changes</h4>

<span id="index-multiple-changes-to-permissions"></span>
<p>The format of symbolic modes is actually more complex than described
above (see <a href="#Setting-Permissions">Setting Permissions</a>).  It provides two ways to make
multiple changes to files&rsquo; permissions.
</p>
<p>The first way is to specify multiple <var>operation</var> and
<var>permissions</var> parts after a <var>users</var> part in the symbolic mode.
</p>
<p>For example, the mode:
</p>
<div class="example">
<pre class="example">og+rX-w
</pre></div>

<p>gives users other than the owner of the file read permission and, if
it is a directory or if someone already had execute permission
to it, gives them execute permission; and it also denies them write
permission to the file.  It does not affect the permission that the
owner of the file has for it.  The above mode is equivalent to
the two modes:
</p>
<div class="example">
<pre class="example">og+rX
og-w
</pre></div>

<p>The second way to make multiple changes is to specify more than one
simple symbolic mode, separated by commas.  For example, the mode:
</p>
<div class="example">
<pre class="example">a+r,go-w
</pre></div>

<p>gives everyone permission to read the file and removes write
permission on it for all users except its owner.  Another example:
</p>
<div class="example">
<pre class="example">u=rwx,g=rx,o=
</pre></div>

<p>sets all of the non-special permissions for the file explicitly.  (It
gives users who are not in the file&rsquo;s group no permission at all for
it.)
</p>
<p>The two methods can be combined.  The mode:
</p>
<div class="example">
<pre class="example">a+r,g+x-w
</pre></div>

<p>gives all users permission to read the file, and gives users who are in
the file&rsquo;s group permission to execute it, as well, but not permission
to write to it.  The above mode could be written in several different
ways; another is:
</p>
<div class="example">
<pre class="example">u+r,g+rx,o+r,g-w
</pre></div>

<hr>
<span id="Umask-and-Protection"></span><div class="header">
<p>
Previous: <a href="#Multiple-Changes" accesskey="p" rel="prev">Multiple Changes</a>, Up: <a href="#Symbolic-Modes" accesskey="u" rel="up">Symbolic Modes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="The-Umask-and-Protection"></span><h4 class="subsection">5.2.6 The Umask and Protection</h4>

<span id="index-umask-and-modes"></span>
<span id="index-modes-and-umask"></span>
<p>If the <var>users</var> part of a symbolic mode is omitted, it defaults to
&lsquo;<samp>a</samp>&rsquo; (affect all users), except that any permissions that are
<em>set</em> in the system variable <code>umask</code> are <em>not affected</em>.
The value of <code>umask</code> can be set using the
<code>umask</code> command.  Its default value varies from system to system.
</p>
<span id="index-giving-away-permissions"></span>
<p>Omitting the <var>users</var> part of a symbolic mode is generally not useful
with operations other than &lsquo;<samp>+</samp>&rsquo;.  It is useful with &lsquo;<samp>+</samp>&rsquo; because
it allows you to use <code>umask</code> as an easily customizable protection
against giving away more permission to files than you intended to.
</p>
<p>As an example, if <code>umask</code> has the value 2, which removes write
permission for users who are not in the file&rsquo;s group, then the mode:
</p>
<div class="example">
<pre class="example">+w
</pre></div>

<p>adds permission to write to the file to its owner and to other users who
are in the file&rsquo;s group, but <em>not</em> to other users.  In contrast,
the mode:
</p>
<div class="example">
<pre class="example">a+w
</pre></div>

<p>ignores <code>umask</code>, and <em>does</em> give write permission for
the file to all users.
</p>
<hr>
<span id="Numeric-Modes"></span><div class="header">
<p>
Previous: <a href="#Symbolic-Modes" accesskey="p" rel="prev">Symbolic Modes</a>, Up: <a href="#File-Permissions" accesskey="u" rel="up">File Permissions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Numeric-Modes-1"></span><h3 class="section">5.3 Numeric Modes</h3>

<span id="index-numeric-modes"></span>
<span id="index-file-permissions_002c-numeric"></span>
<span id="index-octal-numbers-for-file-modes"></span>
<p>As an
alternative to giving a symbolic mode, you can give an octal (base 8)
number that represents the new mode.
This number is always interpreted in octal; you do not have to add a
leading 0, as you do in C.  Mode 0055 is the same as mode 55.
</p>
<p>A numeric mode is usually shorter than the corresponding symbolic
mode, but it is limited in that it cannot take into account a file&rsquo;s
previous permissions; it can only set them absolutely.
</p>
<p>The permissions granted to the user,
to other users in the file&rsquo;s group,
and to other users not in the file&rsquo;s group each require three
bits, which are represented as one octal digit.  The three special
permissions also require one bit each, and they are as a group
represented as another octal digit.  Here is how the bits are arranged,
starting with the lowest valued bit:
</p>
<div class="example">
<pre class="example">Value in  Corresponding
Mode      Permission

          Other users not in the file's group:
   1      Execute
   2      Write
   4      Read

          Other users in the file's group:
  10      Execute
  20      Write
  40      Read

          The file's owner:
 100      Execute
 200      Write
 400      Read

          Special permissions:
1000      Restricted deletion flag or sticky bit
2000      Set group ID on execution
4000      Set user ID on execution
</pre></div>

<p>For example, numeric mode 4755 corresponds to symbolic mode
&lsquo;<samp>u=rwxs,go=rx</samp>&rsquo;, and numeric mode 664 corresponds to symbolic mode
&lsquo;<samp>ug=rw,o=r</samp>&rsquo;.  Numeric mode 0 corresponds to symbolic mode
&lsquo;<samp>a=</samp>&rsquo;.
</p>



<hr>
<span id="Date-input-formats"></span><div class="header">
<p>
Next: <a href="#Configuration" accesskey="n" rel="next">Configuration</a>, Previous: <a href="#File-Permissions" accesskey="p" rel="prev">File Permissions</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Date-input-formats-1"></span><h2 class="chapter">6 Date input formats</h2>

<span id="index-date-input-formats"></span>
<span id="index-parse_005fdatetime"></span>

<p>First, a quote:
</p>
<blockquote>
<p>Our units of temporal measurement, from seconds on up to months, are so
complicated, asymmetrical and disjunctive so as to make coherent mental
reckoning in time all but impossible.  Indeed, had some tyrannical god
contrived to enslave our minds to time, to make it all but impossible
for us to escape subjection to sodden routines and unpleasant surprises,
he could hardly have done better than handing down our present system.
It is like a set of trapezoidal building blocks, with no vertical or
horizontal surfaces, like a language in which the simplest thought
demands ornate constructions, useless particles and lengthy
circumlocutions.  Unlike the more successful patterns of language and
science, which enable us to face experience boldly or at least
level-headedly, our system of temporal calculation silently and
persistently encourages our terror of time.
</p>
<p>&hellip;  It is as though architects had to measure length in feet, width
in meters and height in ells; as though basic instruction manuals
demanded a knowledge of five different languages.  It is no wonder then
that we often look into our own immediate past or future, last Tuesday
or a week from Sunday, with feelings of helpless confusion.  &hellip;
</p>
<p>&mdash;Robert Grudin, <cite>Time and the Art of Living</cite>.
</p></blockquote>

<p>This section describes the textual date representations that GNU
programs accept.  These are the strings you, as a user, can supply as
arguments to the various programs.  The C interface (via the
<code>parse_datetime</code> function) is not described here.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#General-date-syntax" accesskey="1">General date syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Common rules
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Calendar-date-items" accesskey="2">Calendar date items</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">21 Jul 2020
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Time-of-day-items" accesskey="3">Time of day items</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">9:20pm
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Time-zone-items" accesskey="4">Time zone items</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">UTC, -0700, +0900, &hellip;
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Combined-date-and-time-of-day-items" accesskey="5">Combined date and time of day items</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">2020-07-21T20:02:00,000000-0400
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Day-of-week-items" accesskey="6">Day of week items</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Monday and others
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Relative-items-in-date-strings" accesskey="7">Relative items in date strings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">next tuesday, 2 years ago
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Pure-numbers-in-date-strings" accesskey="8">Pure numbers in date strings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">20200721, 1440
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Seconds-since-the-Epoch" accesskey="9">Seconds since the Epoch</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">@1595289600
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Specifying-time-zone-rules">Specifying time zone rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">TZ=&quot;America/New_York&quot;, TZ=&quot;UTC0&quot;
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Authors-of-parse_005fdatetime">Authors of parse_datetime</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Bellovin, Eggert, Salz, Berets, et al.
</td></tr>
</table>


<hr>
<span id="General-date-syntax"></span><div class="header">
<p>
Next: <a href="#Calendar-date-items" accesskey="n" rel="next">Calendar date items</a>, Up: <a href="#Date-input-formats" accesskey="u" rel="up">Date input formats</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="General-date-syntax-1"></span><h3 class="section">6.1 General date syntax</h3>

<span id="index-general-date-syntax"></span>

<span id="index-items-in-date-strings"></span>
<p>A <em>date</em> is a string, possibly empty, containing many items
separated by whitespace.  The whitespace may be omitted when no
ambiguity arises.  The empty string means the beginning of today (i.e.,
midnight).  Order of the items is immaterial.  A date string may contain
many flavors of items:
</p>
<ul>
<li> calendar date items
</li><li> time of day items
</li><li> time zone items
</li><li> combined date and time of day items
</li><li> day of the week items
</li><li> relative items
</li><li> pure numbers.
</li></ul>

<p>We describe each of these item types in turn, below.
</p>
<span id="index-numbers_002c-written_002dout"></span>
<span id="index-ordinal-numbers"></span>
<span id="index-first-in-date-strings"></span>
<span id="index-next-in-date-strings"></span>
<span id="index-last-in-date-strings"></span>
<p>A few ordinal numbers may be written out in words in some contexts.  This is
most useful for specifying day of the week items or relative items (see
below).  Among the most commonly used ordinal numbers, the word
&lsquo;<samp>last</samp>&rsquo; stands for <em>-1</em>, &lsquo;<samp>this</samp>&rsquo; stands for 0, and
&lsquo;<samp>first</samp>&rsquo; and &lsquo;<samp>next</samp>&rsquo; both stand for 1.  Because the word
&lsquo;<samp>second</samp>&rsquo; stands for the unit of time there is no way to write the
ordinal number 2, but for convenience &lsquo;<samp>third</samp>&rsquo; stands for 3,
&lsquo;<samp>fourth</samp>&rsquo; for 4, &lsquo;<samp>fifth</samp>&rsquo; for 5,
&lsquo;<samp>sixth</samp>&rsquo; for 6, &lsquo;<samp>seventh</samp>&rsquo; for 7, &lsquo;<samp>eighth</samp>&rsquo; for 8,
&lsquo;<samp>ninth</samp>&rsquo; for 9, &lsquo;<samp>tenth</samp>&rsquo; for 10, &lsquo;<samp>eleventh</samp>&rsquo; for 11 and
&lsquo;<samp>twelfth</samp>&rsquo; for 12.
</p>
<span id="index-months_002c-written_002dout"></span>
<p>When a month is written this way, it is still considered to be written
numerically, instead of being &ldquo;spelled in full&rdquo;; this changes the
allowed strings.
</p>
<span id="index-language_002c-in-dates"></span>
<p>In the current implementation, only English is supported for words and
abbreviations like &lsquo;<samp>AM</samp>&rsquo;, &lsquo;<samp>DST</samp>&rsquo;, &lsquo;<samp>EST</samp>&rsquo;, &lsquo;<samp>first</samp>&rsquo;,
&lsquo;<samp>January</samp>&rsquo;, &lsquo;<samp>Sunday</samp>&rsquo;, &lsquo;<samp>tomorrow</samp>&rsquo;, and &lsquo;<samp>year</samp>&rsquo;.
</p>
<span id="index-language_002c-in-dates-1"></span>
<span id="index-time-zone-item"></span>
<p>The output of the <code>date</code> command
is not always acceptable as a date string,
not only because of the language problem, but also because there is no
standard meaning for time zone items like &lsquo;<samp>IST</samp>&rsquo;.  When using
<code>date</code> to generate a date string intended to be parsed later,
specify a date format that is independent of language and that does not
use time zone items other than &lsquo;<samp>UTC</samp>&rsquo; and &lsquo;<samp>Z</samp>&rsquo;.  Here are some
ways to do this:
</p>
<div class="example">
<pre class="example">$ LC_ALL=C TZ=UTC0 date
Tue Jul 21 23:00:37 UTC 2020
$ TZ=UTC0 date +'%Y-%m-%d %H:%M:%SZ'
2020-07-21 23:00:37Z
$ date --rfc-3339=ns  # --rfc-3339 is a GNU extension.
2020-07-21 19:00:37.692722128-04:00
$ date --rfc-2822  # a GNU extension
Tue, 21 Jul 2020 19:00:37 -0400
$ date +'%Y-%m-%d %H:%M:%S %z'  # %z is a GNU extension.
2020-07-21 19:00:37 -0400
$ date +'@%s.%N'  # %s and %N are GNU extensions.
@1595372437.692722128
</pre></div>

<span id="index-case_002c-ignored-in-dates"></span>
<span id="index-comments_002c-in-dates"></span>
<p>Alphabetic case is completely ignored in dates.  Comments may be introduced
between round parentheses, as long as included parentheses are properly
nested.  Hyphens not followed by a digit are currently ignored.  Leading
zeros on numbers are ignored.
</p>
<span id="index-leap-seconds"></span>
<p>Invalid dates like &lsquo;<samp>2019-02-29</samp>&rsquo; or times like &lsquo;<samp>24:00</samp>&rsquo; are
rejected.  In the typical case of a host that does not support leap
seconds, a time like &lsquo;<samp>23:59:60</samp>&rsquo; is rejected even if it
corresponds to a valid leap second.
</p>

<hr>
<span id="Calendar-date-items"></span><div class="header">
<p>
Next: <a href="#Time-of-day-items" accesskey="n" rel="next">Time of day items</a>, Previous: <a href="#General-date-syntax" accesskey="p" rel="prev">General date syntax</a>, Up: <a href="#Date-input-formats" accesskey="u" rel="up">Date input formats</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Calendar-date-items-1"></span><h3 class="section">6.2 Calendar date items</h3>

<span id="index-calendar-date-item"></span>

<p>A <em>calendar date item</em> specifies a day of the year.  It is
specified differently, depending on whether the month is specified
numerically or literally.  All these strings specify the same calendar date:
</p>
<div class="example">
<pre class="example">2020-07-20     # ISO 8601.
20-7-20        # Assume 19xx for 69 through 99,
               # 20xx for 00 through 68 (not recommended).
7/20/2020      # Common U.S. writing.
20 July 2020
20 Jul 2020    # Three-letter abbreviations always allowed.
Jul 20, 2020
20-jul-2020
20jul2020
</pre></div>

<p>The year can also be omitted.  In this case, the last specified year is
used, or the current year if none.  For example:
</p>
<div class="example">
<pre class="example">7/20
jul 20
</pre></div>

<p>Here are the rules.
</p>
<span id="index-ISO-8601-date-format"></span>
<span id="index-date-format_002c-ISO-8601"></span>
<p>For numeric months, the ISO 8601 format
&lsquo;<samp><var>year</var>-<var>month</var>-<var>day</var></samp>&rsquo; is allowed, where <var>year</var> is
any positive number, <var>month</var> is a number between 01 and 12, and
<var>day</var> is a number between 01 and 31.  A leading zero must be present
if a number is less than ten.  If <var>year</var> is 68 or smaller, then 2000
is added to it; otherwise, if <var>year</var> is less than 100,
then 1900 is added to it.  The construct
&lsquo;<samp><var>month</var>/<var>day</var>/<var>year</var></samp>&rsquo;, popular in the United States,
is accepted.  Also &lsquo;<samp><var>month</var>/<var>day</var></samp>&rsquo;, omitting the year.
</p>
<span id="index-month-names-in-date-strings"></span>
<span id="index-abbreviations-for-months"></span>
<p>Literal months may be spelled out in full: &lsquo;<samp>January</samp>&rsquo;,
&lsquo;<samp>February</samp>&rsquo;, &lsquo;<samp>March</samp>&rsquo;, &lsquo;<samp>April</samp>&rsquo;, &lsquo;<samp>May</samp>&rsquo;, &lsquo;<samp>June</samp>&rsquo;,
&lsquo;<samp>July</samp>&rsquo;, &lsquo;<samp>August</samp>&rsquo;, &lsquo;<samp>September</samp>&rsquo;, &lsquo;<samp>October</samp>&rsquo;,
&lsquo;<samp>November</samp>&rsquo; or &lsquo;<samp>December</samp>&rsquo;.  Literal months may be abbreviated
to their first three letters, possibly followed by an abbreviating dot.
It is also permitted to write &lsquo;<samp>Sept</samp>&rsquo; instead of &lsquo;<samp>September</samp>&rsquo;.
</p>
<p>When months are written literally, the calendar date may be given as any
of the following:
</p>
<div class="example">
<pre class="example"><var>day</var> <var>month</var> <var>year</var>
<var>day</var> <var>month</var>
<var>month</var> <var>day</var> <var>year</var>
<var>day</var>-<var>month</var>-<var>year</var>
</pre></div>

<p>Or, omitting the year:
</p>
<div class="example">
<pre class="example"><var>month</var> <var>day</var>
</pre></div>


<hr>
<span id="Time-of-day-items"></span><div class="header">
<p>
Next: <a href="#Time-zone-items" accesskey="n" rel="next">Time zone items</a>, Previous: <a href="#Calendar-date-items" accesskey="p" rel="prev">Calendar date items</a>, Up: <a href="#Date-input-formats" accesskey="u" rel="up">Date input formats</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Time-of-day-items-1"></span><h3 class="section">6.3 Time of day items</h3>

<span id="index-time-of-day-item"></span>

<p>A <em>time of day item</em> in date strings specifies the time on a given
day.  Here are some examples, all of which represent the same time:
</p>
<div class="example">
<pre class="example">20:02:00.000000
20:02
8:02pm
20:02-0500      # In EST (U.S. Eastern Standard Time).
</pre></div>

<span id="index-leap-seconds-1"></span>
<p>More generally, the time of day may be given as
&lsquo;<samp><var>hour</var>:<var>minute</var>:<var>second</var></samp>&rsquo;, where <var>hour</var> is
a number between 0 and 23, <var>minute</var> is a number between 0 and
59, and <var>second</var> is a number between 0 and 59 possibly followed by
&lsquo;<samp>.</samp>&rsquo; or &lsquo;<samp>,</samp>&rsquo; and a fraction containing one or more digits.
Alternatively,
&lsquo;<samp>:<var>second</var></samp>&rsquo; can be omitted, in which case it is taken to
be zero.  On the rare hosts that support leap seconds, <var>second</var>
may be 60.
</p>
<span id="index-am-in-date-strings"></span>
<span id="index-pm-in-date-strings"></span>
<span id="index-midnight-in-date-strings"></span>
<span id="index-noon-in-date-strings"></span>
<p>If the time is followed by &lsquo;<samp>am</samp>&rsquo; or &lsquo;<samp>pm</samp>&rsquo; (or &lsquo;<samp>a.m.</samp>&rsquo;
or &lsquo;<samp>p.m.</samp>&rsquo;), <var>hour</var> is restricted to run from 1 to 12, and
&lsquo;<samp>:<var>minute</var></samp>&rsquo; may be omitted (taken to be zero).  &lsquo;<samp>am</samp>&rsquo;
indicates the first half of the day, &lsquo;<samp>pm</samp>&rsquo; indicates the second
half of the day.  In this notation, 12 is the predecessor of 1:
midnight is &lsquo;<samp>12am</samp>&rsquo; while noon is &lsquo;<samp>12pm</samp>&rsquo;.
(This is the zero-oriented interpretation of &lsquo;<samp>12am</samp>&rsquo; and &lsquo;<samp>12pm</samp>&rsquo;,
as opposed to the old tradition derived from Latin
which uses &lsquo;<samp>12m</samp>&rsquo; for noon and &lsquo;<samp>12pm</samp>&rsquo; for midnight.)
</p>
<span id="index-time-zone-correction"></span>
<span id="index-minutes_002c-time-zone-correction-by"></span>
<p>The time may alternatively be followed by a time zone correction,
expressed as &lsquo;<samp><var>s</var><var>hh</var><var>mm</var></samp>&rsquo;, where <var>s</var> is &lsquo;<samp>+</samp>&rsquo;
or &lsquo;<samp>-</samp>&rsquo;, <var>hh</var> is a number of zone hours and <var>mm</var> is a number
of zone minutes.
The zone minutes term, <var>mm</var>, may be omitted, in which case
the one- or two-digit correction is interpreted as a number of hours.
You can also separate <var>hh</var> from <var>mm</var> with a colon.
When a time zone correction is given this way, it
forces interpretation of the time relative to
Coordinated Universal Time (UTC), overriding any previous
specification for the time zone or the local time zone.  For example,
&lsquo;<samp>+0530</samp>&rsquo; and &lsquo;<samp>+05:30</samp>&rsquo; both stand for the time zone 5.5 hours
ahead of UTC (e.g., India).
This is the best way to
specify a time zone correction by fractional parts of an hour.
The maximum zone correction is 24 hours.
</p>
<p>Either &lsquo;<samp>am</samp>&rsquo;/&lsquo;<samp>pm</samp>&rsquo; or a time zone correction may be specified,
but not both.
</p>

<hr>
<span id="Time-zone-items"></span><div class="header">
<p>
Next: <a href="#Combined-date-and-time-of-day-items" accesskey="n" rel="next">Combined date and time of day items</a>, Previous: <a href="#Time-of-day-items" accesskey="p" rel="prev">Time of day items</a>, Up: <a href="#Date-input-formats" accesskey="u" rel="up">Date input formats</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Time-zone-items-1"></span><h3 class="section">6.4 Time zone items</h3>

<span id="index-time-zone-item-1"></span>

<p>A <em>time zone item</em> specifies an international time zone, indicated
by a small set of letters, e.g., &lsquo;<samp>UTC</samp>&rsquo; or &lsquo;<samp>Z</samp>&rsquo;
for Coordinated Universal
Time.  Any included periods are ignored.  By following a
non-daylight-saving time zone by the string &lsquo;<samp>DST</samp>&rsquo; in a separate
word (that is, separated by some white space), the corresponding
daylight saving time zone may be specified.
Alternatively, a non-daylight-saving time zone can be followed by a
time zone correction, to add the two values.  This is normally done
only for &lsquo;<samp>UTC</samp>&rsquo;; for example, &lsquo;<samp>UTC+05:30</samp>&rsquo; is equivalent to
&lsquo;<samp>+05:30</samp>&rsquo;.
</p>
<p>Time zone items other than &lsquo;<samp>UTC</samp>&rsquo; and &lsquo;<samp>Z</samp>&rsquo;
are obsolescent and are not recommended, because they
are ambiguous; for example, &lsquo;<samp>EST</samp>&rsquo; has a different meaning in
Australia than in the United States, and &lsquo;<samp>A</samp>&rsquo; has different
meaning as a military time zone than as an obsolescent
RFC 822 time zone.  Instead, it&rsquo;s better to use
unambiguous numeric time zone corrections like &lsquo;<samp>-0500</samp>&rsquo;, as
described in the previous section.
</p>
<p>If neither a time zone item nor a time zone correction is supplied,
timestamps are interpreted using the rules of the default time zone
(see <a href="#Specifying-time-zone-rules">Specifying time zone rules</a>).
</p>

<hr>
<span id="Combined-date-and-time-of-day-items"></span><div class="header">
<p>
Next: <a href="#Day-of-week-items" accesskey="n" rel="next">Day of week items</a>, Previous: <a href="#Time-zone-items" accesskey="p" rel="prev">Time zone items</a>, Up: <a href="#Date-input-formats" accesskey="u" rel="up">Date input formats</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Combined-date-and-time-of-day-items-1"></span><h3 class="section">6.5 Combined date and time of day items</h3>

<span id="index-combined-date-and-time-of-day-item"></span>
<span id="index-ISO-8601-date-and-time-of-day-format"></span>
<span id="index-date-and-time-of-day-format_002c-ISO-8601"></span>

<p>The ISO 8601 date and time of day extended format consists of an ISO
8601 date, a &lsquo;<samp>T</samp>&rsquo; character separator, and an ISO 8601 time of
day.  This format is also recognized if the &lsquo;<samp>T</samp>&rsquo; is replaced by a
space.
</p>
<p>In this format, the time of day should use 24-hour notation.
Fractional seconds are allowed, with either comma or period preceding
the fraction.  ISO 8601 fractional minutes and hours are not
supported.  Typically, hosts support nanosecond timestamp resolution;
excess precision is silently discarded.
</p>
<p>Here are some examples:
</p>
<div class="example">
<pre class="example">2012-09-24T20:02:00.052-05:00
2012-12-31T23:59:59,999999999+11:00
1970-01-01 00:00Z
</pre></div>

<hr>
<span id="Day-of-week-items"></span><div class="header">
<p>
Next: <a href="#Relative-items-in-date-strings" accesskey="n" rel="next">Relative items in date strings</a>, Previous: <a href="#Combined-date-and-time-of-day-items" accesskey="p" rel="prev">Combined date and time of day items</a>, Up: <a href="#Date-input-formats" accesskey="u" rel="up">Date input formats</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Day-of-week-items-1"></span><h3 class="section">6.6 Day of week items</h3>

<span id="index-day-of-week-item"></span>

<p>The explicit mention of a day of the week will forward the date
(only if necessary) to reach that day of the week in the future.
</p>
<p>Days of the week may be spelled out in full: &lsquo;<samp>Sunday</samp>&rsquo;,
&lsquo;<samp>Monday</samp>&rsquo;, &lsquo;<samp>Tuesday</samp>&rsquo;, &lsquo;<samp>Wednesday</samp>&rsquo;, &lsquo;<samp>Thursday</samp>&rsquo;,
&lsquo;<samp>Friday</samp>&rsquo; or &lsquo;<samp>Saturday</samp>&rsquo;.  Days may be abbreviated to their
first three letters, optionally followed by a period.  The special
abbreviations &lsquo;<samp>Tues</samp>&rsquo; for &lsquo;<samp>Tuesday</samp>&rsquo;, &lsquo;<samp>Wednes</samp>&rsquo; for
&lsquo;<samp>Wednesday</samp>&rsquo; and &lsquo;<samp>Thur</samp>&rsquo; or &lsquo;<samp>Thurs</samp>&rsquo; for &lsquo;<samp>Thursday</samp>&rsquo; are
also allowed.
</p>
<span id="index-next-day"></span>
<span id="index-last-day"></span>
<p>A number may precede a day of the week item to move forward
supplementary weeks.  It is best used in expression like &lsquo;<samp>third
monday</samp>&rsquo;.  In this context, &lsquo;<samp>last <var>day</var></samp>&rsquo; or &lsquo;<samp>next
<var>day</var></samp>&rsquo; is also acceptable; they move one week before or after
the day that <var>day</var> by itself would represent.
</p>
<p>A comma following a day of the week item is ignored.
</p>

<hr>
<span id="Relative-items-in-date-strings"></span><div class="header">
<p>
Next: <a href="#Pure-numbers-in-date-strings" accesskey="n" rel="next">Pure numbers in date strings</a>, Previous: <a href="#Day-of-week-items" accesskey="p" rel="prev">Day of week items</a>, Up: <a href="#Date-input-formats" accesskey="u" rel="up">Date input formats</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Relative-items-in-date-strings-1"></span><h3 class="section">6.7 Relative items in date strings</h3>

<span id="index-relative-items-in-date-strings"></span>
<span id="index-displacement-of-dates"></span>

<p><em>Relative items</em> adjust a date (or the current date if none) forward
or backward.  The effects of relative items accumulate.  Here are some
examples:
</p>
<div class="example">
<pre class="example">1 year
1 year ago
3 years
2 days
</pre></div>

<span id="index-year-in-date-strings"></span>
<span id="index-month-in-date-strings"></span>
<span id="index-fortnight-in-date-strings"></span>
<span id="index-week-in-date-strings"></span>
<span id="index-day-in-date-strings"></span>
<span id="index-hour-in-date-strings"></span>
<span id="index-minute-in-date-strings"></span>
<p>The unit of time displacement may be selected by the string &lsquo;<samp>year</samp>&rsquo;
or &lsquo;<samp>month</samp>&rsquo; for moving by whole years or months.  These are fuzzy
units, as years and months are not all of equal duration.  More precise
units are &lsquo;<samp>fortnight</samp>&rsquo; which is worth 14 days, &lsquo;<samp>week</samp>&rsquo; worth 7
days, &lsquo;<samp>day</samp>&rsquo; worth 24 hours, &lsquo;<samp>hour</samp>&rsquo; worth 60 minutes,
&lsquo;<samp>minute</samp>&rsquo; or &lsquo;<samp>min</samp>&rsquo; worth 60 seconds, and &lsquo;<samp>second</samp>&rsquo; or
&lsquo;<samp>sec</samp>&rsquo; worth one second.  An &lsquo;<samp>s</samp>&rsquo; suffix on these units is
accepted and ignored.
</p>
<span id="index-ago-in-date-strings"></span>
<p>The unit of time may be preceded by a multiplier, given as an optionally
signed number.  Unsigned numbers are taken as positively signed.  No
number at all implies 1 for a multiplier.  Following a relative item by
the string &lsquo;<samp>ago</samp>&rsquo; is equivalent to preceding the unit by a
multiplier with value <em>-1</em>.
</p>
<span id="index-day-in-date-strings-1"></span>
<span id="index-tomorrow-in-date-strings"></span>
<span id="index-yesterday-in-date-strings"></span>
<p>The string &lsquo;<samp>tomorrow</samp>&rsquo; is worth one day in the future (equivalent
to &lsquo;<samp>day</samp>&rsquo;), the string &lsquo;<samp>yesterday</samp>&rsquo; is worth
one day in the past (equivalent to &lsquo;<samp>day ago</samp>&rsquo;).
</p>
<span id="index-now-in-date-strings"></span>
<span id="index-today-in-date-strings"></span>
<span id="index-this-in-date-strings"></span>
<p>The strings &lsquo;<samp>now</samp>&rsquo; or &lsquo;<samp>today</samp>&rsquo; are relative items corresponding
to zero-valued time displacement, these strings come from the fact
a zero-valued time displacement represents the current time when not
otherwise changed by previous items.  They may be used to stress other
items, like in &lsquo;<samp>12:00 today</samp>&rsquo;.  The string &lsquo;<samp>this</samp>&rsquo; also has
the meaning of a zero-valued time displacement, but is preferred in
date strings like &lsquo;<samp>this thursday</samp>&rsquo;.
</p>
<p>When a relative item causes the resulting date to cross a boundary
where the clocks were adjusted, typically for daylight saving time,
the resulting date and time are adjusted accordingly.
</p>
<p>The fuzz in units can cause problems with relative items.  For
example, &lsquo;<samp>2020-07-31 -1 month</samp>&rsquo; might evaluate to 2020-07-01,
because 2020-06-31 is an invalid date.  To determine the previous
month more reliably, you can ask for the month before the 15th of the
current month.  For example:
</p>
<div class="example">
<pre class="example">$ date -R
Thu, 31 Jul 2020 13:02:39 -0400
$ date --date='-1 month' +'Last month was %B?'
Last month was July?
$ date --date=&quot;$(date +%Y-%m-15) -1 month&quot; +'Last month was %B!'
Last month was June!
</pre></div>

<p>Also, take care when manipulating dates around clock changes such as
daylight saving leaps.  In a few cases these have added or subtracted
as much as 24 hours from the clock, so it is often wise to adopt
universal time by setting the <code>TZ</code> environment variable to
&lsquo;<samp>UTC0</samp>&rsquo; before embarking on calendrical calculations.
</p>
<hr>
<span id="Pure-numbers-in-date-strings"></span><div class="header">
<p>
Next: <a href="#Seconds-since-the-Epoch" accesskey="n" rel="next">Seconds since the Epoch</a>, Previous: <a href="#Relative-items-in-date-strings" accesskey="p" rel="prev">Relative items in date strings</a>, Up: <a href="#Date-input-formats" accesskey="u" rel="up">Date input formats</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Pure-numbers-in-date-strings-1"></span><h3 class="section">6.8 Pure numbers in date strings</h3>

<span id="index-pure-numbers-in-date-strings"></span>

<p>The precise interpretation of a pure decimal number depends
on the context in the date string.
</p>
<p>If the decimal number is of the form <var>yyyy</var><var>mm</var><var>dd</var> and no
other calendar date item (see <a href="#Calendar-date-items">Calendar date items</a>) appears before it
in the date string, then <var>yyyy</var> is read as the year, <var>mm</var> as the
month number and <var>dd</var> as the day of the month, for the specified
calendar date.
</p>
<p>If the decimal number is of the form <var>hh</var><var>mm</var> and no other time
of day item appears before it in the date string, then <var>hh</var> is read
as the hour of the day and <var>mm</var> as the minute of the hour, for the
specified time of day.  <var>mm</var> can also be omitted.
</p>
<p>If both a calendar date and a time of day appear to the left of a number
in the date string, but no relative item, then the number overrides the
year.
</p>

<hr>
<span id="Seconds-since-the-Epoch"></span><div class="header">
<p>
Next: <a href="#Specifying-time-zone-rules" accesskey="n" rel="next">Specifying time zone rules</a>, Previous: <a href="#Pure-numbers-in-date-strings" accesskey="p" rel="prev">Pure numbers in date strings</a>, Up: <a href="#Date-input-formats" accesskey="u" rel="up">Date input formats</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Seconds-since-the-Epoch-1"></span><h3 class="section">6.9 Seconds since the Epoch</h3>

<p>If you precede a number with &lsquo;<samp>@</samp>&rsquo;, it represents an internal
timestamp as a count of seconds.  The number can contain an internal
decimal point (either &lsquo;<samp>.</samp>&rsquo; or &lsquo;<samp>,</samp>&rsquo;); any excess precision not
supported by the internal representation is truncated toward minus
infinity.  Such a number cannot be combined with any other date
item, as it specifies a complete timestamp.
</p>
<span id="index-beginning-of-time_002c-for-POSIX"></span>
<span id="index-Epoch_002c-for-POSIX"></span>
<p>Internally, computer times are represented as a count of seconds since
an Epoch&mdash;a well-defined point of time.  On GNU and
POSIX systems, the Epoch is 1970-01-01 00:00:00 UTC, so
&lsquo;<samp>@0</samp>&rsquo; represents this time, &lsquo;<samp>@1</samp>&rsquo; represents 1970-01-01
00:00:01 UTC, and so forth.  GNU and most other
POSIX-compliant systems support such times as an extension
to POSIX, using negative counts, so that &lsquo;<samp>@-1</samp>&rsquo;
represents 1969-12-31 23:59:59 UTC.
</p>
<p>Most modern systems count seconds with 64-bit two&rsquo;s-complement integers
of seconds with nanosecond subcounts, which is a range that includes
the known lifetime of the universe with nanosecond resolution.
Some obsolescent systems count seconds with 32-bit two&rsquo;s-complement
integers and can represent times from 1901-12-13 20:45:52 through
2038-01-19 03:14:07 UTC.  A few systems sport other time ranges.
</p>
<span id="index-leap-seconds-2"></span>
<p>On most hosts, these counts ignore the presence of leap seconds.
For example, on most hosts &lsquo;<samp>@1483228799</samp>&rsquo; represents 2016-12-31
23:59:59 UTC, &lsquo;<samp>@1483228800</samp>&rsquo; represents 2017-01-01 00:00:00
UTC, and there is no way to represent the intervening leap second
2016-12-31 23:59:60 UTC.
</p>
<hr>
<span id="Specifying-time-zone-rules"></span><div class="header">
<p>
Next: <a href="#Authors-of-parse_005fdatetime" accesskey="n" rel="next">Authors of parse_datetime</a>, Previous: <a href="#Seconds-since-the-Epoch" accesskey="p" rel="prev">Seconds since the Epoch</a>, Up: <a href="#Date-input-formats" accesskey="u" rel="up">Date input formats</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Specifying-time-zone-rules-1"></span><h3 class="section">6.10 Specifying time zone rules</h3>

<span id="index-TZ"></span>
<p>Normally, dates are interpreted using the rules of the current time
zone, which in turn are specified by the <code>TZ</code> environment
variable, or by a system default if <code>TZ</code> is not set.  To specify a
different set of default time zone rules that apply just to one date,
start the date with a string of the form &lsquo;<samp>TZ=&quot;<var>rule</var>&quot;</samp>&rsquo;.  The
two quote characters (&lsquo;<samp>&quot;</samp>&rsquo;) must be present in the date, and any
quotes or backslashes within <var>rule</var> must be escaped by a
backslash.
</p>
<p>For example, with the GNU <code>date</code> command you can
answer the question &ldquo;What time is it in New York when a Paris clock
shows 6:30am on October 31, 2019?&rdquo; by using a date beginning with
&lsquo;<samp>TZ=&quot;Europe/Paris&quot;</samp>&rsquo; as shown in the following shell transcript:
</p>
<div class="example">
<pre class="example">$ export TZ=&quot;America/New_York&quot;
$ date --date='TZ=&quot;Europe/Paris&quot; 2019-10-31 06:30'
Sun Oct 31 01:30:00 EDT 2019
</pre></div>

<p>In this example, the <samp>--date</samp> operand begins with its own
<code>TZ</code> setting, so the rest of that operand is processed according
to &lsquo;<samp>Europe/Paris</samp>&rsquo; rules, treating the string &lsquo;<samp>2019-10-31
06:30</samp>&rsquo; as if it were in Paris.  However, since the output of the
<code>date</code> command is processed according to the overall time zone
rules, it uses New York time.  (Paris was normally six hours ahead of
New York in 2019, but this example refers to a brief Halloween period
when the gap was five hours.)
</p>
<p>A <code>TZ</code> value is a rule that typically names a location in the
<a href="https://www.iana.org/time-zones">&lsquo;<samp>tz</samp>&rsquo; database</a>.
A recent catalog of location names appears in the
<a href="https://twiki.org/cgi-bin/xtra/tzdatepick.html">TWiki Date and Time
Gateway</a>.  A few non-GNU hosts require a colon before a
location name in a <code>TZ</code> setting, e.g.,
&lsquo;<samp>TZ=&quot;:America/New_York&quot;</samp>&rsquo;.
</p>
<p>The &lsquo;<samp>tz</samp>&rsquo; database includes a wide variety of locations ranging
from &lsquo;<samp>Arctic/Longyearbyen</samp>&rsquo; to &lsquo;<samp>Antarctica/South_Pole</samp>&rsquo;, but
if you are at sea and have your own private time zone, or if you are
using a non-GNU host that does not support the &lsquo;<samp>tz</samp>&rsquo;
database, you may need to use a POSIX rule instead.  Simple
POSIX rules like &lsquo;<samp>UTC0</samp>&rsquo; specify a time zone without
daylight saving time; other rules can specify simple daylight saving
regimes.  See <a href="https://www.gnu.org/software/libc/manual/html_mono/libc.html#TZ-Variable">Specifying the Time Zone with <code>TZ</code></a> in <cite>The GNU C Library</cite>.
</p>
<hr>
<span id="Authors-of-parse_005fdatetime"></span><div class="header">
<p>
Previous: <a href="#Specifying-time-zone-rules" accesskey="p" rel="prev">Specifying time zone rules</a>, Up: <a href="#Date-input-formats" accesskey="u" rel="up">Date input formats</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Authors-of-parse_005fdatetime-1"></span><h3 class="section">6.11 Authors of <code>parse_datetime</code></h3>
<span id="Authors-of-get_005fdate"></span>
<span id="index-authors-of-parse_005fdatetime"></span>

<span id="index-Bellovin_002c-Steven-M_002e"></span>
<span id="index-Salz_002c-Rich"></span>
<span id="index-Berets_002c-Jim"></span>
<span id="index-MacKenzie_002c-David"></span>
<span id="index-Meyering_002c-Jim"></span>
<span id="index-Eggert_002c-Paul"></span>
<p><code>parse_datetime</code> started life as <code>getdate</code>, as originally
implemented by Steven M. Bellovin
(<a href="mailto:smb@research.att.com">smb@research.att.com</a>) while at the University of North Carolina
at Chapel Hill.  The code was later tweaked by a couple of people on
Usenet, then completely overhauled by Rich $alz (<a href="mailto:rsalz@bbn.com">rsalz@bbn.com</a>)
and Jim Berets (<a href="mailto:jberets@bbn.com">jberets@bbn.com</a>) in August, 1990.  Various
revisions for the GNU system were made by David MacKenzie, Jim Meyering,
Paul Eggert and others, including renaming it to <code>get_date</code> to
avoid a conflict with the alternative Posix function <code>getdate</code>,
and a later rename to <code>parse_datetime</code>.  The Posix function
<code>getdate</code> can parse more locale-specific dates using
<code>strptime</code>, but relies on an environment variable and external
file, and lacks the thread-safety of <code>parse_datetime</code>.
</p>
<span id="index-Pinard_002c-F_002e"></span>
<span id="index-Berry_002c-K_002e"></span>
<p>This chapter was originally produced by Fran&ccedil;ois Pinard
(<a href="mailto:pinard@iro.umontreal.ca">pinard@iro.umontreal.ca</a>) from the <samp>parse_datetime.y</samp> source code,
and then edited by K. Berry (<a href="mailto:kb@cs.umb.edu">kb@cs.umb.edu</a>).
</p>
<hr>
<span id="Configuration"></span><div class="header">
<p>
Next: <a href="#Reference" accesskey="n" rel="next">Reference</a>, Previous: <a href="#Date-input-formats" accesskey="p" rel="prev">Date input formats</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Configuration-1"></span><h2 class="chapter">7 Configuration</h2>

<p>The findutils source distribution includes a <code>configure</code> script
which examines the system and generates files required to build
findutils.  See the files <samp>README</samp> and <samp>INSTALL</samp>.
</p>
<p>A number of options can be specified on the <code>configure</code> command
line, and many of these are straightforward, adequately documented in
the <code>--help</code> output, or not normally useful.   Options which are
useful or which are not obvious are explained here.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Leaf-Optimisation" accesskey="1">Leaf Optimisation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Take advantage of Unix file system semantics.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#d_005ftype-Optimisation" accesskey="2">d_type Optimisation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Take advantage of file type information.
</td></tr>
</table>

<hr>
<span id="Leaf-Optimisation"></span><div class="header">
<p>
Next: <a href="#d_005ftype-Optimisation" accesskey="n" rel="next">d_type Optimisation</a>, Up: <a href="#Configuration" accesskey="u" rel="up">Configuration</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Leaf-Optimisation-1"></span><h3 class="section">7.1 Leaf Optimisation</h3>

<p>Files in Unix file systems have a link count which indicates how many
names point to the same inode.  Directories in Unix filssytems have a
<samp>..</samp> entry which functions as a hard link to the parent directory
and a <samp>.</samp> entry which functions as a link to the directory itself.
The <samp>..</samp> entry of the root directory also points to the root.
This means that <code>find</code> can deduce the number of subdirectories a
directory has, simply by subtracting 2 from the directory&rsquo;s link
count.  This allows <samp>find</samp> saving <code>stat</code> calls which would
otherwise be needed to discover which directory entries are
subdirectories.
</p>
<p>File systems which don&rsquo;t have these semantics should simply return a
value less than 2 in the <code>st_nlinks</code> member of <code>struct stat</code>
in response to a successful call to <code>stat</code>.
</p>
<p>If you are building <code>find</code> for a system on which the value of
<code>st_nlinks</code> is unreliable, you can specify
<code>--disable-leaf-optimisation</code> to <code>configure</code> to prevent this
assumption being made.
</p>
<hr>
<span id="d_005ftype-Optimisation"></span><div class="header">
<p>
Previous: <a href="#Leaf-Optimisation" accesskey="p" rel="prev">Leaf Optimisation</a>, Up: <a href="#Configuration" accesskey="u" rel="up">Configuration</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="d_005ftype-Optimisation-1"></span><h3 class="section">7.2 d_type Optimisation</h3>

<p>When this feature is enabled, <code>find</code> takes advantage of the fact
that on some systems <code>readdir</code> will return the type of a file in
<code>struct dirent</code>.
</p>

<hr>
<span id="Reference"></span><div class="header">
<p>
Next: <a href="#Common-Tasks" accesskey="n" rel="next">Common Tasks</a>, Previous: <a href="#Configuration" accesskey="p" rel="prev">Configuration</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Reference-1"></span><h2 class="chapter">8 Reference</h2>

<p>Below are summaries of the command line syntax for the programs
discussed in this manual.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Invoking-find" accesskey="1">Invoking find</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Invoking-locate" accesskey="2">Invoking locate</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Invoking-updatedb" accesskey="3">Invoking updatedb</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Invoking-xargs" accesskey="4">Invoking xargs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Regular-Expressions" accesskey="5">Regular Expressions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Environment-Variables" accesskey="6">Environment Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Invoking-find"></span><div class="header">
<p>
Next: <a href="#Invoking-locate" accesskey="n" rel="next">Invoking locate</a>, Up: <a href="#Reference" accesskey="u" rel="up">Reference</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Invoking-find-1"></span><h3 class="section">8.1 Invoking <code>find</code></h3>

<div class="example">
<pre class="example">find <span class="roman">[-H] [-L] [-P] [-D <var>debugoptions</var>] [-O<var>level</var>]</span> <span class="roman">[</span><var>file</var>&hellip;<span class="roman">]</span> <span class="roman">[</span><var>expression</var><span class="roman">]</span>
</pre></div>

<p><code>find</code> searches the directory tree rooted at each file name
<var>file</var> by evaluating the <var>expression</var> on each file it finds in
the tree.
</p>
<p>The command line may begin with the &lsquo;<samp>-H</samp>&rsquo;, &lsquo;<samp>-L</samp>&rsquo;, &lsquo;<samp>-P</samp>&rsquo;,
&lsquo;<samp>-D</samp>&rsquo; and &lsquo;<samp>-O</samp>&rsquo; options.  These are followed by a list of
files or directories that should be searched.  If no files to search
are specified, the current directory (<samp>.</samp>) is used.
</p>
<p>This list of files to search is followed by a list of expressions
describing the files we wish to search for.  The first part of the
expression is recognised by the fact that it begins with &lsquo;<samp>-</samp>&rsquo;
followed by some other letters (for example &lsquo;<samp>-print</samp>&rsquo;), or is
either &lsquo;<samp>(</samp>&rsquo; or &lsquo;<samp>!</samp>&rsquo;.  Any arguments after it are the rest of
the expression.
</p>
<p>If no expression is given, the expression &lsquo;<samp>-print</samp>&rsquo; is used.
</p>
<p>The <code>find</code> command exits with status zero if all files matched
are processed successfully, greater than zero if errors occur.
</p>
<p>The <code>find</code> program also recognises two options for administrative
use:
</p>
<dl compact="compact">
<dt>&lsquo;<samp>--help</samp>&rsquo;</dt>
<dd><p>Print a summary of the command line usage and exit.
</p></dd>
<dt>&lsquo;<samp>--version</samp>&rsquo;</dt>
<dd><p>Print the version number of <code>find</code> and exit.
</p></dd>
</dl>

<p>The &lsquo;<samp>-version</samp>&rsquo; option is a synonym for &lsquo;<samp>--version</samp>&rsquo;
</p>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Filesystem-Traversal-Options" accesskey="1">Filesystem Traversal Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Warning-Messages" accesskey="2">Warning Messages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Optimisation-Options" accesskey="3">Optimisation Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Debug-Options" accesskey="4">Debug Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Find-Expressions" accesskey="5">Find Expressions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Filesystem-Traversal-Options"></span><div class="header">
<p>
Next: <a href="#Warning-Messages" accesskey="n" rel="next">Warning Messages</a>, Up: <a href="#Invoking-find" accesskey="u" rel="up">Invoking find</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Filesystem-Traversal-Options-1"></span><h4 class="subsection">8.1.1 Filesystem Traversal Options</h4>

<p>The options &lsquo;<samp>-H</samp>&rsquo;, &lsquo;<samp>-L</samp>&rsquo; or &lsquo;<samp>-P</samp>&rsquo; may be specified at the
start of the command line (if none of these is specified, &lsquo;<samp>-P</samp>&rsquo; is
assumed).  If you specify more than one of these options, the last one
specified takes effect (but note that the &lsquo;<samp>-follow</samp>&rsquo; option is
equivalent to &lsquo;<samp>-L</samp>&rsquo;).
</p>
<dl compact="compact">
<dt><code>-P</code></dt>
<dd><p>Never follow symbolic links (this is the default), except in the case
of the &lsquo;<samp>-xtype</samp>&rsquo; predicate.
</p></dd>
<dt><code>-L</code></dt>
<dd><p>Always follow symbolic links, except in the case of the &lsquo;<samp>-xtype</samp>&rsquo;
predicate.
</p></dd>
<dt><code>-H</code></dt>
<dd><p>Follow symbolic links specified in the list of files to search, or
which are otherwise specified on the command line.
</p></dd>
</dl>

<p>If <code>find</code> would follow a symbolic link, but cannot for any reason
(for example, because it has insufficient permissions or the link is
broken), it falls back on using the properties of the symbolic link
itself.  <a href="#Symbolic-Links">Symbolic Links</a> for a more complete description of how
symbolic links are handled.
</p>
<hr>
<span id="Warning-Messages"></span><div class="header">
<p>
Next: <a href="#Optimisation-Options" accesskey="n" rel="next">Optimisation Options</a>, Previous: <a href="#Filesystem-Traversal-Options" accesskey="p" rel="prev">Filesystem Traversal Options</a>, Up: <a href="#Invoking-find" accesskey="u" rel="up">Invoking find</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Warning-Messages-1"></span><h4 class="subsection">8.1.2 Warning Messages</h4>

<p>If there is an error on the <code>find</code> command line, an error message
is normally issued.  However, there are some usages that are
inadvisable but which <code>find</code> should still accept.  Under these
circumstances, <code>find</code> may issue a warning message.
</p>
<p>By default, warnings are enabled only if <code>find</code> is being run
interactively (specifically, if the standard input is a terminal) and
the <code>POSIXLY_CORRECT</code> environment variable is not set.  Warning
messages can be controlled explicitly by the use of options on the
command line:
</p>
<dl compact="compact">
<dt><code>-warn</code></dt>
<dd><p>Issue warning messages where appropriate.
</p></dd>
<dt><code>-nowarn</code></dt>
<dd><p>Do not issue warning messages.
</p></dd>
</dl>

<p>These options take effect at the point on the command line where they
are specified.  Therefore it&rsquo;s not useful to specify &lsquo;<samp>-nowarn</samp>&rsquo; at
the end of the command line.  The warning messages affected by the
above options are triggered by:
</p>
<ul class="no-bullet">
<li>- Use of the &lsquo;<samp>-d</samp>&rsquo; option which is deprecated; please use
&lsquo;<samp>-depth</samp>&rsquo; instead, since the latter is POSIX-compliant.
</li><li>- Specifying an option (for example &lsquo;<samp>-mindepth</samp>&rsquo;) after a non-option
(for example &lsquo;<samp>-type</samp>&rsquo; or &lsquo;<samp>-print</samp>&rsquo;) on the command line.
</li><li>- Use of the &lsquo;<samp>-name</samp>&rsquo; or &lsquo;<samp>-iname</samp>&rsquo; option with a slash character
in the pattern.  Since the name predicates only compare against the
basename of the visited files, the only file that can match a slash is
the root directory itself.
</li></ul>

<p>The default behaviour above is designed to work in that way so that
existing shell scripts don&rsquo;t generate spurious errors, but people will
be made aware of the problem.
</p>
<p>Some warning messages are issued for less common or more serious
problems, and consequently cannot be turned off:
</p>
<ul class="no-bullet">
<li>- Use of an unrecognised backslash escape sequence with &lsquo;<samp>-fprintf</samp>&rsquo;
</li><li>- Use of an unrecognised formatting directive with &lsquo;<samp>-fprintf</samp>&rsquo;
</li></ul>

<hr>
<span id="Optimisation-Options"></span><div class="header">
<p>
Next: <a href="#Debug-Options" accesskey="n" rel="next">Debug Options</a>, Previous: <a href="#Warning-Messages" accesskey="p" rel="prev">Warning Messages</a>, Up: <a href="#Invoking-find" accesskey="u" rel="up">Invoking find</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Optimisation-Options-1"></span><h4 class="subsection">8.1.3 Optimisation Options</h4>

<p>The &lsquo;<samp>-O<var>level</var></samp>&rsquo; option sets <code>find</code>&rsquo;s optimisation level
to <var>level</var>.  The default optimisation level is 1.
</p>
<p>At certain optimisation levels, <code>find</code> reorders tests to speed up
execution while preserving the overall effect; that is, predicates
with side effects are not reordered relative to each other.  The
optimisations performed at each optimisation level are as follows.
</p>
<dl compact="compact">
<dt>&lsquo;<samp>0</samp>&rsquo;</dt>
<dd><p>Currently equivalent to optimisation level 1.
</p>
</dd>
<dt>&lsquo;<samp>1</samp>&rsquo;</dt>
<dd><p>This is the default optimisation level and corresponds to the
traditional behaviour.  Expressions are reordered so that tests based
only on the names of files (for example&lsquo;<samp> -name</samp>&rsquo; and
&lsquo;<samp>-regex</samp>&rsquo;) are performed first.
</p>
</dd>
<dt>&lsquo;<samp>2</samp>&rsquo;</dt>
<dd><p>Any &lsquo;<samp>-type</samp>&rsquo; or &lsquo;<samp>-xtype</samp>&rsquo; tests are performed after any tests
based only on the names of files, but before any tests that require
information from the inode.  On many modern versions of Unix, file
types are returned by <code>readdir()</code> and so these predicates are
faster to evaluate than predicates which need to stat the file first.
</p>
<p>If you use the &lsquo;<samp>-fstype FOO</samp>&rsquo; predicate and specify a filsystem
type &lsquo;<samp>FOO</samp>&rsquo; which is not known (that is, present in
<samp>/etc/mtab</samp>) at the time <code>find</code> starts, that predicate is
equivalent to &lsquo;<samp>-false</samp>&rsquo;.
</p>

</dd>
<dt>&lsquo;<samp>3</samp>&rsquo;</dt>
<dd><p>At this optimisation level, the full cost-based query optimiser is
enabled.  The order of tests is modified so that cheap (i.e., fast)
tests are performed first and more expensive ones are performed later,
if necessary.  Within each cost band, predicates are evaluated earlier
or later according to whether they are likely to succeed or not.  For
&lsquo;<samp>-o</samp>&rsquo;, predicates which are likely to succeed are evaluated
earlier, and for &lsquo;<samp>-a</samp>&rsquo;, predicates which are likely to fail are
evaluated earlier.
</p></dd>
</dl>


<hr>
<span id="Debug-Options"></span><div class="header">
<p>
Next: <a href="#Find-Expressions" accesskey="n" rel="next">Find Expressions</a>, Previous: <a href="#Optimisation-Options" accesskey="p" rel="prev">Optimisation Options</a>, Up: <a href="#Invoking-find" accesskey="u" rel="up">Invoking find</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Debug-Options-1"></span><h4 class="subsection">8.1.4 Debug Options</h4>

<p>The &lsquo;<samp>-D</samp>&rsquo; option makes <code>find</code> produce diagnostic output.
Much of the information is useful only for diagnosing problems, and so
most people will not find this option helpful.
</p>
<p>The list of debug options should be comma separated.  Compatibility of
the debug options is not guaranteed between releases of findutils.
For a complete list of valid debug options, see the output of
<code>find -D help</code>.
</p>
<p>Valid debug options include:
</p><dl compact="compact">
<dt>&lsquo;<samp>tree</samp>&rsquo;</dt>
<dd><p>Show the expression tree in its original and optimised form.
</p></dd>
<dt>&lsquo;<samp>stat</samp>&rsquo;</dt>
<dd><p>Print messages as files are examined with the stat and lstat system
calls.  The find program tries to minimise such calls.
</p></dd>
<dt>&lsquo;<samp>opt</samp>&rsquo;</dt>
<dd><p>Prints diagnostic information relating to the optimisation of the
expression tree; see the &lsquo;<samp>-O</samp>&rsquo; option.
</p></dd>
<dt>&lsquo;<samp>rates</samp>&rsquo;</dt>
<dd><p>Prints a summary indicating how often each predicate succeeded or
failed.
</p></dd>
<dt>&lsquo;<samp>all</samp>&rsquo;</dt>
<dd><p>Enable all of the other debug options (but &lsquo;<samp>help</samp>&rsquo;).
</p></dd>
<dt>&lsquo;<samp>help</samp>&rsquo;</dt>
<dd><p>Explain the debugging options.
</p></dd>
</dl>

<hr>
<span id="Find-Expressions"></span><div class="header">
<p>
Previous: <a href="#Debug-Options" accesskey="p" rel="prev">Debug Options</a>, Up: <a href="#Invoking-find" accesskey="u" rel="up">Invoking find</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Find-Expressions-1"></span><h4 class="subsection">8.1.5 Find Expressions</h4>

<p>The final part of the <code>find</code> command line is a list of
expressions.  See <a href="#Primary-Index">Primary Index</a>, for a summary of all of the tests,
actions, and options that the expression can contain.  If the
expression is missing, &lsquo;<samp>-print</samp>&rsquo; is assumed.
</p>
<hr>
<span id="Invoking-locate"></span><div class="header">
<p>
Next: <a href="#Invoking-updatedb" accesskey="n" rel="next">Invoking updatedb</a>, Previous: <a href="#Invoking-find" accesskey="p" rel="prev">Invoking find</a>, Up: <a href="#Reference" accesskey="u" rel="up">Reference</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Invoking-locate-1"></span><h3 class="section">8.2 Invoking <code>locate</code></h3>

<div class="example">
<pre class="example">locate <span class="roman">[</span><var>option</var>&hellip;<span class="roman">]</span> <var>pattern</var>&hellip;
</pre></div>

<p>For each <var>pattern</var> given <code>locate</code> searches one or more file
name databases returning each match of <var>pattern</var>.
</p>
<dl compact="compact">
<dt><code>--all</code></dt>
<dt><code>-A</code></dt>
<dd><p>Print only names which match all non-option arguments, not those
matching one or more non-option arguments.
</p>
</dd>
<dt><code>--basename</code></dt>
<dt><code>-b</code></dt>
<dd><p>The specified pattern is matched against just the last component of
the name of a file in the <code>locate</code> database.  This last
component is also called the &ldquo;base name&rdquo;.  For example, the base
name of <samp>/tmp/mystuff/foo.old.c</samp> is <samp>foo.old.c</samp>.  If the
pattern contains metacharacters, it must match the base name exactly.
If not, it must match part of the base name.
</p>
</dd>
<dt><code>--count</code></dt>
<dt><code>-c</code></dt>
<dd><p>Instead of printing the matched file names, just print the total
number of matches found, unless &lsquo;<samp>--print</samp>&rsquo; (&lsquo;<samp>-p</samp>&rsquo;) is also
present.
</p>

</dd>
<dt><code>--database=<var>path</var></code></dt>
<dt><code>-d <var>path</var></code></dt>
<dd><p>Instead of searching the default <code>locate</code> database
<samp>/usr/local/var/locatedb</samp>, <code>locate</code> searches the file
name databases in <var>path</var>, which is a colon-separated list of
database file names.  You can also use the environment variable
<code>LOCATE_PATH</code> to set the list of database files to search.  The
option overrides the environment variable if both are used.  Empty
elements in <var>path</var> (that is, a leading or trailing colon, or two
colons in a row) are taken to stand for the default database.
A database can be supplied on stdin, using &lsquo;<samp>-</samp>&rsquo; as an element
of &lsquo;<samp>path</samp>&rsquo;. If more than one element of &lsquo;<samp>path</samp>&rsquo; is &lsquo;<samp>-</samp>&rsquo;,
later instances are ignored (but a warning message is printed).
</p>
</dd>
<dt><code>--existing</code></dt>
<dt><code>-e</code></dt>
<dd><p>Only print out such names which currently exist (instead of such names
which existed when the database was created).  Note that this may slow
down the program a lot, if there are many matches in the database.
The way in which broken symbolic links are treated is affected by the
&lsquo;<samp>-L</samp>&rsquo;, &lsquo;<samp>-P</samp>&rsquo; and &lsquo;<samp>-H</samp>&rsquo; options.  Please note that it is
possible for the file to be deleted after <code>locate</code> has checked
that it exists, but before you use it.  This option is automatically
turned on when reading an <code>slocate</code> database in secure mode
(see <a href="#slocate-Database-Format">slocate Database Format</a>).
</p>
</dd>
<dt><code>--non-existing</code></dt>
<dt><code>-E</code></dt>
<dd><p>Only print out such names which currently do not exist (instead of
such names which existed when the database was created).  Note that
this may slow down the program a lot, if there are many matches in the
database.  The way in which broken symbolic links are treated is
affected by the &lsquo;<samp>-L</samp>&rsquo;, &lsquo;<samp>-P</samp>&rsquo; and &lsquo;<samp>-H</samp>&rsquo; options.  Please
note that <code>locate</code> checks that the file does not exist, but a
file of the same name might be created after <code>locate</code>&rsquo;s check but
before you read <code>locate</code>&rsquo;s output.
</p>
</dd>
<dt><code>--follow</code></dt>
<dt><code>-L</code></dt>
<dd><p>If testing for the existence of files (with the &lsquo;<samp>-e</samp>&rsquo; or &lsquo;<samp>-E</samp>&rsquo;
options), consider broken symbolic links to be non-existing.  This is
the default behaviour.
</p>
</dd>
<dt><code>--nofollow</code></dt>
<dt><code>-P</code></dt>
<dt><code>-H</code></dt>
<dd><p>If testing for the existence of files (with the &lsquo;<samp>-e</samp>&rsquo; or &lsquo;<samp>-E</samp>&rsquo;
options), treat broken symbolic links as if they were existing files.
The &lsquo;<samp>-H</samp>&rsquo; form of this option is provided purely for similarity
with <code>find</code>; the use of &lsquo;<samp>-P</samp>&rsquo; is recommended over &lsquo;<samp>-H</samp>&rsquo;.
</p>
</dd>
<dt><code>--ignore-case</code></dt>
<dt><code>-i</code></dt>
<dd><p>Ignore case distinctions in both the pattern and the file names.
</p>
</dd>
<dt><code>--limit=N</code></dt>
<dt><code>-l N</code></dt>
<dd><p>Limit the number of results printed to N.  When used with the
&lsquo;<samp>--count</samp>&rsquo; option, the value printed will never be larger than
this limit.
</p></dd>
<dt><code>--max-database-age=D</code></dt>
<dd><p>Normally, <code>locate</code> will issue a warning message when it searches
a database which is more than 8 days old.  This option changes that
value to something other than 8.  The effect of specifying a negative
value is undefined.
</p></dd>
<dt><code>--mmap</code></dt>
<dt><code>-m</code></dt>
<dd><p>Accepted but does nothing.  The option is supported only to provide
compatibility with BSD&rsquo;s <code>locate</code>.
</p>
</dd>
<dt><code>--null</code></dt>
<dt><code>-0</code></dt>
<dd><p>Results are separated with the ASCII NUL character rather than the
newline character.  To get the full benefit of this option,
use the new <code>locate</code> database format (that is the default
anyway).
</p>
</dd>
<dt><code>--print</code></dt>
<dt><code>-p</code></dt>
<dd><p>Print search results when they normally would not be due to
use of &lsquo;<samp>--statistics</samp>&rsquo; (&lsquo;<samp>-S</samp>&rsquo;) or &lsquo;<samp>--count</samp>&rsquo;
(&lsquo;<samp>-c</samp>&rsquo;).
</p>
</dd>
<dt><code>--wholename</code></dt>
<dt><code>-w</code></dt>
<dd><p>The specified pattern is matched against the whole name of the file in
the <code>locate</code> database.  If the pattern contains metacharacters,
it must match exactly.  If not, it must match part of the whole file
name.  This is the default behaviour.
</p>
</dd>
<dt><code>--regex</code></dt>
<dt><code>-r</code></dt>
<dd><p>Instead of using substring or shell glob matching, the pattern
specified on the command line is understood to be a regular
expression.  GNU Emacs-style regular expressions are assumed unless
the &lsquo;<samp>--regextype</samp>&rsquo; option is also given.  File names from the
<code>locate</code> database are matched using the specified regular
expression.  If the &lsquo;<samp>-i</samp>&rsquo; flag is also given, matching is
case-insensitive.  Matches are performed against the whole path name,
and so by default a pathname will be matched if any part of it matches
the specified regular expression.  The regular expression may use
&lsquo;<samp>^</samp>&rsquo; or &lsquo;<samp>$</samp>&rsquo; to anchor a match at the beginning or end of a
pathname.
</p>
</dd>
<dt><code>--regextype</code></dt>
<dd><p>This option changes the regular expression syntax and behaviour used
by the &lsquo;<samp>--regex</samp>&rsquo; option.  <a href="#Regular-Expressions">Regular Expressions</a> for more
information on the regular expression dialects understood by GNU
findutils.
</p>
</dd>
<dt><code>--stdio</code></dt>
<dt><code>-s</code></dt>
<dd><p>Accepted but does nothing.  The option is supported only to provide
compatibility with BSD&rsquo;s <code>locate</code>.
</p>
</dd>
<dt><code>--statistics</code></dt>
<dt><code>-S</code></dt>
<dd><p>Print some summary information for each <code>locate</code> database.  No
search is performed unless non-option arguments are given.
Although the BSD version of locate also has this option, the format of the
output is different.
</p>
</dd>
<dt><code>--help</code></dt>
<dd><p>Print a summary of the command line usage for <code>locate</code> and exit.
</p>
</dd>
<dt><code>--version</code></dt>
<dd><p>Print the version number of <code>locate</code> and exit.
</p></dd>
</dl>

<hr>
<span id="Invoking-updatedb"></span><div class="header">
<p>
Next: <a href="#Invoking-xargs" accesskey="n" rel="next">Invoking xargs</a>, Previous: <a href="#Invoking-locate" accesskey="p" rel="prev">Invoking locate</a>, Up: <a href="#Reference" accesskey="u" rel="up">Reference</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Invoking-updatedb-1"></span><h3 class="section">8.3 Invoking <code>updatedb</code></h3>

<div class="example">
<pre class="example">updatedb <span class="roman">[</span><var>option</var>&hellip;<span class="roman">]</span>
</pre></div>

<p><code>updatedb</code> creates and updates the database of file names used by
<code>locate</code>.  <code>updatedb</code> generates a list of files similar to
the output of <code>find</code> and then uses utilities for optimizing the
database for performance.  <code>updatedb</code> is often run periodically
as a <code>cron</code> job and configured with environment variables or
command options.  Typically, operating systems have a shell script
that &ldquo;exports&rdquo; configurations for variable definitions and uses
another shell script that &ldquo;sources&rdquo; the configuration file into the
environment and then executes <code>updatedb</code> in the environment.
</p>
<dl compact="compact">
<dt><code>--findoptions='<var>OPTION</var>&hellip;'</code></dt>
<dd><p>Global options to pass on to <code>find</code>.
The environment variable <code>FINDOPTIONS</code> also sets this value.
Default is none.
</p>
</dd>
<dt><code>--localpaths='<var>path</var>&hellip;'</code></dt>
<dd><p>Non-network directories to put in the database.
Default is <samp>/</samp>.
</p>
</dd>
<dt><code>--netpaths='<var>path</var>&hellip;'</code></dt>
<dd><p>Network (NFS, AFS, RFS, etc.) directories to put in the database.
The environment variable <code>NETPATHS</code> also sets this value.
Default is none.
</p>
</dd>
<dt><code>--prunepaths='<var>path</var>&hellip;'</code></dt>
<dd><p>Directories to omit from the database, which would otherwise be
included.  The environment variable <code>PRUNEPATHS</code> also sets this
value.  Default is <samp>/tmp /usr/tmp /var/tmp /afs</samp>.  The paths are
used as regular expressions (with <code>find ... -regex</code>, so you need
to specify these paths in the same way that <code>find</code> will encounter
them.  This means for example that the paths must not include trailing
slashes.
</p>
</dd>
<dt><code>--prunefs='<var>path</var>&hellip;'</code></dt>
<dd><p>Filesystems to omit from the database, which would otherwise be
included.  Note that files are pruned when a filesystem is reached;
Any filesystem mounted under an undesired filesystem will be ignored.
The environment variable <code>PRUNEFS</code> also sets this value.  Default
is <samp>nfs NFS proc</samp>.
</p>
</dd>
<dt><code>--output=<var>dbfile</var></code></dt>
<dd><p>The database file to build.  The default is system-dependent, but
when this document was formatted it was <samp>/usr/local/var/locatedb</samp>.
</p>
</dd>
<dt><code>--localuser=<var>user</var></code></dt>
<dd><p>The user to search the non-network directories as, using <code>su</code>.
Default is to search the non-network directories as the current user.
You can also use the environment variable <code>LOCALUSER</code> to set this user.
</p>
</dd>
<dt><code>--netuser=<var>user</var></code></dt>
<dd><p>The user to search network directories as, using <code>su</code>.  Default
<code>user</code> is <code>daemon</code>.  You can also use the environment variable
<code>NETUSER</code> to set this user.
</p>
</dd>
<dt><code>--dbformat=<var>FORMAT</var></code></dt>
<dd><p>Generate the locate database in format <code>FORMAT</code>.  Supported
database formats include <code>LOCATE02</code> (which is the default) and
<code>slocate</code>.  The <code>slocate</code> format exists for compatibility
with <code>slocate</code>. See <a href="#Database-Formats">Database Formats</a>, for a detailed
description of each format.
</p>
</dd>
<dt><code>--help</code></dt>
<dd><p>Print a summary of the command line usage and exit.
</p></dd>
<dt><code>--version</code></dt>
<dd><p>Print the version number of <code>updatedb</code> and exit.
</p></dd>
</dl>

<hr>
<span id="Invoking-xargs"></span><div class="header">
<p>
Next: <a href="#Regular-Expressions" accesskey="n" rel="next">Regular Expressions</a>, Previous: <a href="#Invoking-updatedb" accesskey="p" rel="prev">Invoking updatedb</a>, Up: <a href="#Reference" accesskey="u" rel="up">Reference</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Invoking-xargs-1"></span><h3 class="section">8.4 Invoking <code>xargs</code></h3>

<div class="example">
<pre class="example">xargs <span class="roman">[</span><var>option</var>&hellip;<span class="roman">]</span> <span class="roman">[</span><var>command</var> <span class="roman">[</span><var>initial-arguments</var><span class="roman">]</span><span class="roman">]</span>
</pre></div>

<p><code>xargs</code> exits with the following status:
</p>
<dl compact="compact">
<dt>0</dt>
<dd><p>if it succeeds
</p></dd>
<dt>123</dt>
<dd><p>if any invocation of the command exited with status 1-125
</p></dd>
<dt>124</dt>
<dd><p>if the command exited with status 255
</p></dd>
<dt>125</dt>
<dd><p>if the command is killed by a signal
</p></dd>
<dt>126</dt>
<dd><p>if the command cannot be run
</p></dd>
<dt>127</dt>
<dd><p>if the command is not found
</p></dd>
<dt>1</dt>
<dd><p>if some other error occurred.
</p></dd>
</dl>

<p>Exit codes greater than 128 are used by the shell to indicate that
a program died due to a fatal signal.
</p>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#xargs-options" accesskey="1">xargs options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Conflicting-xargs-options" accesskey="2">Conflicting xargs options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Invoking-the-shell-from-xargs" accesskey="3">Invoking the shell from xargs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="xargs-options"></span><div class="header">
<p>
Next: <a href="#Conflicting-xargs-options" accesskey="n" rel="next">Conflicting xargs options</a>, Up: <a href="#Invoking-xargs" accesskey="u" rel="up">Invoking xargs</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="xargs-options-1"></span><h4 class="subsection">8.4.1 xargs options</h4>

<dl compact="compact">
<dt><code>--arg-file<span class="roman">=<var>inputfile</var></span></code></dt>
<dt><code>-a <span class="roman"><var>inputfile</var></span></code></dt>
<dd><p>Read names from the file <var>inputfile</var> instead of standard input.
If you use this option, the standard input stream remains unchanged
when commands are run. Otherwise, stdin is redirected from
<samp>/dev/null</samp>.
</p>
</dd>
<dt><code>--null</code></dt>
<dt><code>-0</code></dt>
<dd><p>Input file names are terminated by a null character instead of by
whitespace, and any quotes and backslash characters are not considered
special (every character is taken literally).  Disables the end of
file string, which is treated like any other argument.
</p>
</dd>
<dt><code>--delimiter <var>delim</var></code></dt>
<dt><code>-d <var>delim</var></code></dt>
<dd>
<p>Input file names are terminated by the specified character <var>delim</var>
instead of by whitespace, and any quotes and backslash characters are
not considered special (every character is taken literally).  Disables
the logical end of file marker string, which is treated like any other
argument.
</p>
<p>The specified delimiter may be a single character, a C-style character
escape such as &lsquo;<samp>\n</samp>&rsquo;, or an octal or hexadecimal escape code.
Octal and hexadecimal escape codes are understood as for the
<code>printf</code> command.  Multibyte characters are not supported.
</p>
</dd>
<dt><code>-E <var>eof-str</var></code></dt>
<dt><code>--eof<span class="roman">[</span>=<var>eof-str</var><span class="roman">]</span></code></dt>
<dt><code>-e<span class="roman">[</span><var>eof-str</var><span class="roman">]</span></code></dt>
<dd>
<p>Set the logical end of file marker string to <var>eof-str</var>.  If the
logical end of file marker string occurs as a line of input, the rest of
the input is ignored.  If <var>eof-str</var> is omitted (&lsquo;<samp>-e</samp>&rsquo;) or blank
(either &lsquo;<samp>-e</samp>&rsquo; or &lsquo;<samp>-E</samp>&rsquo;), there is no logical end of file marker
string.  The &lsquo;<samp>-e</samp>&rsquo; form of this option is deprecated in favour of
the POSIX-compliant &lsquo;<samp>-E</samp>&rsquo; option, which you should use instead.  As
of GNU <code>xargs</code> version 4.2.9, the default behaviour of <code>xargs</code>
is not to have a logical end of file marker string.  The POSIX standard
(IEEE Std 1003.1, 2004 Edition) allows this.
</p>
<p>The logical end of file marker string is not treated specially if the
&lsquo;<samp>-d</samp>&rsquo; or the &lsquo;<samp>-0</samp>&rsquo; options are in effect.  That is, when either
of these options are in effect, the whole input file will be read even
if &lsquo;<samp>-E</samp>&rsquo; was used.
</p>
</dd>
<dt><code>--help</code></dt>
<dd><p>Print a summary of the options to <code>xargs</code> and exit.
</p>
</dd>
<dt><code>-I <var>replace-str</var></code></dt>
<dt><code>--replace<span class="roman">[</span>=<var>replace-str</var><span class="roman">]</span></code></dt>
<dt><code>-i<span class="roman">[</span><var>replace-str</var><span class="roman">]</span></code></dt>
<dd><p>Replace occurrences of <var>replace-str</var> in the initial arguments with
names read from standard input.  Also, unquoted blanks do not
terminate arguments; instead, the input is split at newlines only.  If
<var>replace-str</var> is omitted (omitting it is allowed only for
&lsquo;<samp>-i</samp>&rsquo;), it defaults to &lsquo;<samp>{}</samp>&rsquo; (like for &lsquo;<samp>find -exec</samp>&rsquo;).
Implies &lsquo;<samp>-x</samp>&rsquo; and &lsquo;<samp>-l 1</samp>&rsquo;.  The &lsquo;<samp>-i</samp>&rsquo; option is deprecated
in favour of the &lsquo;<samp>-I</samp>&rsquo; option.
</p>
</dd>
<dt><code>-L <var>max-lines</var></code></dt>
<dt><code>--max-lines<span class="roman">[</span>=<var>max-lines</var><span class="roman">]</span></code></dt>
<dt><code>-l<span class="roman">[</span><var>max-lines</var><span class="roman">]</span></code></dt>
<dd><p>Use at most <var>max-lines</var> non-blank input lines per command line.
For &lsquo;<samp>-l</samp>&rsquo;, <var>max-lines</var> defaults to 1 if omitted.  For
&lsquo;<samp>-L</samp>&rsquo;, the argument is mandatory.  Trailing blanks cause an input
line to be logically continued on the next input line, for the purpose
of counting the lines.  Implies &lsquo;<samp>-x</samp>&rsquo;.  The &lsquo;<samp>-l</samp>&rsquo; form of this
option is deprecated in favour of the POSIX-compliant &lsquo;<samp>-L</samp>&rsquo;
option.
</p>
</dd>
<dt><code>--max-args=<var>max-args</var></code></dt>
<dt><code>-n <var>max-args</var></code></dt>
<dd><p>Use at most <var>max-args</var> arguments per command line.  Fewer than
<var>max-args</var> arguments will be used if the size (see the &lsquo;<samp>-s</samp>&rsquo;
option) is exceeded, unless the &lsquo;<samp>-x</samp>&rsquo; option is given, in which
case <code>xargs</code> will exit.
</p>
</dd>
<dt><code>--open-tty</code></dt>
<dt><code>-o</code></dt>
<dd><p>Reopen stdin as <samp>/dev/tty</samp> in the child process before executing
the command, thus allowing that command to be associated to the terminal
while <code>xargs</code> reads from a different stream, e.g. from a pipe.
This is useful if you want <code>xargs</code> to run an interactive application.
</p><div class="example">
<pre class="example">grep -lZ PATTERN * | xargs -0o -n1 vi
</pre></div>


</dd>
<dt><code>--interactive</code></dt>
<dt><code>-p</code></dt>
<dd><p>Prompt the user about whether to run each command line and read a line
from the terminal.  Only run the command line if the response starts
with &lsquo;<samp>y</samp>&rsquo; or &lsquo;<samp>Y</samp>&rsquo;.  Implies &lsquo;<samp>-t</samp>&rsquo;.
</p>
</dd>
<dt><code>--no-run-if-empty</code></dt>
<dt><code>-r</code></dt>
<dd><p>If the standard input is completely empty, do not run the
command.  By default, the command is run once even if there is no
input.
</p>
</dd>
<dt><code>--max-chars=<var>max-chars</var></code></dt>
<dt><code>-s <var>max-chars</var></code></dt>
<dd><p>Use at most <var>max-chars</var> characters per command line, including the
command, initial arguments and any terminating nulls at the ends of
the argument strings.
</p>
</dd>
<dt><code>--show-limits</code></dt>
<dd><p>Display the limits on the command-line length which are imposed by the
operating system, <code>xargs</code>&rsquo; choice of buffer size and the
&lsquo;<samp>-s</samp>&rsquo; option.  Pipe the input from <samp>/dev/null</samp> (and perhaps
specify &lsquo;<samp>--no-run-if-empty</samp>&rsquo;) if you don&rsquo;t want <code>xargs</code> to do
anything.
</p>
</dd>
<dt><code>--verbose</code></dt>
<dt><code>-t</code></dt>
<dd><p>Print the command line on the standard error output before executing
it.
</p>
</dd>
<dt><code>--version</code></dt>
<dd><p>Print the version number of <code>xargs</code> and exit.
</p>
</dd>
<dt><code>--exit</code></dt>
<dt><code>-x</code></dt>
<dd><p>Exit if the size (see the &lsquo;<samp>-s</samp>&rsquo; option) is exceeded.
</p>

</dd>
<dt><code>--max-procs=<var>max-procs</var></code></dt>
<dt><code>-P <var>max-procs</var></code></dt>
<dd><p>Run simultaneously up to <var>max-procs</var> processes at once; the default is 1.  If
<var>max-procs</var> is 0, <code>xargs</code> will run as many processes as
possible simultaneously.   See <a href="#Controlling-Parallelism">Controlling Parallelism</a>, for
information on dynamically controlling parallelism.
</p>
</dd>
<dt><code>--process-slot-var=<var>environment-variable-name</var></code></dt>
<dd><p>Set the environment variable <code>environment-variable-name</code> to a
unique value in each running child process.  Each value is a decimal
integer.  Values are reused once child processes exit.  This can be
used in a rudimentary load distribution scheme, for example.
</p></dd>
</dl>

<hr>
<span id="Conflicting-xargs-options"></span><div class="header">
<p>
Next: <a href="#Invoking-the-shell-from-xargs" accesskey="n" rel="next">Invoking the shell from xargs</a>, Previous: <a href="#xargs-options" accesskey="p" rel="prev">xargs options</a>, Up: <a href="#Invoking-xargs" accesskey="u" rel="up">Invoking xargs</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Conflicting-options"></span><h4 class="subsection">8.4.2 Conflicting options</h4>
<p>The options &lsquo;<samp>--max-lines</samp>&rsquo; (&lsquo;<samp>-L</samp>&rsquo;, &lsquo;<samp>-l</samp>&rsquo;), &lsquo;<samp>--replace</samp>&rsquo;
(&lsquo;<samp>-I</samp>&rsquo;, &lsquo;<samp>-i</samp>&rsquo;) and &lsquo;<samp>--max-args</samp>&rsquo; (&lsquo;<samp>-n</samp>&rsquo;) are mutually exclusive.
</p>
<p>If some of them are specified at the same time, then <code>xargs</code> will
generally use the option specified last on the command line, i.e., it will
reset the value of the offending option (given before) to its default value.
Additionally, <code>xargs</code> will issue a warning diagnostic on <samp>stderr</samp>.
</p>
<div class="example">
<pre class="example">$ seq 4 | xargs -l2 -n3
xargs: warning: options --max-lines and --max-args/-n are \
  mutually exclusive, ignoring previous --max-lines value
1 2 3
4
</pre></div>

<p>The exception to this rule is that the special <var>max-args</var> value <var>1</var> is
ignored after the &lsquo;<samp>--replace</samp>&rsquo; option and its short-option aliases &lsquo;<samp>-I</samp>&rsquo;
and &lsquo;<samp>-i</samp>&rsquo;, because it would not actually conflict.
</p><div class="example">
<pre class="example">$ seq 2 | xargs --replace -n1 echo a-{}-b
a-1-b
a-2-b
</pre></div>

<hr>
<span id="Invoking-the-shell-from-xargs"></span><div class="header">
<p>
Previous: <a href="#Conflicting-xargs-options" accesskey="p" rel="prev">Conflicting xargs options</a>, Up: <a href="#Invoking-xargs" accesskey="u" rel="up">Invoking xargs</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Invoking-the-shell-from-xargs-1"></span><h4 class="subsection">8.4.3 Invoking the shell from xargs</h4>

<p>Normally, <code>xargs</code> will exec the command you specified directly,
without invoking a shell.  This is normally the behaviour one would
want.  It&rsquo;s somewhat more efficient and avoids problems with shell
metacharacters, for example.  However, sometimes it is necessary to
manipulate the environment of a command before it is run, in a way
that <code>xargs</code> does not directly support.
</p>
<p>Invoking a shell from <code>xargs</code> is a good way of performing such
manipulations.  However, some care must be taken to prevent problems,
for example unwanted interpretation of shell metacharacters.
</p>
<p>This command moves a set of files into an archive directory:
</p>
<div class="example">
<pre class="example">find /foo -maxdepth 1 -atime +366 -exec mv {} /archive \;
</pre></div>

<p>However, this will only move one file at a time.  We cannot in this
case use <code>-exec ... +</code> because the matched file names are added
at the end of the command line, while the destination directory would
need to be specified last.  We also can&rsquo;t use <code>xargs</code> in the
obvious way for the same reason.  One way of working around this
problem is to make use of the special properties of GNU <code>mv</code>; it
has a <code>-t</code> option that allows specifying the target directory
before the list of files to be moved.  However, while this
technique works for GNU <code>mv</code>, it doesn&rsquo;t solve the more general
problem.
</p>
<p>Here is a more general technique for solving this problem:
</p>
<div class="example">
<pre class="example">find /foo -maxdepth 1 -atime +366 -print0 |
xargs -r0 sh -c 'mv &quot;$@&quot; /archive' move
</pre></div>

<p>Here, a shell is being invoked.  There are two shell instances to think
about.  The first is the shell which launches the <code>xargs</code> command
(this might be the shell into which you are typing, for example).  The
second is the shell launched by <code>xargs</code> (in fact it will probably
launch several, one after the other, depending on how many files need to
be archived).  We&rsquo;ll refer to this second shell as a subshell.
</p>
<p>Our example uses the <code>-c</code> option of <code>sh</code>.  Its argument is a
shell command to be executed by the subshell.  Along with the rest of
that command, the $@ is enclosed by single quotes to make sure it is
passed to the subshell without being expanded by the parent shell.  It
is also enclosed with double quotes so that the subshell will expand
<code>$@</code> correctly even if one of the file names contains a space or
newline.
</p>
<p>The subshell will use any non-option arguments as positional
parameters (that is, in the expansion of <code>$@</code>).  Because
<code>xargs</code> launches the <code>sh -c</code> subshell with a list of files,
those files will end up as the expansion of <code>$@</code>.
</p>
<p>You may also notice the &lsquo;<samp>move</samp>&rsquo; at the end of the command line.
This is used as the value of <code>$0</code> by the subshell.  We include it
because otherwise the name of the first file to be moved would be used
instead.  If that happened it would not be included in the subshell&rsquo;s
expansion of <code>$@</code>, and so it wouldn&rsquo;t actually get moved.
</p>

<p>Another reason to use the <code>sh -c</code> construct could be to
perform redirection:
</p>
<div class="example">
<pre class="example">find /usr/include -name '*.h' | xargs grep -wl mode_t |
xargs -r sh -c 'exec emacs &quot;$@&quot; &lt; /dev/tty' Emacs
</pre></div>

<p>Notice that we use the shell builtin <code>exec</code> here.  That&rsquo;s simply
because the subshell needs to do nothing once Emacs has been invoked.
Therefore instead of keeping a <code>sh</code> process around for no reason,
we just arrange for the subshell to exec Emacs, saving an extra
process creation.
</p>
<p>Although GNU <code>xargs</code> and the implementations on some other platforms
like BSD support the &lsquo;<samp>-o</samp>&rsquo; option to achieve the same, the above is
the portable way to redirect stdin to <samp>/dev/tty</samp>.
</p>
<p>Sometimes, though, it can be helpful to keep the shell process around:
</p>
<div class="example">
<pre class="example">find /foo -maxdepth 1 -atime +366 -print0 |
xargs -r0 sh -c 'mv &quot;$@&quot; /archive || exit 255' move
</pre></div>

<p>Here, the shell will exit with status 255 if any <code>mv</code> failed.
This causes <code>xargs</code> to stop immediately.
</p>

<hr>
<span id="Regular-Expressions"></span><div class="header">
<p>
Next: <a href="#Environment-Variables" accesskey="n" rel="next">Environment Variables</a>, Previous: <a href="#Invoking-xargs" accesskey="p" rel="prev">Invoking xargs</a>, Up: <a href="#Reference" accesskey="u" rel="up">Reference</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Regular-Expressions-1"></span><h3 class="section">8.5 Regular Expressions</h3>

<p>The &lsquo;<samp>-regex</samp>&rsquo; and &lsquo;<samp>-iregex</samp>&rsquo; tests of <code>find</code> allow
matching by regular expression, as does the &lsquo;<samp>--regex</samp>&rsquo; option of
<code>locate</code>.
</p>
<p>Your locale configuration affects how regular expressions are
interpreted.  See <a href="#Environment-Variables">Environment Variables</a>, for a description of how
your locale setup affects the interpretation of regular expressions.
</p>
<p>There are also several different types of regular expression, and
these are interpreted differently.  Normally, the type of regular
expression used by <code>find</code> and <code>locate</code> is almost identical to
that used in GNU Emacs.  The single difference is that in <code>find</code>
and <code>locate</code>, a &lsquo;<samp>.</samp>&rsquo; will match a newline character.
</p>
<p>Both <code>find</code> and <code>locate</code> provide an option which allows
selecting an alternative regular expression syntax; for <code>find</code>
this is the &lsquo;<samp>-regextype</samp>&rsquo; option, and for <code>locate</code> this is
the &lsquo;<samp>--regextype</samp>&rsquo; option.
</p>
<p>These options take a single argument, which indicates the specific
regular expression syntax and behaviour that should be used.  This
should be one of the following:
</p>


<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#findutils_002ddefault-regular-expression-syntax" accesskey="1">findutils-default regular expression syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#emacs-regular-expression-syntax" accesskey="2">emacs regular expression syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#gnu_002dawk-regular-expression-syntax" accesskey="3">gnu-awk regular expression syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#grep-regular-expression-syntax" accesskey="4">grep regular expression syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#posix_002dawk-regular-expression-syntax" accesskey="5">posix-awk regular expression syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#awk-regular-expression-syntax" accesskey="6">awk regular expression syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#posix_002dbasic-regular-expression-syntax" accesskey="7">posix-basic regular expression syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#posix_002degrep-regular-expression-syntax" accesskey="8">posix-egrep regular expression syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#egrep-regular-expression-syntax" accesskey="9">egrep regular expression syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#posix_002dextended-regular-expression-syntax">posix-extended regular expression syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="findutils_002ddefault-regular-expression-syntax"></span><div class="header">
<p>
Next: <a href="#emacs-regular-expression-syntax" accesskey="n" rel="next">emacs regular expression syntax</a>, Up: <a href="#Regular-Expressions" accesskey="u" rel="up">Regular Expressions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="findutils_002ddefault-regular-expression-syntax-1"></span><h4 class="subsection">8.5.1 &lsquo;<samp>findutils-default</samp>&rsquo; regular expression syntax</h4>


<p>The character &lsquo;<samp>.</samp>&rsquo; matches any single character.
</p>

<dl compact="compact">
<dt>&lsquo;<samp>+</samp>&rsquo;</dt>
<dd><p>indicates that the regular expression should match one or more occurrences of the previous atom or regexp.
</p></dd>
<dt>&lsquo;<samp>?</samp>&rsquo;</dt>
<dd><p>indicates that the regular expression should match zero or one occurrence of the previous atom or regexp.
</p></dd>
<dt>&lsquo;<samp>\+</samp>&rsquo;</dt>
<dd><p>matches a &lsquo;<samp>+</samp>&rsquo;
</p></dd>
<dt>&lsquo;<samp>\?</samp>&rsquo;</dt>
<dd><p>matches a &lsquo;<samp>?</samp>&rsquo;.
</p></dd>
</dl>


<p>Bracket expressions are used to match ranges of characters.  Bracket expressions where the range is backward, for example &lsquo;<samp>[z-a]</samp>&rsquo;, are ignored.  Within square brackets, &lsquo;<samp>\</samp>&rsquo; is taken literally.  Character classes are not supported, so for example you would need to use &lsquo;<samp>[0-9]</samp>&rsquo; instead of &lsquo;<samp>[[:digit:]]</samp>&rsquo;.
</p>

<p>GNU extensions are supported:
</p><ol>
<li> &lsquo;<samp>\w</samp>&rsquo; matches a character within a word

</li><li> &lsquo;<samp>\W</samp>&rsquo; matches a character which is not within a word

</li><li> &lsquo;<samp>\&lt;</samp>&rsquo; matches the beginning of a word

</li><li> &lsquo;<samp>\&gt;</samp>&rsquo; matches the end of a word

</li><li> &lsquo;<samp>\b</samp>&rsquo; matches a word boundary

</li><li> &lsquo;<samp>\B</samp>&rsquo; matches characters which are not a word boundary

</li><li> &lsquo;<samp>\`</samp>&rsquo; matches the beginning of the whole input

</li><li> &lsquo;<samp>\'</samp>&rsquo; matches the end of the whole input

</li></ol>


<p>Grouping is performed with backslashes followed by parentheses &lsquo;<samp>\(</samp>&rsquo;, &lsquo;<samp>\)</samp>&rsquo;.  A backslash followed by a digit acts as a back-reference and matches the same thing as the previous grouped expression indicated by that number.  For example &lsquo;<samp>\2</samp>&rsquo; matches the second group expression.  The order of group expressions is determined by the position of their opening parenthesis &lsquo;<samp>\(</samp>&rsquo;.
</p>
<p>The alternation operator is &lsquo;<samp>\|</samp>&rsquo;.
</p>
<p>The character &lsquo;<samp>^</samp>&rsquo; only represents the beginning of a string when it appears:
</p><ol>
<li> At the beginning of a regular expression

</li><li> After an open-group, signified by &lsquo;<samp>\(</samp>&rsquo;


</li><li> After the alternation operator &lsquo;<samp>\|</samp>&rsquo;

</li></ol>


<p>The character &lsquo;<samp>$</samp>&rsquo; only represents the end of a string when it appears:
</p><ol>
<li> At the end of a regular expression

</li><li> Before a close-group, signified by &lsquo;<samp>\)</samp>&rsquo;

</li><li> Before the alternation operator &lsquo;<samp>\|</samp>&rsquo;

</li></ol>


<p>&lsquo;<samp>*</samp>&rsquo;, &lsquo;<samp>+</samp>&rsquo; and &lsquo;<samp>?</samp>&rsquo; are special at any point in a regular expression except:
</p><ol>
<li> At the beginning of a regular expression

</li><li> After an open-group, signified by &lsquo;<samp>\(</samp>&rsquo;

</li><li> After the alternation operator &lsquo;<samp>\|</samp>&rsquo;

</li></ol>




<p>The longest possible match is returned; this applies to the regular expression as a whole and (subject to this constraint) to subexpressions within groups.
</p>

<hr>
<span id="emacs-regular-expression-syntax"></span><div class="header">
<p>
Next: <a href="#gnu_002dawk-regular-expression-syntax" accesskey="n" rel="next">gnu-awk regular expression syntax</a>, Previous: <a href="#findutils_002ddefault-regular-expression-syntax" accesskey="p" rel="prev">findutils-default regular expression syntax</a>, Up: <a href="#Regular-Expressions" accesskey="u" rel="up">Regular Expressions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="emacs-regular-expression-syntax-1"></span><h4 class="subsection">8.5.2 &lsquo;<samp>emacs</samp>&rsquo; regular expression syntax</h4>


<p>The character &lsquo;<samp>.</samp>&rsquo; matches any single character except newline.
</p>

<dl compact="compact">
<dt>&lsquo;<samp>+</samp>&rsquo;</dt>
<dd><p>indicates that the regular expression should match one or more occurrences of the previous atom or regexp.
</p></dd>
<dt>&lsquo;<samp>?</samp>&rsquo;</dt>
<dd><p>indicates that the regular expression should match zero or one occurrence of the previous atom or regexp.
</p></dd>
<dt>&lsquo;<samp>\+</samp>&rsquo;</dt>
<dd><p>matches a &lsquo;<samp>+</samp>&rsquo;
</p></dd>
<dt>&lsquo;<samp>\?</samp>&rsquo;</dt>
<dd><p>matches a &lsquo;<samp>?</samp>&rsquo;.
</p></dd>
</dl>


<p>Bracket expressions are used to match ranges of characters.  Bracket expressions where the range is backward, for example &lsquo;<samp>[z-a]</samp>&rsquo;, are ignored.  Within square brackets, &lsquo;<samp>\</samp>&rsquo; is taken literally.  Character classes are not supported, so for example you would need to use &lsquo;<samp>[0-9]</samp>&rsquo; instead of &lsquo;<samp>[[:digit:]]</samp>&rsquo;.
</p>

<p>GNU extensions are supported:
</p><ol>
<li> &lsquo;<samp>\w</samp>&rsquo; matches a character within a word

</li><li> &lsquo;<samp>\W</samp>&rsquo; matches a character which is not within a word

</li><li> &lsquo;<samp>\&lt;</samp>&rsquo; matches the beginning of a word

</li><li> &lsquo;<samp>\&gt;</samp>&rsquo; matches the end of a word

</li><li> &lsquo;<samp>\b</samp>&rsquo; matches a word boundary

</li><li> &lsquo;<samp>\B</samp>&rsquo; matches characters which are not a word boundary

</li><li> &lsquo;<samp>\`</samp>&rsquo; matches the beginning of the whole input

</li><li> &lsquo;<samp>\'</samp>&rsquo; matches the end of the whole input

</li></ol>


<p>Grouping is performed with backslashes followed by parentheses &lsquo;<samp>\(</samp>&rsquo;, &lsquo;<samp>\)</samp>&rsquo;.  A backslash followed by a digit acts as a back-reference and matches the same thing as the previous grouped expression indicated by that number.  For example &lsquo;<samp>\2</samp>&rsquo; matches the second group expression.  The order of group expressions is determined by the position of their opening parenthesis &lsquo;<samp>\(</samp>&rsquo;.
</p>
<p>The alternation operator is &lsquo;<samp>\|</samp>&rsquo;.
</p>
<p>The character &lsquo;<samp>^</samp>&rsquo; only represents the beginning of a string when it appears:
</p><ol>
<li> At the beginning of a regular expression

</li><li> After an open-group, signified by &lsquo;<samp>\(</samp>&rsquo;


</li><li> After the alternation operator &lsquo;<samp>\|</samp>&rsquo;

</li></ol>


<p>The character &lsquo;<samp>$</samp>&rsquo; only represents the end of a string when it appears:
</p><ol>
<li> At the end of a regular expression

</li><li> Before a close-group, signified by &lsquo;<samp>\)</samp>&rsquo;

</li><li> Before the alternation operator &lsquo;<samp>\|</samp>&rsquo;

</li></ol>


<p>&lsquo;<samp>*</samp>&rsquo;, &lsquo;<samp>+</samp>&rsquo; and &lsquo;<samp>?</samp>&rsquo; are special at any point in a regular expression except:
</p><ol>
<li> At the beginning of a regular expression

</li><li> After an open-group, signified by &lsquo;<samp>\(</samp>&rsquo;

</li><li> After the alternation operator &lsquo;<samp>\|</samp>&rsquo;

</li></ol>




<p>The longest possible match is returned; this applies to the regular expression as a whole and (subject to this constraint) to subexpressions within groups.
</p>

<hr>
<span id="gnu_002dawk-regular-expression-syntax"></span><div class="header">
<p>
Next: <a href="#grep-regular-expression-syntax" accesskey="n" rel="next">grep regular expression syntax</a>, Previous: <a href="#emacs-regular-expression-syntax" accesskey="p" rel="prev">emacs regular expression syntax</a>, Up: <a href="#Regular-Expressions" accesskey="u" rel="up">Regular Expressions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="gnu_002dawk-regular-expression-syntax-1"></span><h4 class="subsection">8.5.3 &lsquo;<samp>gnu-awk</samp>&rsquo; regular expression syntax</h4>


<p>The character &lsquo;<samp>.</samp>&rsquo; matches any single character.
</p>

<dl compact="compact">
<dt>&lsquo;<samp>+</samp>&rsquo;</dt>
<dd><p>indicates that the regular expression should match one or more occurrences of the previous atom or regexp.
</p></dd>
<dt>&lsquo;<samp>?</samp>&rsquo;</dt>
<dd><p>indicates that the regular expression should match zero or one occurrence of the previous atom or regexp.
</p></dd>
<dt>&lsquo;<samp>\+</samp>&rsquo;</dt>
<dd><p>matches a &lsquo;<samp>+</samp>&rsquo;
</p></dd>
<dt>&lsquo;<samp>\?</samp>&rsquo;</dt>
<dd><p>matches a &lsquo;<samp>?</samp>&rsquo;.
</p></dd>
</dl>


<p>Bracket expressions are used to match ranges of characters.  Bracket expressions where the range is backward, for example &lsquo;<samp>[z-a]</samp>&rsquo;, are invalid.  Within square brackets, &lsquo;<samp>\</samp>&rsquo; can be used to quote the following character.  Character classes are supported; for example &lsquo;<samp>[[:digit:]]</samp>&rsquo; will match a single decimal digit.
</p>

<p>GNU extensions are supported:
</p><ol>
<li> &lsquo;<samp>\w</samp>&rsquo; matches a character within a word

</li><li> &lsquo;<samp>\W</samp>&rsquo; matches a character which is not within a word

</li><li> &lsquo;<samp>\&lt;</samp>&rsquo; matches the beginning of a word

</li><li> &lsquo;<samp>\&gt;</samp>&rsquo; matches the end of a word

</li><li> &lsquo;<samp>\b</samp>&rsquo; matches a word boundary

</li><li> &lsquo;<samp>\B</samp>&rsquo; matches characters which are not a word boundary

</li><li> &lsquo;<samp>\`</samp>&rsquo; matches the beginning of the whole input

</li><li> &lsquo;<samp>\'</samp>&rsquo; matches the end of the whole input

</li></ol>


<p>Grouping is performed with parentheses &lsquo;<samp>()</samp>&rsquo;.  An unmatched &lsquo;<samp>)</samp>&rsquo; matches just itself.  A backslash followed by a digit acts as a back-reference and matches the same thing as the previous grouped expression indicated by that number.  For example &lsquo;<samp>\2</samp>&rsquo; matches the second group expression.  The order of group expressions is determined by the position of their opening parenthesis &lsquo;<samp>(</samp>&rsquo;.
</p>
<p>The alternation operator is &lsquo;<samp>|</samp>&rsquo;.
</p>
<p>The characters &lsquo;<samp>^</samp>&rsquo; and &lsquo;<samp>$</samp>&rsquo; always represent the beginning and end of a string respectively, except within square brackets.  Within brackets, &lsquo;<samp>^</samp>&rsquo; can be used to invert the membership of the character class being specified.
</p>

<p>&lsquo;<samp>*</samp>&rsquo;, &lsquo;<samp>+</samp>&rsquo; and &lsquo;<samp>?</samp>&rsquo; are special at any point in a regular expression except:
</p><ol>
<li> At the beginning of a regular expression

</li><li> After an open-group, signified by &lsquo;<samp>(</samp>&rsquo;

</li><li> After the alternation operator &lsquo;<samp>|</samp>&rsquo;

</li></ol>


<p>Intervals are specified by &lsquo;<samp>{</samp>&rsquo; and &lsquo;<samp>}</samp>&rsquo;.
Invalid intervals are treated as literals, for example &lsquo;<samp>a{1</samp>&rsquo; is treated as &lsquo;<samp>a\{1</samp>&rsquo;
</p>
<p>The longest possible match is returned; this applies to the regular expression as a whole and (subject to this constraint) to subexpressions within groups.
</p>

<hr>
<span id="grep-regular-expression-syntax"></span><div class="header">
<p>
Next: <a href="#posix_002dawk-regular-expression-syntax" accesskey="n" rel="next">posix-awk regular expression syntax</a>, Previous: <a href="#gnu_002dawk-regular-expression-syntax" accesskey="p" rel="prev">gnu-awk regular expression syntax</a>, Up: <a href="#Regular-Expressions" accesskey="u" rel="up">Regular Expressions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="grep-regular-expression-syntax-1"></span><h4 class="subsection">8.5.4 &lsquo;<samp>grep</samp>&rsquo; regular expression syntax</h4>


<p>The character &lsquo;<samp>.</samp>&rsquo; matches any single character.
</p>

<dl compact="compact">
<dt>&lsquo;<samp>\+</samp>&rsquo;</dt>
<dd><p>indicates that the regular expression should match one or more occurrences of the previous atom or regexp.
</p></dd>
<dt>&lsquo;<samp>\?</samp>&rsquo;</dt>
<dd><p>indicates that the regular expression should match zero or one occurrence of the previous atom or regexp.
</p></dd>
<dt>&lsquo;<samp>+ and ?</samp>&rsquo;</dt>
<dd><p>match themselves.
</p>
</dd>
</dl>


<p>Bracket expressions are used to match ranges of characters.  Bracket expressions where the range is backward, for example &lsquo;<samp>[z-a]</samp>&rsquo;, are invalid.  Within square brackets, &lsquo;<samp>\</samp>&rsquo; is taken literally.  Character classes are supported; for example &lsquo;<samp>[[:digit:]]</samp>&rsquo; will match a single decimal digit.
</p>

<p>GNU extensions are supported:
</p><ol>
<li> &lsquo;<samp>\w</samp>&rsquo; matches a character within a word

</li><li> &lsquo;<samp>\W</samp>&rsquo; matches a character which is not within a word

</li><li> &lsquo;<samp>\&lt;</samp>&rsquo; matches the beginning of a word

</li><li> &lsquo;<samp>\&gt;</samp>&rsquo; matches the end of a word

</li><li> &lsquo;<samp>\b</samp>&rsquo; matches a word boundary

</li><li> &lsquo;<samp>\B</samp>&rsquo; matches characters which are not a word boundary

</li><li> &lsquo;<samp>\`</samp>&rsquo; matches the beginning of the whole input

</li><li> &lsquo;<samp>\'</samp>&rsquo; matches the end of the whole input

</li></ol>


<p>Grouping is performed with backslashes followed by parentheses &lsquo;<samp>\(</samp>&rsquo;, &lsquo;<samp>\)</samp>&rsquo;.  A backslash followed by a digit acts as a back-reference and matches the same thing as the previous grouped expression indicated by that number.  For example &lsquo;<samp>\2</samp>&rsquo; matches the second group expression.  The order of group expressions is determined by the position of their opening parenthesis &lsquo;<samp>\(</samp>&rsquo;.
</p>
<p>The alternation operator is &lsquo;<samp>\|</samp>&rsquo;.
</p>
<p>The character &lsquo;<samp>^</samp>&rsquo; only represents the beginning of a string when it appears:
</p><ol>
<li> At the beginning of a regular expression

</li><li> After an open-group, signified by &lsquo;<samp>\(</samp>&rsquo;


</li><li> After a newline

</li><li> After the alternation operator &lsquo;<samp>\|</samp>&rsquo;

</li></ol>


<p>The character &lsquo;<samp>$</samp>&rsquo; only represents the end of a string when it appears:
</p><ol>
<li> At the end of a regular expression

</li><li> Before a close-group, signified by &lsquo;<samp>\)</samp>&rsquo;

</li><li> Before a newline

</li><li> Before the alternation operator &lsquo;<samp>\|</samp>&rsquo;

</li></ol>


<p>&lsquo;<samp>\*</samp>&rsquo;, &lsquo;<samp>\+</samp>&rsquo; and &lsquo;<samp>\?</samp>&rsquo; are special at any point in a regular expression except:
</p><ol>
<li> At the beginning of a regular expression

</li><li> After an open-group, signified by &lsquo;<samp>\(</samp>&rsquo;

</li><li> After a newline

</li><li> After the alternation operator &lsquo;<samp>\|</samp>&rsquo;

</li></ol>


<p>Intervals are specified by &lsquo;<samp>\{</samp>&rsquo; and &lsquo;<samp>\}</samp>&rsquo;.
Invalid intervals such as &lsquo;<samp>a\{1z</samp>&rsquo; are not accepted.
</p>

<p>The longest possible match is returned; this applies to the regular expression as a whole and (subject to this constraint) to subexpressions within groups.
</p>

<hr>
<span id="posix_002dawk-regular-expression-syntax"></span><div class="header">
<p>
Next: <a href="#awk-regular-expression-syntax" accesskey="n" rel="next">awk regular expression syntax</a>, Previous: <a href="#grep-regular-expression-syntax" accesskey="p" rel="prev">grep regular expression syntax</a>, Up: <a href="#Regular-Expressions" accesskey="u" rel="up">Regular Expressions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="posix_002dawk-regular-expression-syntax-1"></span><h4 class="subsection">8.5.5 &lsquo;<samp>posix-awk</samp>&rsquo; regular expression syntax</h4>


<p>The character &lsquo;<samp>.</samp>&rsquo; matches any single character except the null character.
</p>

<dl compact="compact">
<dt>&lsquo;<samp>+</samp>&rsquo;</dt>
<dd><p>indicates that the regular expression should match one or more occurrences of the previous atom or regexp.
</p></dd>
<dt>&lsquo;<samp>?</samp>&rsquo;</dt>
<dd><p>indicates that the regular expression should match zero or one occurrence of the previous atom or regexp.
</p></dd>
<dt>&lsquo;<samp>\+</samp>&rsquo;</dt>
<dd><p>matches a &lsquo;<samp>+</samp>&rsquo;
</p></dd>
<dt>&lsquo;<samp>\?</samp>&rsquo;</dt>
<dd><p>matches a &lsquo;<samp>?</samp>&rsquo;.
</p></dd>
</dl>


<p>Bracket expressions are used to match ranges of characters.  Bracket expressions where the range is backward, for example &lsquo;<samp>[z-a]</samp>&rsquo;, are invalid.  Within square brackets, &lsquo;<samp>\</samp>&rsquo; can be used to quote the following character.  Character classes are supported; for example &lsquo;<samp>[[:digit:]]</samp>&rsquo; will match a single decimal digit.
</p>

<p>GNU extensions are not supported and so &lsquo;<samp>\w</samp>&rsquo;, &lsquo;<samp>\W</samp>&rsquo;, &lsquo;<samp>\&lt;</samp>&rsquo;, &lsquo;<samp>\&gt;</samp>&rsquo;, &lsquo;<samp>\b</samp>&rsquo;, &lsquo;<samp>\B</samp>&rsquo;, &lsquo;<samp>\`</samp>&rsquo;, and &lsquo;<samp>\'</samp>&rsquo; match &lsquo;<samp>w</samp>&rsquo;, &lsquo;<samp>W</samp>&rsquo;, &lsquo;<samp>&lt;</samp>&rsquo;, &lsquo;<samp>&gt;</samp>&rsquo;, &lsquo;<samp>b</samp>&rsquo;, &lsquo;<samp>B</samp>&rsquo;, &lsquo;<samp>`</samp>&rsquo;, and &lsquo;<samp>'</samp>&rsquo; respectively.
</p>

<p>Grouping is performed with parentheses &lsquo;<samp>()</samp>&rsquo;.  An unmatched &lsquo;<samp>)</samp>&rsquo; matches just itself.  A backslash followed by a digit acts as a back-reference and matches the same thing as the previous grouped expression indicated by that number.  For example &lsquo;<samp>\2</samp>&rsquo; matches the second group expression.  The order of group expressions is determined by the position of their opening parenthesis &lsquo;<samp>(</samp>&rsquo;.
</p>
<p>The alternation operator is &lsquo;<samp>|</samp>&rsquo;.
</p>
<p>The characters &lsquo;<samp>^</samp>&rsquo; and &lsquo;<samp>$</samp>&rsquo; always represent the beginning and end of a string respectively, except within square brackets.  Within brackets, &lsquo;<samp>^</samp>&rsquo; can be used to invert the membership of the character class being specified.
</p>

<p>&lsquo;<samp>*</samp>&rsquo;, &lsquo;<samp>+</samp>&rsquo; and &lsquo;<samp>?</samp>&rsquo; are special at any point in a regular expression except the following places, where they are not allowed:
</p><ol>
<li> At the beginning of a regular expression

</li><li> After an open-group, signified by &lsquo;<samp>(</samp>&rsquo;

</li><li> After the alternation operator &lsquo;<samp>|</samp>&rsquo;

</li></ol>


<p>Intervals are specified by &lsquo;<samp>{</samp>&rsquo; and &lsquo;<samp>}</samp>&rsquo;.
Invalid intervals are treated as literals, for example &lsquo;<samp>a{1</samp>&rsquo; is treated as &lsquo;<samp>a\{1</samp>&rsquo;
</p>
<p>The longest possible match is returned; this applies to the regular expression as a whole and (subject to this constraint) to subexpressions within groups.
</p>

<hr>
<span id="awk-regular-expression-syntax"></span><div class="header">
<p>
Next: <a href="#posix_002dbasic-regular-expression-syntax" accesskey="n" rel="next">posix-basic regular expression syntax</a>, Previous: <a href="#posix_002dawk-regular-expression-syntax" accesskey="p" rel="prev">posix-awk regular expression syntax</a>, Up: <a href="#Regular-Expressions" accesskey="u" rel="up">Regular Expressions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="awk-regular-expression-syntax-1"></span><h4 class="subsection">8.5.6 &lsquo;<samp>awk</samp>&rsquo; regular expression syntax</h4>


<p>The character &lsquo;<samp>.</samp>&rsquo; matches any single character except the null character.
</p>

<dl compact="compact">
<dt>&lsquo;<samp>+</samp>&rsquo;</dt>
<dd><p>indicates that the regular expression should match one or more occurrences of the previous atom or regexp.
</p></dd>
<dt>&lsquo;<samp>?</samp>&rsquo;</dt>
<dd><p>indicates that the regular expression should match zero or one occurrence of the previous atom or regexp.
</p></dd>
<dt>&lsquo;<samp>\+</samp>&rsquo;</dt>
<dd><p>matches a &lsquo;<samp>+</samp>&rsquo;
</p></dd>
<dt>&lsquo;<samp>\?</samp>&rsquo;</dt>
<dd><p>matches a &lsquo;<samp>?</samp>&rsquo;.
</p></dd>
</dl>


<p>Bracket expressions are used to match ranges of characters.  Bracket expressions where the range is backward, for example &lsquo;<samp>[z-a]</samp>&rsquo;, are invalid.  Within square brackets, &lsquo;<samp>\</samp>&rsquo; can be used to quote the following character.  Character classes are supported; for example &lsquo;<samp>[[:digit:]]</samp>&rsquo; will match a single decimal digit.
</p>

<p>GNU extensions are not supported and so &lsquo;<samp>\w</samp>&rsquo;, &lsquo;<samp>\W</samp>&rsquo;, &lsquo;<samp>\&lt;</samp>&rsquo;, &lsquo;<samp>\&gt;</samp>&rsquo;, &lsquo;<samp>\b</samp>&rsquo;, &lsquo;<samp>\B</samp>&rsquo;, &lsquo;<samp>\`</samp>&rsquo;, and &lsquo;<samp>\'</samp>&rsquo; match &lsquo;<samp>w</samp>&rsquo;, &lsquo;<samp>W</samp>&rsquo;, &lsquo;<samp>&lt;</samp>&rsquo;, &lsquo;<samp>&gt;</samp>&rsquo;, &lsquo;<samp>b</samp>&rsquo;, &lsquo;<samp>B</samp>&rsquo;, &lsquo;<samp>`</samp>&rsquo;, and &lsquo;<samp>'</samp>&rsquo; respectively.
</p>

<p>Grouping is performed with parentheses &lsquo;<samp>()</samp>&rsquo;.  An unmatched &lsquo;<samp>)</samp>&rsquo; matches just itself.  A backslash followed by a digit matches that digit.
</p>
<p>The alternation operator is &lsquo;<samp>|</samp>&rsquo;.
</p>
<p>The characters &lsquo;<samp>^</samp>&rsquo; and &lsquo;<samp>$</samp>&rsquo; always represent the beginning and end of a string respectively, except within square brackets.  Within brackets, &lsquo;<samp>^</samp>&rsquo; can be used to invert the membership of the character class being specified.
</p>

<p>&lsquo;<samp>*</samp>&rsquo;, &lsquo;<samp>+</samp>&rsquo; and &lsquo;<samp>?</samp>&rsquo; are special at any point in a regular expression except:
</p><ol>
<li> At the beginning of a regular expression

</li><li> After an open-group, signified by &lsquo;<samp>(</samp>&rsquo;

</li><li> After the alternation operator &lsquo;<samp>|</samp>&rsquo;

</li></ol>




<p>The longest possible match is returned; this applies to the regular expression as a whole and (subject to this constraint) to subexpressions within groups.
</p>

<hr>
<span id="posix_002dbasic-regular-expression-syntax"></span><div class="header">
<p>
Next: <a href="#posix_002degrep-regular-expression-syntax" accesskey="n" rel="next">posix-egrep regular expression syntax</a>, Previous: <a href="#awk-regular-expression-syntax" accesskey="p" rel="prev">awk regular expression syntax</a>, Up: <a href="#Regular-Expressions" accesskey="u" rel="up">Regular Expressions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="posix_002dbasic-regular-expression-syntax-1"></span><h4 class="subsection">8.5.7 &lsquo;<samp>posix-basic</samp>&rsquo; regular expression syntax</h4>


<p>The character &lsquo;<samp>.</samp>&rsquo; matches any single character except the null character.
</p>

<dl compact="compact">
<dt>&lsquo;<samp>\+</samp>&rsquo;</dt>
<dd><p>indicates that the regular expression should match one or more occurrences of the previous atom or regexp.
</p></dd>
<dt>&lsquo;<samp>\?</samp>&rsquo;</dt>
<dd><p>indicates that the regular expression should match zero or one occurrence of the previous atom or regexp.
</p></dd>
<dt>&lsquo;<samp>+ and ?</samp>&rsquo;</dt>
<dd><p>match themselves.
</p>
</dd>
</dl>


<p>Bracket expressions are used to match ranges of characters.  Bracket expressions where the range is backward, for example &lsquo;<samp>[z-a]</samp>&rsquo;, are invalid.  Within square brackets, &lsquo;<samp>\</samp>&rsquo; is taken literally.  Character classes are supported; for example &lsquo;<samp>[[:digit:]]</samp>&rsquo; will match a single decimal digit.
</p>

<p>GNU extensions are supported:
</p><ol>
<li> &lsquo;<samp>\w</samp>&rsquo; matches a character within a word

</li><li> &lsquo;<samp>\W</samp>&rsquo; matches a character which is not within a word

</li><li> &lsquo;<samp>\&lt;</samp>&rsquo; matches the beginning of a word

</li><li> &lsquo;<samp>\&gt;</samp>&rsquo; matches the end of a word

</li><li> &lsquo;<samp>\b</samp>&rsquo; matches a word boundary

</li><li> &lsquo;<samp>\B</samp>&rsquo; matches characters which are not a word boundary

</li><li> &lsquo;<samp>\`</samp>&rsquo; matches the beginning of the whole input

</li><li> &lsquo;<samp>\'</samp>&rsquo; matches the end of the whole input

</li></ol>


<p>Grouping is performed with backslashes followed by parentheses &lsquo;<samp>\(</samp>&rsquo;, &lsquo;<samp>\)</samp>&rsquo;.  A backslash followed by a digit acts as a back-reference and matches the same thing as the previous grouped expression indicated by that number.  For example &lsquo;<samp>\2</samp>&rsquo; matches the second group expression.  The order of group expressions is determined by the position of their opening parenthesis &lsquo;<samp>\(</samp>&rsquo;.
</p>
<p>The alternation operator is &lsquo;<samp>\|</samp>&rsquo;.
</p>
<p>The character &lsquo;<samp>^</samp>&rsquo; only represents the beginning of a string when it appears:
</p><ol>
<li> At the beginning of a regular expression

</li><li> After an open-group, signified by &lsquo;<samp>\(</samp>&rsquo;


</li><li> After the alternation operator &lsquo;<samp>\|</samp>&rsquo;

</li></ol>


<p>The character &lsquo;<samp>$</samp>&rsquo; only represents the end of a string when it appears:
</p><ol>
<li> At the end of a regular expression

</li><li> Before a close-group, signified by &lsquo;<samp>\)</samp>&rsquo;

</li><li> Before the alternation operator &lsquo;<samp>\|</samp>&rsquo;

</li></ol>


<p>&lsquo;<samp>\*</samp>&rsquo;, &lsquo;<samp>\+</samp>&rsquo; and &lsquo;<samp>\?</samp>&rsquo; are special at any point in a regular expression except:
</p><ol>
<li> At the beginning of a regular expression

</li><li> After an open-group, signified by &lsquo;<samp>\(</samp>&rsquo;

</li><li> After the alternation operator &lsquo;<samp>\|</samp>&rsquo;

</li></ol>


<p>Intervals are specified by &lsquo;<samp>\{</samp>&rsquo; and &lsquo;<samp>\}</samp>&rsquo;.
Invalid intervals such as &lsquo;<samp>a\{1z</samp>&rsquo; are not accepted.
</p>

<p>The longest possible match is returned; this applies to the regular expression as a whole and (subject to this constraint) to subexpressions within groups.
</p>

<hr>
<span id="posix_002degrep-regular-expression-syntax"></span><div class="header">
<p>
Next: <a href="#egrep-regular-expression-syntax" accesskey="n" rel="next">egrep regular expression syntax</a>, Previous: <a href="#posix_002dbasic-regular-expression-syntax" accesskey="p" rel="prev">posix-basic regular expression syntax</a>, Up: <a href="#Regular-Expressions" accesskey="u" rel="up">Regular Expressions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="posix_002degrep-regular-expression-syntax-1"></span><h4 class="subsection">8.5.8 &lsquo;<samp>posix-egrep</samp>&rsquo; regular expression syntax</h4>


<p>The character &lsquo;<samp>.</samp>&rsquo; matches any single character.
</p>

<dl compact="compact">
<dt>&lsquo;<samp>+</samp>&rsquo;</dt>
<dd><p>indicates that the regular expression should match one or more occurrences of the previous atom or regexp.
</p></dd>
<dt>&lsquo;<samp>?</samp>&rsquo;</dt>
<dd><p>indicates that the regular expression should match zero or one occurrence of the previous atom or regexp.
</p></dd>
<dt>&lsquo;<samp>\+</samp>&rsquo;</dt>
<dd><p>matches a &lsquo;<samp>+</samp>&rsquo;
</p></dd>
<dt>&lsquo;<samp>\?</samp>&rsquo;</dt>
<dd><p>matches a &lsquo;<samp>?</samp>&rsquo;.
</p></dd>
</dl>


<p>Bracket expressions are used to match ranges of characters.  Bracket expressions where the range is backward, for example &lsquo;<samp>[z-a]</samp>&rsquo;, are invalid.  Within square brackets, &lsquo;<samp>\</samp>&rsquo; is taken literally.  Character classes are supported; for example &lsquo;<samp>[[:digit:]]</samp>&rsquo; will match a single decimal digit.
</p>

<p>GNU extensions are supported:
</p><ol>
<li> &lsquo;<samp>\w</samp>&rsquo; matches a character within a word

</li><li> &lsquo;<samp>\W</samp>&rsquo; matches a character which is not within a word

</li><li> &lsquo;<samp>\&lt;</samp>&rsquo; matches the beginning of a word

</li><li> &lsquo;<samp>\&gt;</samp>&rsquo; matches the end of a word

</li><li> &lsquo;<samp>\b</samp>&rsquo; matches a word boundary

</li><li> &lsquo;<samp>\B</samp>&rsquo; matches characters which are not a word boundary

</li><li> &lsquo;<samp>\`</samp>&rsquo; matches the beginning of the whole input

</li><li> &lsquo;<samp>\'</samp>&rsquo; matches the end of the whole input

</li></ol>


<p>Grouping is performed with parentheses &lsquo;<samp>()</samp>&rsquo;.  An unmatched &lsquo;<samp>)</samp>&rsquo; matches just itself.  A backslash followed by a digit acts as a back-reference and matches the same thing as the previous grouped expression indicated by that number.  For example &lsquo;<samp>\2</samp>&rsquo; matches the second group expression.  The order of group expressions is determined by the position of their opening parenthesis &lsquo;<samp>(</samp>&rsquo;.
</p>
<p>The alternation operator is &lsquo;<samp>|</samp>&rsquo;.
</p>
<p>The characters &lsquo;<samp>^</samp>&rsquo; and &lsquo;<samp>$</samp>&rsquo; always represent the beginning and end of a string respectively, except within square brackets.  Within brackets, &lsquo;<samp>^</samp>&rsquo; can be used to invert the membership of the character class being specified.
</p>

<p>The characters &lsquo;<samp>*</samp>&rsquo;, &lsquo;<samp>+</samp>&rsquo; and &lsquo;<samp>?</samp>&rsquo; are special anywhere in a regular expression.
</p>

<p>Intervals are specified by &lsquo;<samp>{</samp>&rsquo; and &lsquo;<samp>}</samp>&rsquo;.
Invalid intervals are treated as literals, for example &lsquo;<samp>a{1</samp>&rsquo; is treated as &lsquo;<samp>a\{1</samp>&rsquo;
</p>
<p>The longest possible match is returned; this applies to the regular expression as a whole and (subject to this constraint) to subexpressions within groups.
</p>

<hr>
<span id="egrep-regular-expression-syntax"></span><div class="header">
<p>
Next: <a href="#posix_002dextended-regular-expression-syntax" accesskey="n" rel="next">posix-extended regular expression syntax</a>, Previous: <a href="#posix_002degrep-regular-expression-syntax" accesskey="p" rel="prev">posix-egrep regular expression syntax</a>, Up: <a href="#Regular-Expressions" accesskey="u" rel="up">Regular Expressions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="egrep-regular-expression-syntax-1"></span><h4 class="subsection">8.5.9 &lsquo;<samp>egrep</samp>&rsquo; regular expression syntax</h4>
<p>This is a synonym for posix-egrep.
</p><hr>
<span id="posix_002dextended-regular-expression-syntax"></span><div class="header">
<p>
Previous: <a href="#egrep-regular-expression-syntax" accesskey="p" rel="prev">egrep regular expression syntax</a>, Up: <a href="#Regular-Expressions" accesskey="u" rel="up">Regular Expressions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="posix_002dextended-regular-expression-syntax-1"></span><h4 class="subsection">8.5.10 &lsquo;<samp>posix-extended</samp>&rsquo; regular expression syntax</h4>


<p>The character &lsquo;<samp>.</samp>&rsquo; matches any single character except the null character.
</p>

<dl compact="compact">
<dt>&lsquo;<samp>+</samp>&rsquo;</dt>
<dd><p>indicates that the regular expression should match one or more occurrences of the previous atom or regexp.
</p></dd>
<dt>&lsquo;<samp>?</samp>&rsquo;</dt>
<dd><p>indicates that the regular expression should match zero or one occurrence of the previous atom or regexp.
</p></dd>
<dt>&lsquo;<samp>\+</samp>&rsquo;</dt>
<dd><p>matches a &lsquo;<samp>+</samp>&rsquo;
</p></dd>
<dt>&lsquo;<samp>\?</samp>&rsquo;</dt>
<dd><p>matches a &lsquo;<samp>?</samp>&rsquo;.
</p></dd>
</dl>


<p>Bracket expressions are used to match ranges of characters.  Bracket expressions where the range is backward, for example &lsquo;<samp>[z-a]</samp>&rsquo;, are invalid.  Within square brackets, &lsquo;<samp>\</samp>&rsquo; is taken literally.  Character classes are supported; for example &lsquo;<samp>[[:digit:]]</samp>&rsquo; will match a single decimal digit.
</p>

<p>GNU extensions are supported:
</p><ol>
<li> &lsquo;<samp>\w</samp>&rsquo; matches a character within a word

</li><li> &lsquo;<samp>\W</samp>&rsquo; matches a character which is not within a word

</li><li> &lsquo;<samp>\&lt;</samp>&rsquo; matches the beginning of a word

</li><li> &lsquo;<samp>\&gt;</samp>&rsquo; matches the end of a word

</li><li> &lsquo;<samp>\b</samp>&rsquo; matches a word boundary

</li><li> &lsquo;<samp>\B</samp>&rsquo; matches characters which are not a word boundary

</li><li> &lsquo;<samp>\`</samp>&rsquo; matches the beginning of the whole input

</li><li> &lsquo;<samp>\'</samp>&rsquo; matches the end of the whole input

</li></ol>


<p>Grouping is performed with parentheses &lsquo;<samp>()</samp>&rsquo;.  An unmatched &lsquo;<samp>)</samp>&rsquo; matches just itself.  A backslash followed by a digit acts as a back-reference and matches the same thing as the previous grouped expression indicated by that number.  For example &lsquo;<samp>\2</samp>&rsquo; matches the second group expression.  The order of group expressions is determined by the position of their opening parenthesis &lsquo;<samp>(</samp>&rsquo;.
</p>
<p>The alternation operator is &lsquo;<samp>|</samp>&rsquo;.
</p>
<p>The characters &lsquo;<samp>^</samp>&rsquo; and &lsquo;<samp>$</samp>&rsquo; always represent the beginning and end of a string respectively, except within square brackets.  Within brackets, &lsquo;<samp>^</samp>&rsquo; can be used to invert the membership of the character class being specified.
</p>

<p>&lsquo;<samp>*</samp>&rsquo;, &lsquo;<samp>+</samp>&rsquo; and &lsquo;<samp>?</samp>&rsquo; are special at any point in a regular expression except the following places, where they are not allowed:
</p><ol>
<li> At the beginning of a regular expression

</li><li> After an open-group, signified by &lsquo;<samp>(</samp>&rsquo;

</li><li> After the alternation operator &lsquo;<samp>|</samp>&rsquo;

</li></ol>


<p>Intervals are specified by &lsquo;<samp>{</samp>&rsquo; and &lsquo;<samp>}</samp>&rsquo;.
Invalid intervals such as &lsquo;<samp>a{1z</samp>&rsquo; are not accepted.
</p>

<p>The longest possible match is returned; this applies to the regular expression as a whole and (subject to this constraint) to subexpressions within groups.
</p>

<hr>
<span id="Environment-Variables"></span><div class="header">
<p>
Previous: <a href="#Regular-Expressions" accesskey="p" rel="prev">Regular Expressions</a>, Up: <a href="#Reference" accesskey="u" rel="up">Reference</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Environment-Variables-1"></span><h3 class="section">8.6 Environment Variables</h3>
<dl compact="compact">
<dt><code>LANG</code></dt>
<dd><p>Provides a default value for the internationalisation variables that
are unset or null.
</p>
</dd>
<dt><code>LC_ALL</code></dt>
<dd><p>If set to a non-empty string value, override the values of all the
other internationalisation variables.
</p>
</dd>
<dt><code>LC_COLLATE</code></dt>
<dd><p>The POSIX standard specifies that this variable affects the pattern
matching to be used for the &lsquo;\-name&rsquo; option.  GNU find uses the
GNU version of the <code>fnmatch</code> library function.
</p>
<p>This variable also affects the interpretation of the response to
<code>-ok</code>; while the <code>LC_MESSAGES</code> variable selects the actual
pattern used to interpret the response to <code>-ok</code>, the interpretation
of any bracket expressions in the pattern will be affected by the
<code>LC_COLLATE</code> variable.
</p>
</dd>
<dt><code>LC_CTYPE</code></dt>
<dd><p>This variable affects the treatment of character classes used in
regular expression and with
the &lsquo;<samp>-name</samp>&rsquo; test, if the <code>fnmatch</code> function supports this.
</p>
<p>This variable also affects the interpretation of any character classes
in the regular expressions used to interpret the response to the
prompt issued by <code>-ok</code>.  The <code>LC_CTYPE</code> environment variable will
also affect which characters are considered to be unprintable when
filenames are printed (see <a href="#Unusual-Characters-in-File-Names">Unusual Characters in File Names</a>).
</p>
</dd>
<dt><code>LC_MESSAGES</code></dt>
<dd><p>Determines the locale to be used for internationalised messages,
including the interpretation of the response to the prompt made by the
<code>-ok</code> action.
</p>
</dd>
<dt><code>NLSPATH</code></dt>
<dd><p>Determines the location of the internationalisation message catalogues.
</p>
</dd>
<dt><code>PATH</code></dt>
<dd><p>Affects the directories which are searched to find the executables
invoked by &lsquo;<samp>-exec</samp>&rsquo;, &lsquo;<samp>-execdir</samp>&rsquo; &lsquo;<samp>-ok</samp>&rsquo; and &lsquo;<samp>-okdir</samp>&rsquo;.
If the <code>PATH</code> environment variable includes the current directory
(by explicitly including &lsquo;<samp>.</samp>&rsquo; or by having an empty element), and
the find command line includes &lsquo;<samp>-execdir</samp>&rsquo; or &lsquo;<samp>-okdir</samp>&rsquo;,
<code>find</code> will refuse to run.  See <a href="#Security-Considerations">Security Considerations</a>, for a
more detailed discussion of security matters.
</p>
</dd>
<dt><code>POSIXLY_CORRECT</code></dt>
<dd><p>Determines the block size used by &lsquo;<samp>-ls</samp>&rsquo; and &lsquo;<samp>-fls</samp>&rsquo;.  If
<code>POSIXLY_CORRECT</code> is set, blocks are units of 512 bytes.  Otherwise
they are units of 1024 bytes.
</p>
<p>Setting this variable also turns off warning messages (that is, implies
&lsquo;<samp>-nowarn</samp>&rsquo;) by default, because POSIX requires that apart from
the output for &lsquo;<samp>-ok</samp>&rsquo;, all messages printed on stderr are
diagnostics and must result in a non-zero exit status.
</p>
<p>When <code>POSIXLY_CORRECT</code> is set, the response to the prompt made by the
<code>-ok</code> action is interpreted according to the system&rsquo;s message
catalogue, as opposed to according to <code>find</code>&rsquo;s own message
translations.
</p>
</dd>
<dt><code>TZ</code></dt>
<dd><p>Affects the time zone used for some of the time-related format
directives of &lsquo;<samp>-printf</samp>&rsquo; and &lsquo;<samp>-fprintf</samp>&rsquo;.
</p></dd>
</dl>



<hr>
<span id="Common-Tasks"></span><div class="header">
<p>
Next: <a href="#Worked-Examples" accesskey="n" rel="next">Worked Examples</a>, Previous: <a href="#Reference" accesskey="p" rel="prev">Reference</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Common-Tasks-1"></span><h2 class="chapter">9 Common Tasks</h2>

<p>The sections that follow contain some extended examples that both give
a good idea of the power of these programs, and show you how to solve
common real-world problems.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Viewing-And-Editing" accesskey="1">Viewing And Editing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Archiving" accesskey="2">Archiving</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Cleaning-Up" accesskey="3">Cleaning Up</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Strange-File-Names" accesskey="4">Strange File Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Fixing-Permissions" accesskey="5">Fixing Permissions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Classifying-Files" accesskey="6">Classifying Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Viewing-And-Editing"></span><div class="header">
<p>
Next: <a href="#Archiving" accesskey="n" rel="next">Archiving</a>, Up: <a href="#Common-Tasks" accesskey="u" rel="up">Common Tasks</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Viewing-And-Editing-1"></span><h3 class="section">9.1 Viewing And Editing</h3>

<p>To view a list of files that meet certain criteria, simply run your
file viewing program with the file names as arguments.  Shells
substitute a command enclosed in backquotes with its output, so the
whole command looks like this:
</p>
<div class="example">
<pre class="example">less `find /usr/include -name '*.h' | xargs grep -l mode_t`
</pre></div>

<p>You can edit those files by giving an editor name instead of a file
viewing program:
</p>
<div class="example">
<pre class="example">emacs `find /usr/include -name '*.h' | xargs grep -l mode_t`
</pre></div>

<p>Because there is a limit to the length of any individual command line,
there is a limit to the number of files that can be handled in this way.
We can get around this difficulty by using <code>xargs</code> like this:
</p>
<div class="example">
<pre class="example">find /usr/include -name '*.h' | xargs grep -l mode_t &gt; todo
xargs --arg-file=todo emacs
</pre></div>

<p>Here, <code>xargs</code> will run <code>emacs</code> as many times as necessary to
visit all of the files listed in the file <samp>todo</samp>.  Generating a
temporary file is not always convenient, though.  This command does
much the same thing without needing one:
</p>
<div class="example">
<pre class="example">find /usr/include -name '*.h' | xargs grep -l mode_t |
xargs sh -c 'emacs &quot;$@&quot; &lt; /dev/tty' Emacs
</pre></div>

<p>The example above illustrates a useful trick; Using <code>sh -c</code> you
can invoke a shell command from <code>xargs</code>.  The <code>$@</code> in the
command line is expanded by the shell to a list of arguments as
provided by <code>xargs</code>.  The single quotes in the command line
protect the <code>$@</code> against expansion by your interactive shell
(which will normally have no arguments and thus expand <code>$@</code> to
nothing).  The capitalised &lsquo;<samp>Emacs</samp>&rsquo; on the command line is used as
<code>$0</code> by the shell that <code>xargs</code> launches.
</p>
<p>Please note that the implementations in GNU <code>xargs</code> and at least BSD
support the &lsquo;<samp>-o</samp>&rsquo; option as extension to achieve the same, while the
above is the portable way to redirect stdin to <samp>/dev/tty</samp>.
</p>
<hr>
<span id="Archiving"></span><div class="header">
<p>
Next: <a href="#Cleaning-Up" accesskey="n" rel="next">Cleaning Up</a>, Previous: <a href="#Viewing-And-Editing" accesskey="p" rel="prev">Viewing And Editing</a>, Up: <a href="#Common-Tasks" accesskey="u" rel="up">Common Tasks</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Archiving-1"></span><h3 class="section">9.2 Archiving</h3>

<p>You can pass a list of files produced by <code>find</code> to a file
archiving program.  GNU <code>tar</code> and <code>cpio</code> can both read lists
of file names from the standard input &ndash; either delimited by nulls (the
safe way) or by blanks (the lazy, risky default way).  To use
null-delimited names, give them the &lsquo;<samp>--null</samp>&rsquo; option.  You can
store a file archive in a file, write it on a tape, or send it over a
network to extract on another machine.
</p>
<p>One common use of <code>find</code> to archive files is to send a list of
the files in a directory tree to <code>cpio</code>.  Use &lsquo;<samp>-depth</samp>&rsquo; so if
a directory does not have write permission for its owner, its contents
can still be restored from the archive since the directory&rsquo;s
permissions are restored after its contents.  Here is an example of
doing this using <code>cpio</code>; you could use a more complex <code>find</code>
expression to archive only certain files.
</p>
<div class="example">
<pre class="example">find . -depth -print0 |
  cpio --create --null --format=crc --file=/dev/nrst0
</pre></div>

<p>You could restore that archive using this command:
</p>
<div class="example">
<pre class="example">cpio --extract --null --make-dir --unconditional \
  --preserve --file=/dev/nrst0
</pre></div>

<p>Here are the commands to do the same things using <code>tar</code>:
</p>
<div class="example">
<pre class="example">find . -depth -print0 |
  tar --create --null --files-from=- --file=/dev/nrst0

tar --extract --null --preserve-perm --same-owner \
  --file=/dev/nrst0
</pre></div>

<p>Here is an example of copying a directory from one machine to another:
</p>
<div class="example">
<pre class="example">find . -depth -print0 | cpio -0o -Hnewc |
  rsh <var>other-machine</var> &quot;cd `pwd` &amp;&amp; cpio -i0dum&quot;
</pre></div>

<hr>
<span id="Cleaning-Up"></span><div class="header">
<p>
Next: <a href="#Strange-File-Names" accesskey="n" rel="next">Strange File Names</a>, Previous: <a href="#Archiving" accesskey="p" rel="prev">Archiving</a>, Up: <a href="#Common-Tasks" accesskey="u" rel="up">Common Tasks</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Cleaning-Up-1"></span><h3 class="section">9.3 Cleaning Up</h3>

<p>This section gives examples of removing unwanted files in various
situations.  Here is a command to remove the CVS backup files created
when an update requires a merge:
</p>
<div class="example">
<pre class="example">find . -name '.#*' -print0 | xargs -0r rm -f
</pre></div>

<p>If your <code>find</code> command removes directories, you may find that
you get a spurious error message when <code>find</code> tries to recurse
into a directory that has now been removed.  Using the &lsquo;<samp>-depth</samp>&rsquo;
option will normally resolve this problem.
</p>

<p>It is also possible to use the &lsquo;<samp>-delete</samp>&rsquo; action:
</p>
<div class="example">
<pre class="example">find . -depth -name '.#*' -delete
</pre></div>

<p>You can run this command to clean out your clutter in <samp>/tmp</samp>.
You might place it in the file your shell runs when you log out
(<samp>.bash_logout</samp>, <samp>.logout</samp>, or <samp>.zlogout</samp>, depending on
which shell you use).
</p>
<div class="example">
<pre class="example">find /tmp -depth -user &quot;$LOGNAME&quot; -type f -delete
</pre></div>

<p>To remove old Emacs backup and auto-save files, you can use a command
like the following.  It is especially important in this case to use
null-terminated file names because Emacs packages like the VM mailer
often create temporary file names with spaces in them, like
<samp>#reply to David J. MacKenzie&lt;1&gt;#</samp>.
</p>
<div class="example">
<pre class="example">find ~ \( -name '*~' -o -name '#*#' \) -print0 |
  xargs --no-run-if-empty --null rm -vf
</pre></div>

<p>Removing old files from <samp>/tmp</samp> is commonly done from <code>cron</code>:
</p>
<div class="example">
<pre class="example">find /tmp /var/tmp -depth -not        -type d -mtime +3 -delete
find /tmp /var/tmp -depth -mindepth 1 -type d -empty    -delete
</pre></div>

<p>The second <code>find</code> command above cleans out empty directories
depth-first (&lsquo;<samp>-delete</samp>&rsquo; implies &lsquo;<samp>-depth</samp>&rsquo; anyway), hoping that
the parents become empty and can be removed too.  It uses
&lsquo;<samp>-mindepth</samp>&rsquo; to avoid removing <samp>/tmp</samp> itself if it becomes
totally empty.
</p>

<p>Lastly, an example of a program that almost certainly does not do what
the user intended:
</p>
<div class="example">
<pre class="example">find dirname -delete -name quux
</pre></div>

<p>If the user hoped to delete only files named <samp>quux</samp> they will get
an unpleasant surprise; this command will attempt to delete everything
at or below the starting point <samp>dirname</samp>.  This is because
<code>find</code> evaluates the items on the command line as an expression.
The <code>find</code> program will normally execute an action if the
preceding action succeeds.  Here, there is no action or test before
the &lsquo;<samp>-delete</samp>&rsquo; so it will always be executed.  The &lsquo;<samp>-name
quux</samp>&rsquo; test will be performed for files we successfully deleted, but
that test has no effect since &lsquo;<samp>-delete</samp>&rsquo; also disables the default
&lsquo;<samp>-print</samp>&rsquo; operation.   So the above example will probably delete a
lot of files the user didn&rsquo;t want to delete.
</p>
<p>This command is also likely to do something you did not intend:
</p><div class="example">
<pre class="example">find dirname -path dirname/foo -prune -o -delete
</pre></div>

<p>Because &lsquo;<samp>-delete</samp>&rsquo; turns on &lsquo;<samp>-depth</samp>&rsquo;, the &lsquo;<samp>-prune</samp>&rsquo;
action has no effect and files in <samp>dirname/foo</samp> will be deleted
too.
</p>

<hr>
<span id="Strange-File-Names"></span><div class="header">
<p>
Next: <a href="#Fixing-Permissions" accesskey="n" rel="next">Fixing Permissions</a>, Previous: <a href="#Cleaning-Up" accesskey="p" rel="prev">Cleaning Up</a>, Up: <a href="#Common-Tasks" accesskey="u" rel="up">Common Tasks</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Strange-File-Names-1"></span><h3 class="section">9.4 Strange File Names</h3>

<p><code>find</code> can help you remove or rename a file with strange
characters in its name.  People are sometimes stymied by files whose
names contain characters such as spaces, tabs, control characters, or
characters with the high bit set.  The simplest way to remove such
files is:
</p>
<div class="example">
<pre class="example">rm -i <var>some*pattern*that*matches*the*problem*file</var>
</pre></div>

<p><code>rm</code> asks you whether to remove each file matching the given
pattern.  If you are using an old shell, this approach might not work
if the file name contains a character with the high bit set; the shell
may strip it off.  A more reliable way is:
</p>
<div class="example">
<pre class="example">find . -maxdepth 1 <var>tests</var> -okdir rm '{}' \;
</pre></div>

<p>where <var>tests</var> uniquely identify the file.  The &lsquo;<samp>-maxdepth 1</samp>&rsquo;
option prevents <code>find</code> from wasting time searching for the file
in any subdirectories; if there are no subdirectories, you may omit
it.  A good way to uniquely identify the problem file is to figure out
its inode number; use
</p>
<div class="example">
<pre class="example">ls -i
</pre></div>

<p>Suppose you have a file whose name contains control characters, and
you have found that its inode number is 12345.  This command prompts
you for whether to remove it:
</p>
<div class="example">
<pre class="example">find . -maxdepth 1 -inum 12345 -okdir rm -f '{}' \;
</pre></div>

<p>If you don&rsquo;t want to be asked, perhaps because the file name may
contain a strange character sequence that will mess up your screen
when printed, then use &lsquo;<samp>-execdir</samp>&rsquo; instead of &lsquo;<samp>-okdir</samp>&rsquo;.
</p>
<p>If you want to rename the file instead, you can use <code>mv</code> instead
of <code>rm</code>:
</p>
<div class="example">
<pre class="example">find . -maxdepth 1 -inum 12345 -okdir mv '{}' <var>new-file-name</var> \;
</pre></div>

<hr>
<span id="Fixing-Permissions"></span><div class="header">
<p>
Next: <a href="#Classifying-Files" accesskey="n" rel="next">Classifying Files</a>, Previous: <a href="#Strange-File-Names" accesskey="p" rel="prev">Strange File Names</a>, Up: <a href="#Common-Tasks" accesskey="u" rel="up">Common Tasks</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Fixing-Permissions-1"></span><h3 class="section">9.5 Fixing Permissions</h3>

<p>Suppose you want to make sure that everyone can write to the
directories in a certain directory tree.  Here is a way to find
directories lacking either user or group write permission (or both),
and fix their permissions:
</p>
<div class="example">
<pre class="example">find . -type d -not -perm -ug=w | xargs chmod ug+w
</pre></div>

<p>You could also reverse the operations, if you want to make sure that
directories do <em>not</em> have world write permission.
</p>
<hr>
<span id="Classifying-Files"></span><div class="header">
<p>
Previous: <a href="#Fixing-Permissions" accesskey="p" rel="prev">Fixing Permissions</a>, Up: <a href="#Common-Tasks" accesskey="u" rel="up">Common Tasks</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Classifying-Files-1"></span><h3 class="section">9.6 Classifying Files</h3>

<p>If you want to classify a set of files into several groups based on
different criteria, you can use the comma operator to perform multiple
independent tests on the files.  Here is an example:
</p>
<div class="example">
<pre class="example">find / -type d \( -perm -o=w -fprint allwrite , \
  -perm -o=x -fprint allexec \)

echo &quot;Directories that can be written to by everyone:&quot;
cat allwrite
echo &quot;&quot;
echo &quot;Directories with search permissions for everyone:&quot;
cat allexec
</pre></div>

<p><code>find</code> has only to make one scan through the directory tree
(which is one of the most time consuming parts of its work).
</p>
<hr>
<span id="Worked-Examples"></span><div class="header">
<p>
Next: <a href="#Security-Considerations" accesskey="n" rel="next">Security Considerations</a>, Previous: <a href="#Common-Tasks" accesskey="p" rel="prev">Common Tasks</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Worked-Examples-1"></span><h2 class="chapter">10 Worked Examples</h2>

<p>The tools in the findutils package, and in particular <code>find</code>,
have a large number of options.  This means that quite often,
there is more than one way to do things.  Some of the options
and facilities only exist for compatibility with other tools, and
findutils provides improved ways of doing things.
</p>
<p>This chapter describes a number of useful tasks that are commonly
performed, and compares the different ways of achieving them.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Deleting-Files" accesskey="1">Deleting Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Copying-A-Subset-of-Files" accesskey="2">Copying A Subset of Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Updating-A-Timestamp-File" accesskey="3">Updating A Timestamp File</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Finding-the-Shallowest-Instance" accesskey="4">Finding the Shallowest Instance</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Deleting-Files"></span><div class="header">
<p>
Next: <a href="#Copying-A-Subset-of-Files" accesskey="n" rel="next">Copying A Subset of Files</a>, Up: <a href="#Worked-Examples" accesskey="u" rel="up">Worked Examples</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Deleting-Files-1"></span><h3 class="section">10.1 Deleting Files</h3>

<p>One of the most common tasks that <code>find</code> is used for is locating
files that can be deleted.  This might include:
</p>
<ul>
<li> Files last modified more than 3 years ago which haven&rsquo;t been accessed
for at least 2 years
</li><li> Files belonging to a certain user
</li><li> Temporary files which are no longer required
</li></ul>

<p>This example concentrates on the actual deletion task rather than on
sophisticated ways of locating the files that need to be deleted.
We&rsquo;ll assume that the files we want to delete are old files underneath
<samp>/var/tmp/stuff</samp>.
</p>
<span id="The-Traditional-Way"></span><h4 class="subsection">10.1.1 The Traditional Way</h4>

<p>The traditional way to delete files in <samp>/var/tmp/stuff</samp> that have
not been modified in over 90 days would have been:
</p>
<div class="example">
<pre class="example">find /var/tmp/stuff -mtime +90 -exec /bin/rm {} \;
</pre></div>

<p>The above command uses &lsquo;<samp>-exec</samp>&rsquo; to run the <code>/bin/rm</code> command
to remove each file.  This approach works and in fact would have
worked in Version 7 Unix in 1979.  However, there are a number of
problems with this approach.
</p>

<p>The most obvious problem with the approach above is that it causes
<code>find</code> to fork every time it finds a file that needs to delete,
and the child process then has to use the <code>exec</code> system call to
launch <code>/bin/rm</code>.   All this is quite inefficient.  If we are
going to use <code>/bin/rm</code> to do this job, it is better to make it
delete more than one file at a time.
</p>
<p>The most obvious way of doing this is to use the shell&rsquo;s command
expansion feature:
</p>
<div class="example">
<pre class="example">/bin/rm `find /var/tmp/stuff -mtime +90 -print`
</pre></div>
<p>or you could use the more modern form
</p><div class="example">
<pre class="example">/bin/rm $(find /var/tmp/stuff -mtime +90 -print)
</pre></div>

<p>The commands above are much more efficient than the first attempt.
However, there is a problem with them.  The shell has a maximum
command length which is imposed by the operating system (the actual
limit varies between systems).  This means that while the command
expansion technique will usually work, it will suddenly fail when
there are lots of files to delete.  Since the task is to delete
unwanted files, this is precisely the time we don&rsquo;t want things to go
wrong.
</p>
<span id="Making-Use-of-xargs"></span><h4 class="subsection">10.1.2 Making Use of <code>xargs</code></h4>

<p>So, is there a way to be more efficient in the use of <code>fork()</code>
and <code>exec()</code> without running up against this limit?
Yes, we can be almost optimally efficient by making use
of the <code>xargs</code> command.  The <code>xargs</code> command reads arguments
from its standard input and builds them into command lines.  We can
use it like this:
</p>
<div class="example">
<pre class="example">find /var/tmp/stuff -mtime +90 -print | xargs /bin/rm
</pre></div>

<p>For example if the files found by <code>find</code> are
<samp>/var/tmp/stuff/A</samp>,
<samp>/var/tmp/stuff/B</samp> and
<samp>/var/tmp/stuff/C</samp> then <code>xargs</code> might issue the commands
</p>
<div class="example">
<pre class="example">/bin/rm /var/tmp/stuff/A /var/tmp/stuff/B
/bin/rm /var/tmp/stuff/C
</pre></div>

<p>The above assumes that <code>xargs</code> has a very small maximum command
line length.  The real limit is much larger but the idea is that
<code>xargs</code> will run <code>/bin/rm</code> as many times as necessary to get
the job done, given the limits on command line length.
</p>
<p>This usage of <code>xargs</code> is pretty efficient, and the <code>xargs</code>
command is widely implemented (all modern versions of Unix offer it).
So far then, the news is all good.  However, there is bad news too.
</p>
<span id="Unusual-characters-in-filenames"></span><h4 class="subsection">10.1.3 Unusual characters in filenames</h4>

<p>Unix-like systems allow any characters to appear in file names with
the exception of the ASCII NUL character and the slash.
Slashes can occur in path names (as the directory separator) but
not in the names of actual directory entries.  This means that the
list of files that <code>xargs</code> reads could in fact contain white space
characters &ndash; spaces, tabs and newline characters.  Since by default,
<code>xargs</code> assumes that the list of files it is reading uses white
space as an argument separator, it cannot correctly handle the case
where a filename actually includes white space.  This makes the
default behaviour of <code>xargs</code> almost useless for handling
arbitrary data.
</p>
<p>To solve this problem, GNU findutils introduced the &lsquo;<samp>-print0</samp>&rsquo;
action for <code>find</code>.  This uses the ASCII NUL character to separate
the entries in the file list that it produces.  This is the ideal
choice of separator since it is the only character that cannot appear
within a path name.  The &lsquo;<samp>-0</samp>&rsquo; option to <code>xargs</code> makes it
assume that arguments are separated with ASCII NUL instead of white
space.  It also turns off another misfeature in the default behaviour
of <code>xargs</code>, which is that it pays attention to quote characters
in its input.  Some versions of <code>xargs</code> also terminate when they
see a lone &lsquo;<samp>_</samp>&rsquo; in the input, but GNU <code>find</code> no longer does
that (since it has become an optional behaviour in the Unix standard).
</p>
<p>So, putting <code>find -print0</code> together with <code>xargs -0</code> we get
this command:
</p>
<div class="example">
<pre class="example">find /var/tmp/stuff -mtime +90 -print0 | xargs -0 /bin/rm
</pre></div>

<p>The result is an efficient way of proceeding that
correctly handles all the possible characters that could appear in the
list of files to delete.  This is good news.  However, there is, as
I&rsquo;m sure you&rsquo;re expecting, also more bad news.  The problem is that
this is not a portable construct; although other versions of Unix
(notably BSD-derived ones) support &lsquo;<samp>-print0</samp>&rsquo;, it&rsquo;s not
universal.  So, is there a more universal mechanism?
</p>
<span id="Going-back-to-_002dexec"></span><h4 class="subsection">10.1.4 Going back to <code>-exec</code></h4>

<p>There is indeed a more universal mechanism, which is a slight
modification to the &lsquo;<samp>-exec</samp>&rsquo; action.  The normal &lsquo;<samp>-exec</samp>&rsquo;
action assumes that the command to run is terminated with a semicolon
(the semicolon normally has to be quoted in order to protect it from
interpretation as the shell command separator).  The SVR4 edition of
Unix introduced a slight variation, which involves terminating the
command with &lsquo;<samp>+</samp>&rsquo; instead:
</p>
<div class="example">
<pre class="example">find /var/tmp/stuff -mtime +90 -exec /bin/rm {} \+
</pre></div>

<p>The above use of &lsquo;<samp>-exec</samp>&rsquo; causes <code>find</code> to build up a long
command line and then issue it.  This can be less efficient than some
uses of <code>xargs</code>; for example <code>xargs</code> allows building up
new command lines while the previous command is still executing, and
allows specifying a number of commands to run in parallel.
However, the <code>find &hellip; -exec &hellip; +</code> construct has the advantage
of wide portability.  GNU findutils did not support &lsquo;<samp>-exec &hellip; +</samp>&rsquo;
until version 4.2.12; one of the reasons for this is that it already
had the &lsquo;<samp>-print0</samp>&rsquo; action in any case.
</p>

<span id="A-more-secure-version-of-_002dexec"></span><h4 class="subsection">10.1.5 A more secure version of <code>-exec</code></h4>

<p>The command above seems to be efficient and portable.  However,
within it lurks a security problem.  The problem is shared with
all the commands we&rsquo;ve tried in this worked example so far, too.  The
security problem is a race condition; that is, if it is possible for
somebody to manipulate the filesystem that you are searching while you
are searching it, it is possible for them to persuade your <code>find</code>
command to cause the deletion of a file that you can delete but they
normally cannot.
</p>
<p>The problem occurs because the &lsquo;<samp>-exec</samp>&rsquo; action is defined by the
POSIX standard to invoke its command with the same working directory
as <code>find</code> had when it was started.  This means that the arguments
which replace the {} include a relative path from <code>find</code>&rsquo;s
starting point down the file that needs to be deleted.  For example,
</p>
<div class="example">
<pre class="example">find /var/tmp/stuff -mtime +90 -exec /bin/rm {} \+
</pre></div>

<p>might actually issue the command:
</p>
<div class="example">
<pre class="example">/bin/rm /var/tmp/stuff/A /var/tmp/stuff/B /var/tmp/stuff/passwd
</pre></div>

<p>Notice the file <samp>/var/tmp/stuff/passwd</samp>.  Likewise, the command:
</p>
<div class="example">
<pre class="example">cd /var/tmp &amp;&amp; find stuff -mtime +90 -exec /bin/rm {} \+
</pre></div>

<p>might actually issue the command:
</p>
<div class="example">
<pre class="example">/bin/rm stuff/A stuff/B stuff/passwd
</pre></div>

<p>If an attacker can rename <samp>stuff</samp> to something else (making use
of their write permissions in <samp>/var/tmp</samp>) they can replace it
with a symbolic link to <samp>/etc</samp>.  That means that the
<code>/bin/rm</code> command will be invoked on <samp>/etc/passwd</samp>.  If you
are running your <code>find</code> command as root, the attacker has just managed
to delete a vital file.  All they needed to do to achieve this was
replace a subdirectory with a symbolic link at the vital moment.
</p>
<p>There is however, a simple solution to the problem.  This is an action
which works a lot like <code>-exec</code> but doesn&rsquo;t need to traverse a
chain of directories to reach the file that it needs to work on.  This
is the &lsquo;<samp>-execdir</samp>&rsquo; action, which was introduced by the BSD family
of operating systems.   The command,
</p>
<div class="example">
<pre class="example">find /var/tmp/stuff -mtime +90 -execdir /bin/rm {} \+
</pre></div>

<p>might delete a set of files by performing these actions:
</p>
<ol>
<li> Change directory to /var/tmp/stuff/foo
</li><li> Invoke <code>/bin/rm ./file1 ./file2 ./file3</code>
</li><li> Change directory to /var/tmp/stuff/bar
</li><li> Invoke <code>/bin/rm ./file99 ./file100 ./file101</code>
</li></ol>

<p>This is a much more secure method.  We are no longer exposed to a race
condition.  For many typical uses of <code>find</code>, this is the best
strategy.   It&rsquo;s reasonably efficient, but the length of the command
line is limited not just by the operating system limits, but also by
how many files we actually need to delete from each directory.
</p>
<p>Is it possible to do any better?   In the case of general file
processing, no.  However, in the specific case of deleting files it is
indeed possible to do better.
</p>
<span id="Using-the-_002ddelete-action"></span><h4 class="subsection">10.1.6 Using the <code>-delete</code> action</h4>

<p>The most efficient and secure method of solving this problem is to use
the &lsquo;<samp>-delete</samp>&rsquo; action:
</p>
<div class="example">
<pre class="example">find /var/tmp/stuff -mtime +90 -delete
</pre></div>

<p>This alternative is more efficient than any of the &lsquo;<samp>-exec</samp>&rsquo; or
&lsquo;<samp>-execdir</samp>&rsquo; actions, since it entirely avoids the overhead of
forking a new process and using <code>exec</code> to run <code>/bin/rm</code>.  It
is also normally more efficient than <code>xargs</code> for the same
reason.   The file deletion is performed from the directory containing
the entry to be deleted, so the &lsquo;<samp>-delete</samp>&rsquo; action has the same
security advantages as the &lsquo;<samp>-execdir</samp>&rsquo; action has.
</p>
<p>The &lsquo;<samp>-delete</samp>&rsquo; action was introduced by the BSD family of
operating systems.
</p>
<span id="Improving-things-still-further"></span><h4 class="subsection">10.1.7 Improving things still further</h4>

<p>Is it possible to improve things still further?  Not without either
modifying the system library to the operating system or having more specific
knowledge of the layout of the filesystem and disk I/O subsystem, or
both.
</p>
<p>The <code>find</code> command traverses the filesystem, reading
directories.  It then issues a separate system call for each file to
be deleted.  If we could modify the operating system, there are
potential gains that could be made:
</p>
<ul>
<li> We could have a system call to which we pass more than one filename
for deletion
</li><li> Alternatively, we could pass in a list of inode numbers (on GNU/Linux
systems, <code>readdir()</code> also returns the inode number of each
directory entry) to be deleted.
</li></ul>

<p>The above possibilities sound interesting, but from the kernel&rsquo;s point
of view it is difficult to enforce standard Unix access controls for
such processing by inode number.  Such a facility would probably
need to be restricted to the superuser.
</p>
<p>Another way of improving performance would be to increase the
parallelism of the process.  For example if the directory hierarchy we
are searching is actually spread across a number of disks, we might
somehow be able to arrange for <code>find</code> to process each disk in
parallel.  In practice GNU <code>find</code> doesn&rsquo;t have such an intimate
understanding of the system&rsquo;s filesystem layout and disk I/O
subsystem.
</p>
<p>However, since the system administrator can have such an understanding
they can take advantage of it like so:
</p>
<div class="example">
<pre class="example">find /var/tmp/stuff1 -mtime +90 -delete &amp;
find /var/tmp/stuff2 -mtime +90 -delete &amp;
find /var/tmp/stuff3 -mtime +90 -delete &amp;
find /var/tmp/stuff4 -mtime +90 -delete &amp;
wait
</pre></div>

<p>In the example above, four separate instances of <code>find</code> are used
to search four subdirectories in parallel.  The <code>wait</code> command
simply waits for all of these to complete.  Whether this approach is
more or less efficient than a single instance of <code>find</code> depends
on a number of things:
</p>
<ul>
<li> Are the directories being searched in parallel actually on separate
disks?  If not, this parallel search might just result in a lot of
disk head movement and so the speed might even be slower.
</li><li> Other activity - are other programs also doing things on those disks?
</li></ul>


<span id="Conclusion"></span><h4 class="subsection">10.1.8 Conclusion</h4>

<p>The fastest and most secure way to delete files with the help of
<code>find</code> is to use &lsquo;<samp>-delete</samp>&rsquo;.  Using <code>xargs -0 -P N</code> can
also make effective use of the disk, but it is not as secure.
</p>
<p>In the case where we&rsquo;re doing things other than deleting files, the
most secure alternative is &lsquo;<samp>-execdir &hellip; +</samp>&rsquo;, but this is not as
portable as the insecure action &lsquo;<samp>-exec &hellip; +</samp>&rsquo;.
</p>
<p>The &lsquo;<samp>-delete</samp>&rsquo; action is not completely portable, but the only
other possibility which is as secure (&lsquo;<samp>-execdir</samp>&rsquo;) is no more
portable.  The most efficient portable alternative is &lsquo;<samp>-exec
&hellip;+</samp>&rsquo;, but this is insecure and isn&rsquo;t supported by versions of GNU
findutils prior to 4.2.12.
</p>
<hr>
<span id="Copying-A-Subset-of-Files"></span><div class="header">
<p>
Next: <a href="#Updating-A-Timestamp-File" accesskey="n" rel="next">Updating A Timestamp File</a>, Previous: <a href="#Deleting-Files" accesskey="p" rel="prev">Deleting Files</a>, Up: <a href="#Worked-Examples" accesskey="u" rel="up">Worked Examples</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Copying-A-Subset-of-Files-1"></span><h3 class="section">10.2 Copying A Subset of Files</h3>

<p>Suppose you want to copy some files from <samp>/source-dir</samp> to
<samp>/dest-dir</samp>, but there are a small number of files in
<samp>/source-dir</samp> you don&rsquo;t want to copy.
</p>
<p>One option of course is <code>cp /source-dir /dest-dir</code> followed by
deletion of the unwanted material under <samp>/dest-dir</samp>.  But often
that can be inconvenient, because for example we would have copied a
large amount of extraneous material, or because <samp>/dest-dir</samp> is
too small.  Naturally there are many other possible reasons why this
strategy may be unsuitable.
</p>
<p>So we need to have some way of identifying which files we want to
copy, and we need to have a way of copying that file list.  The second
part of this condition is met by <code>cpio -p</code>.  Of course, we can
identify the files we wish to copy by using <code>find</code>.  Here is a
command that solves our problem:
</p>
<div class="example">
<pre class="example">cd /source-dir
find . -name '.snapshot' -prune -o \( \! -name '*~' -print0 \) |
cpio -pmd0   /dest-dir
</pre></div>

<p>The first part of the <code>find</code> command here identifies files or
directories named <samp>.snapshot</samp> and tells <code>find</code> not to
recurse into them (since they do not need to be copied).  The
combination <code>-name '.snapshot' -prune</code> yields false for anything
that didn&rsquo;t get pruned, but it is exactly those files we want to
copy.  Therefore we need to use an OR (&lsquo;<samp>-o</samp>&rsquo;) condition to
introduce the rest of our expression.  The remainder of the expression
simply arranges for the name of any file not ending in &lsquo;<samp>~</samp>&rsquo; to be
printed.
</p>
<p>Using <code>-print0</code> ensures that white space characters in file names
do not pose a problem.  The <code>cpio</code> command does the actual work
of copying files.  The program as a whole fails if the <code>cpio</code>
program returns nonzero.  If the <code>find</code> command returns non-zero
on the other hand, the Unix shell will not diagnose a problem (since
<code>find</code> is not the last command in the pipeline).
</p>

<hr>
<span id="Updating-A-Timestamp-File"></span><div class="header">
<p>
Next: <a href="#Finding-the-Shallowest-Instance" accesskey="n" rel="next">Finding the Shallowest Instance</a>, Previous: <a href="#Copying-A-Subset-of-Files" accesskey="p" rel="prev">Copying A Subset of Files</a>, Up: <a href="#Worked-Examples" accesskey="u" rel="up">Worked Examples</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Updating-A-Timestamp-File-1"></span><h3 class="section">10.3 Updating A Timestamp File</h3>

<p>Suppose we have a directory full of files which is maintained with a
set of automated tools; perhaps one set of tools updates them and
another set of tools uses the result.  In this situation, it might be
useful for the second set of tools to know if the files have recently
been changed.  It might be useful, for example, to have a &rsquo;timestamp&rsquo;
file which gives the timestamp on the newest file in the collection.
</p>
<p>We can use <code>find</code> to achieve this, but there are several
different ways to do it.
</p>
<span id="Updating-the-Timestamp-The-Wrong-Way"></span><h4 class="subsection">10.3.1 Updating the Timestamp The Wrong Way</h4>

<p>The obvious but wrong answer is just to use &lsquo;<samp>-newer</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">find subdir -newer timestamp -exec touch -r {} timestamp \;
</pre></div>

<p>This does the right sort of thing but has a bug.  Suppose that two
files in the subdirectory have been updated, and that these are called
<samp>file1</samp> and <samp>file2</samp>.  The command above will update
<samp>timestamp</samp> with the modification time of <samp>file1</samp> or that of
<samp>file2</samp>, but we don&rsquo;t know which one.  Since the timestamps on
<samp>file1</samp> and <samp>file2</samp> will in general be different, this could
well be the wrong value.
</p>
<p>One solution to this problem is to modify <code>find</code> to recheck the
modification time of <samp>timestamp</samp> every time a file is to be
compared against it, but that will reduce the performance of
<code>find</code>.
</p>
<span id="Using-the-test-utility-to-compare-timestamps"></span><h4 class="subsection">10.3.2 Using the test utility to compare timestamps</h4>

<p>The <code>test</code> command can be used to compare timestamps:
</p>
<div class="example">
<pre class="example">find subdir -exec test {} -nt timestamp \; -exec touch -r {} timestamp \;
</pre></div>

<p>This will ensure that any changes made to the modification time of
<samp>timestamp</samp> that take place during the execution of <code>find</code>
are taken into account.  This resolves our earlier problem, but
unfortunately this runs much more slowly.
</p>
<span id="A-combined-approach"></span><h4 class="subsection">10.3.3 A combined approach</h4>

<p>We can of course still use &lsquo;<samp>-newer</samp>&rsquo; to cut down on the number of
calls to <code>test</code>:
</p>
<div class="example">
<pre class="example">find subdir -newer timestamp -and \
     -exec test {} -nt timestamp \; -and \
     -exec touch -r {} timestamp \;
</pre></div>

<p>Here, the &lsquo;<samp>-newer</samp>&rsquo; test excludes all the files which are
definitely older than the timestamp, but all the files which are newer
than the old value of the timestamp are compared against the current
updated timestamp.
</p>
<p>This is indeed faster in general, but the speed difference will depend
on how many updated files there are.
</p>
<span id="Using-_002dprintf-and-sort-to-compare-timestamps"></span><h4 class="subsection">10.3.4 Using <code>-printf</code> and <code>sort</code> to compare timestamps</h4>

<p>It is possible to use the &lsquo;<samp>-printf</samp>&rsquo; action to abandon the use of
<code>test</code> entirely:
</p>
<div class="example">
<pre class="example">newest=$(find subdir -newer timestamp -printf &quot;%A@:%p\n&quot; |
           sort -n |
           tail -n1 |
           cut -d: -f2- )
touch -r &quot;${newest:-timestamp}&quot; timestamp
</pre></div>

<p>The command above works by generating a list of the timestamps and
names of all the files which are newer than the timestamp.  The
<code>sort</code>, <code>tail</code> and <code>cut</code> commands simply pull out the
name of the file with the largest timestamp value (that is, the latest
file).  The <code>touch</code> command is then used to update the timestamp,
</p>
<p>The <code>&quot;${newest:-timestamp}&quot;</code> expression simply expands to the
value of <code>$newest</code> if that variable is set, but to
<samp>timestamp</samp> otherwise.  This ensures that an argument is always
given to the &lsquo;<samp>-r</samp>&rsquo; option of the <code>touch</code> command.
</p>
<p>This approach seems quite efficient, but unfortunately it has a
problem.  Many operating systems now keep file modification time
information at a granularity which is finer than one second.
Findutils version 4.3.3 and later will print a fractional part with
%A@, but older versions will not.
</p>

<span id="Solving-the-problem-with-make"></span><h4 class="subsection">10.3.5 Solving the problem with <code>make</code></h4>

<p>Another tool which often works with timestamps is <code>make</code>.  We can
use <code>find</code> to generate a <samp>Makefile</samp> file on the fly and then
use <code>make</code> to update the timestamps:
</p>
<div class="example">
<pre class="example">makefile=$(mktemp)
find subdir \
	\( \! -xtype l \) \
	-newer timestamp \
	-printf &quot;timestamp:: %p\n\ttouch -r %p timestamp\n\n&quot; &gt; &quot;$makefile&quot;
make -f &quot;$makefile&quot;
rm   -f &quot;$makefile&quot;
</pre></div>

<p>Unfortunately although the solution above is quite elegant, it fails
to cope with white space within file names, and adjusting it to do so
would require a rather complex shell script.
</p>

<span id="Coping-with-odd-filenames-too"></span><h4 class="subsection">10.3.6 Coping with odd filenames too</h4>

<p>We can fix both of these problems (looping and problems with white
space), and do things more efficiently too.  The following command
works with newlines and doesn&rsquo;t need to sort the list of filenames.
</p>
<div class="example">
<pre class="example">find subdir -newer timestamp -printf &quot;%A@:%p\0&quot; |
   perl -0 newest.pl |
   xargs --no-run-if-empty --null -i \
      find {} -maxdepth 0 -newer timestamp -exec touch -r {} timestamp \;
</pre></div>

<p>The first <code>find</code> command generates a list of files which are
newer than the original timestamp file, and prints a list of them with
their timestamps.  The <samp>newest.pl</samp> script simply filters out all
the filenames which have timestamps which are older than whatever the
newest file is:
</p>
<div class="example">
<pre class="verbatim">#! /usr/bin/perl -0
my @newest = ();
my $latest_stamp = undef;
while (&lt;&gt;) {
    my ($stamp, $name) = split(/:/);
    if (!defined($latest_stamp) || ($tstamp &gt; $latest_stamp)) {
        $latest_stamp = $stamp;
        @newest = ();
    }
    if ($tstamp &gt;= $latest_stamp) {
        push @newest, $name;
    }
}
print join(&quot;\0&quot;, @newest);
</pre></div>

<p>This prints a list of zero or more files, all of which are newer than
the original timestamp file, and which have the same timestamp as each
other, to the nearest second.  The second <code>find</code> command takes
each resulting file one at a time, and if that is newer than the
timestamp file, the timestamp is updated.
</p>
<hr>
<span id="Finding-the-Shallowest-Instance"></span><div class="header">
<p>
Previous: <a href="#Updating-A-Timestamp-File" accesskey="p" rel="prev">Updating A Timestamp File</a>, Up: <a href="#Worked-Examples" accesskey="u" rel="up">Worked Examples</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Finding-the-Shallowest-Instance-1"></span><h3 class="section">10.4 Finding the Shallowest Instance</h3>

<p>Suppose you maintain local copies of sources from various projects,
each with their own choice of directory organisation and source code
management (SCM) tool.  You need to periodically synchronize each
project with its upstream tree.  As the number local repositories
grows, so does the work involved in maintaining synchronization.  SCM
utilities typically create some sort of administrative directory: .svn
for Subversion, CVS for CVS, and so on.  These directories can be used
as a key to search for the bases of the project source trees.  Suppose
we have the following directory structure:
</p>
<div class="example">
<pre class="example">repo/project1/CVS
repo/gnu/project2/.svn
repo/gnu/project3/.svn
repo/gnu/project3/src/.svn
repo/gnu/project3/doc/.svn
repo/project4/.git
</pre></div>

<p>One would expect to update each of the <samp>projectX</samp> directories,
but not their subdirectories (src, doc, etc.).  To locate the project
roots, we would need to find the least deeply nested directories
containing an SCM-related subdirectory.  The following command
discovers those roots efficiently.  It is efficient because it avoids
searching subdirectories inside projects whose SCM directory we
already found.
</p>
<div class="example">
<pre class="example">find repo/ \
-exec test -d {}/.svn \; -or \
-exec test -d {}/.git \; -or \
-exec test -d {}/CVS \; -print -prune
</pre></div>

<p>In this example, <code>test</code> is used to tell if we are currently
examining a directory which appears to the a project&rsquo;s root directory
(because it has an SCM subdirectory).  When we find a project root,
there is no need to search inside it, and <code>-prune</code> makes sure
that we descend no further.
</p>
<p>For large, complex trees like the Linux kernel, this will prevent
searching a large portion of the structure, saving a good deal of
time.
</p>

<hr>
<span id="Security-Considerations"></span><div class="header">
<p>
Next: <a href="#Error-Messages" accesskey="n" rel="next">Error Messages</a>, Previous: <a href="#Worked-Examples" accesskey="p" rel="prev">Worked Examples</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Security-Considerations-1"></span><h2 class="chapter">11 Security Considerations</h2>

<p>Security considerations are important if you are using <code>find</code> or
<code>xargs</code> to search for or process files that don&rsquo;t belong to you
or which other people have control.  Security considerations
relating to <code>locate</code> may also apply if you have files which you
do not want others to see.
</p>
<p>The most severe forms of security problems affecting
<code>find</code> and related programs are when third parties bring
about a situation allowing them to do something
they would normally not be able to accomplish.  This is called <em>privilege
elevation</em>.  This might include deleting files they would not normally
be able to delete.  It is common for the operating system to periodically
invoke <code>find</code> for self-maintenance purposes.  These invocations of
<code>find</code> are particularly problematic from a security point of view
as these are often invoked by the superuser and search the entire
filesystem hierarchy.  Generally, the severity of any associated problem depends
on what the system is going to do with the files found by <code>find</code>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Levels-of-Risk" accesskey="1">Levels of Risk</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">What is your level of exposure to security problems?
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Security-Considerations-for-find" accesskey="2">Security Considerations for find</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Security problems with find
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Security-Considerations-for-xargs" accesskey="3">Security Considerations for xargs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Security problems with xargs
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Security-Considerations-for-locate" accesskey="4">Security Considerations for locate</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Security problems with locate
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Security-Summary" accesskey="5">Security Summary</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">That was all very complex, what does it boil down to?
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Further-Reading-on-Security" accesskey="6">Further Reading on Security</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr>
<span id="Levels-of-Risk"></span><div class="header">
<p>
Next: <a href="#Security-Considerations-for-find" accesskey="n" rel="next">Security Considerations for find</a>, Up: <a href="#Security-Considerations" accesskey="u" rel="up">Security Considerations</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Levels-of-Risk-1"></span><h3 class="section">11.1 Levels of Risk</h3>

<p>There are some security risks inherent in the use of <code>find</code>,
<code>xargs</code> and (to a lesser extent) <code>locate</code>.  The severity of
these risks depends on what sort of system you are using:
</p>
<dl compact="compact">
<dt><strong>High risk</strong></dt>
<dd><p>Multi-user systems where you do not control (or trust) the other
users, and on which you execute <code>find</code>, including areas where
those other users can manipulate the filesystem (for example beneath
<samp>/home</samp> or <samp>/tmp</samp>).
</p>
</dd>
<dt><strong>Medium Risk</strong></dt>
<dd><p>Systems where the actions of other users can create file names chosen
by them, but to which they don&rsquo;t have access while <code>find</code> is
being run.  This access might include leaving programs running (shell
background jobs, <code>at</code> or <code>cron</code> tasks, for example).  On
these sorts of systems, carefully written commands (avoiding use of
&lsquo;<samp>-print</samp>&rsquo; for example) should not expose you to a high degree of
risk.  Most systems fall into this category.
</p>
</dd>
<dt><strong>Low Risk</strong></dt>
<dd><p>Systems to which untrusted parties do not have access, cannot create
file names of their own choice (even remotely) and which contain no
security flaws which might enable an untrusted third party to gain
access.  Most systems do not fall into this category because there are
many ways in which external parties can affect the names of files that
are created on your system.  The system on which I am writing this for
example automatically downloads software updates from the Internet;
the names of the files in which these updates exist are chosen by
third parties<a id="DOCF2" href="#FOOT2"><sup>2</sup></a>.
</p></dd>
</dl>

<p>In the discussion above, &ldquo;risk&rdquo; denotes the likelihood that someone
can cause <code>find</code>, <code>xargs</code>, <code>locate</code> or some other
program which is controlled by them to do something you did not
intend.  The levels of risk suggested do not take any account of the
consequences of this sort of event.  That is, if you operate a &ldquo;low
risk&rdquo; type system, but the consequences of a security problem are
disastrous, then you should still give serious thought to all the
possible security problems, many of which of course will not be
discussed here &ndash; this section of the manual is intended to be
informative but not comprehensive or exhaustive.
</p>
<p>If you are responsible for the operation of a system where the
consequences of a security problem could be very important, you should
do two things:
</p>
<ol>
<li> Define a security policy which defines who is allowed to do what
on your system.
</li><li> Seek competent advice on how to enforce your policy, detect
breaches of that policy, and take account of any potential problems
that might fall outside the scope of your policy.
</li></ol>


<hr>
<span id="Security-Considerations-for-find"></span><div class="header">
<p>
Next: <a href="#Security-Considerations-for-xargs" accesskey="n" rel="next">Security Considerations for xargs</a>, Previous: <a href="#Levels-of-Risk" accesskey="p" rel="prev">Levels of Risk</a>, Up: <a href="#Security-Considerations" accesskey="u" rel="up">Security Considerations</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Security-Considerations-for-find-1"></span><h3 class="section">11.2 Security Considerations for <code>find</code></h3>


<p>Some of the actions <code>find</code> might take have a direct effect;
these include <code>-exec</code> and <code>-delete</code>.  However, it is also
common to use <code>-print</code> explicitly or implicitly, and so if
<code>find</code> produces the wrong list of file names, that can also be a
security problem; consider the case for example where <code>find</code> is
producing a list of files to be deleted.
</p>
<p>We normally assume that the <code>find</code> command line expresses the
file selection criteria and actions that the user had in mind &ndash; that
is, the command line is &ldquo;trusted&rdquo; data.
</p>
<p>From a security analysis point of view, the output of <code>find</code>
should be correct; that is, the output should contain only the names
of those files which meet the user&rsquo;s criteria specified on the command
line.  This applies for the <code>-exec</code> and <code>-delete</code> actions;
one can consider these to be part of the output.
</p>
<p>On the other hand, the contents of the filesystem can be manipulated
by other people, and hence we regard this as &ldquo;untrusted&rdquo; data.  This
implies that the <code>find</code> command line is a filter which converts
the untrusted contents of the filesystem into a correct list of output
files.
</p>
<p>The filesystem will in general change while <code>find</code> is searching
it; in fact, most of the potential security problems with <code>find</code>
relate to this issue in some way.
</p>
<p><em>Race conditions</em> are a general class of security problem where the
relative ordering of actions taken by <code>find</code> (for example) and
something else are critically important in getting the correct and expected result<a id="DOCF3" href="#FOOT3"><sup>3</sup></a> .
</p>
<p>For <code>find</code>, an attacker might move or rename files or directories in
the hope that an action might be taken against a file which was not
normally intended to be affected.  Alternatively, this sort of attack
might be intended to persuade <code>find</code> to search part of the
filesystem which would not normally be included in the search
(defeating the <code>-prune</code> action for example).
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Problems-with-_002dexec-and-filenames" accesskey="1">Problems with -exec and filenames</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Changing-the-Current-Working-Directory" accesskey="2">Changing the Current Working Directory</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Race-Conditions-with-_002dexec" accesskey="3">Race Conditions with -exec</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Race-Conditions-with-_002dprint-and-_002dprint0" accesskey="4">Race Conditions with -print and -print0</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Problems-with-_002dexec-and-filenames"></span><div class="header">
<p>
Next: <a href="#Changing-the-Current-Working-Directory" accesskey="n" rel="next">Changing the Current Working Directory</a>, Up: <a href="#Security-Considerations-for-find" accesskey="u" rel="up">Security Considerations for find</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Problems-with-_002dexec-and-filenames-1"></span><h4 class="subsection">11.2.1 Problems with <code>-exec</code> and filenames</h4>

<p>It is safe in many cases to use the &lsquo;<samp>-execdir</samp>&rsquo; action with any
file name.  Because &lsquo;<samp>-execdir</samp>&rsquo; prefixes the arguments it passes
to programs with &lsquo;<samp>./</samp>&rsquo;, you will not accidentally pass an argument
which is interpreted as an option.  For example the file <samp>-f</samp>
would be passed to <code>rm</code> as <samp>./-f</samp>, which is harmless.
</p>
<p>However, your degree of safety does depend on the nature of the
program you are running.  For example constructs such as these two commands
</p>
<div class="example">
<pre class="example"># risky
find -exec sh -c &quot;something {}&quot; \;
find -execdir sh -c &quot;something {}&quot; \;
</pre></div>

<p>are very dangerous.  The reason for this is that the &lsquo;<samp>{}</samp>&rsquo; is
expanded to a filename which might contain a semicolon or other
characters special to the shell.  If for example someone creates the
file <samp>/tmp/foo; rm -rf $HOME</samp> then the two commands above could
delete someone&rsquo;s home directory.
</p>
<p>So for this reason do not run any command which will pass untrusted
data (such as the names of files) to commands which interpret
arguments as commands to be further interpreted (for example
&lsquo;<samp>sh</samp>&rsquo;).
</p>
<p>In the case of the shell, there is a clever workaround for this
problem:
</p>
<div class="example">
<pre class="example"># safer
find -exec sh -c 'something &quot;$@&quot;' sh {} \;
find -execdir sh -c 'something &quot;$@&quot;' sh {} \;
</pre></div>

<p>This approach is not guaranteed to avoid every problem, but it is much
safer than substituting data of an attacker&rsquo;s choice into the text of
a shell command.
</p>
<hr>
<span id="Changing-the-Current-Working-Directory"></span><div class="header">
<p>
Next: <a href="#Race-Conditions-with-_002dexec" accesskey="n" rel="next">Race Conditions with -exec</a>, Previous: <a href="#Problems-with-_002dexec-and-filenames" accesskey="p" rel="prev">Problems with -exec and filenames</a>, Up: <a href="#Security-Considerations-for-find" accesskey="u" rel="up">Security Considerations for find</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Changing-the-Current-Working-Directory-1"></span><h4 class="subsection">11.2.2 Changing the Current Working Directory</h4>

<p>As <code>find</code> searches the filesystem, it finds subdirectories and
then searches within them by changing its working directory.  First,
<code>find</code> reaches and recognises a subdirectory.  It then decides if that
subdirectory meets the criteria for being searched; that is, any
&lsquo;<samp>-xdev</samp>&rsquo; or &lsquo;<samp>-prune</samp>&rsquo; expressions are taken into account.  The
<code>find</code> program will then change working directory and proceed to
search the directory.
</p>
<p>A race condition attack might take the form that once the checks
relevant to &lsquo;<samp>-xdev</samp>&rsquo; and &lsquo;<samp>-prune</samp>&rsquo; have been done, an attacker
might rename the directory that was being considered, and put in its
place a symbolic link that actually points somewhere else.
</p>
<p>The idea behind this attack is to fool <code>find</code> into going into the
wrong directory.  This would leave <code>find</code> with a working
directory chosen by an attacker, bypassing any protection apparently
provided by &lsquo;<samp>-xdev</samp>&rsquo; and &lsquo;<samp>-prune</samp>&rsquo;, and any protection
provided by being able to <em>not</em> list particular directories on
the <code>find</code> command line.  This form of attack is particularly
problematic if the attacker can predict when the <code>find</code> command
will be run, as is the case with <code>cron</code> tasks for example.
</p>
<p>GNU <code>find</code> has specific safeguards to prevent this general class
of problem.  The exact form of these safeguards depends on the
properties of your system.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#O_005fNOFOLLOW" accesskey="1">O_NOFOLLOW</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Safely changing directory using <code>fchdir</code>.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Systems-without-O_005fNOFOLLOW" accesskey="2">Systems without O_NOFOLLOW</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Checking for symbolic links after <code>chdir</code>.
</td></tr>
</table>

<hr>
<span id="O_005fNOFOLLOW"></span><div class="header">
<p>
Next: <a href="#Systems-without-O_005fNOFOLLOW" accesskey="n" rel="next">Systems without O_NOFOLLOW</a>, Up: <a href="#Changing-the-Current-Working-Directory" accesskey="u" rel="up">Changing the Current Working Directory</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="O_005fNOFOLLOW-1"></span><h4 class="subsubsection">11.2.2.1 <code>O_NOFOLLOW</code></h4>

<p>If your system supports the <code>O_NOFOLLOW</code> flag <a id="DOCF4" href="#FOOT4"><sup>4</sup></a> to the <code>open(2)</code> system call, <code>find</code> uses it
to safely change directories.  The target directory is first opened
and then <code>find</code> changes working directory with the
<code>fchdir()</code> system call.  This ensures that symbolic links are not
followed, preventing the sort of race condition attack in which use
is made of symbolic links.
</p>
<p>If for any reason this approach does not work, <code>find</code> will fall
back on the method which is normally used if <code>O_NOFOLLOW</code> is not
supported.
</p>
<p>You can tell if your system supports <code>O_NOFOLLOW</code> by running
</p>
<div class="example">
<pre class="example">find --version
</pre></div>

<p>This will tell you the version number and which features are enabled.
For example, if I run this on my system now, this gives:
</p><div class="example">
<pre class="example">find (GNU findutils) 4.8.0
Copyright (C) 2021 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later \
&lt;https://gnu.org/licenses/gpl.html&gt;.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Written by Eric B. Decker, James Youngman, and Kevin Dalley.
Features enabled: D_TYPE O_NOFOLLOW(enabled) LEAF_OPTIMISATION \
FTS(FTS_CWDFD) CBO(level=2)
</pre></div>

<p>Here, you can see that I am running a version of <code>find</code> which was
built from the development (git) code prior to the release of
findutils-4.5.12, and that several features including <code>O_NOFOLLOW</code> are
present.  <code>O_NOFOLLOW</code> is qualified with &ldquo;enabled&rdquo;.  This simply means
that the current system seems to support <code>O_NOFOLLOW</code>.  This check is
needed because it is possible to build <code>find</code> on a system that
defines <code>O_NOFOLLOW</code> and then run it on a system that ignores the
<code>O_NOFOLLOW</code> flag.  We try to detect such cases at startup by checking
the operating system and version number; when this happens you will
see &lsquo;<samp>O_NOFOLLOW(disabled)</samp>&rsquo; instead.
</p>
<hr>
<span id="Systems-without-O_005fNOFOLLOW"></span><div class="header">
<p>
Previous: <a href="#O_005fNOFOLLOW" accesskey="p" rel="prev">O_NOFOLLOW</a>, Up: <a href="#Changing-the-Current-Working-Directory" accesskey="u" rel="up">Changing the Current Working Directory</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Systems-without-O_005fNOFOLLOW-1"></span><h4 class="subsubsection">11.2.2.2 Systems without <code>O_NOFOLLOW</code></h4>

<p>The strategy for preventing this type of problem on systems that lack
support for the <code>O_NOFOLLOW</code> flag is more complex.  Each time
<code>find</code> changes directory, it examines the directory it is about
to move to, issues the <code>chdir()</code> system call, and then checks
that it has ended up in the subdirectory it expected.  If all is as
expected, processing continues as normal.  However, there are two main
reasons why the directory might change: the use of an automounter and
someone removing the old directory and replacing it with something
else while <code>find</code> is trying to descend into it.
</p>
<p>Where a filesystem &ldquo;automounter&rdquo; is in use it can be the case that
the use of the <code>chdir()</code> system call can itself cause a new
filesystem to be mounted at that point.  On systems that do not
support <code>O_NOFOLLOW</code>, this will cause <code>find</code>&rsquo;s security check to
fail.
</p>
<p>However, this does not normally represent a security problem, since
the automounter configuration is normally set up by the system
administrator.  Therefore, if the <code>chdir()</code> sanity check fails,
<code>find</code> will make one more attempt<a id="DOCF5" href="#FOOT5"><sup>5</sup></a>.  If that succeeds, execution
carries on as normal.  This is the usual case for automounters.
</p>
<p>Where an attacker is trying to exploit a race condition, the problem
may not have gone away on the second attempt.  If this is the case,
<code>find</code> will issue a warning message and then ignore that
subdirectory.  When this happens, actions such as &lsquo;<samp>-exec</samp>&rsquo; or
&lsquo;<samp>-print</samp>&rsquo; may already have taken place for the problematic
subdirectory.  This is because <code>find</code> applies tests and actions
to directories before searching within them (unless &lsquo;<samp>-depth</samp>&rsquo; was
specified).
</p>
<p>Because of the nature of the directory-change operation and security
check, in the worst case the only things that <code>find</code> would have
done with the directory are to move into it and back out to the
original parent.  No operations would have been performed within that
directory.
</p>
<hr>
<span id="Race-Conditions-with-_002dexec"></span><div class="header">
<p>
Next: <a href="#Race-Conditions-with-_002dprint-and-_002dprint0" accesskey="n" rel="next">Race Conditions with -print and -print0</a>, Previous: <a href="#Changing-the-Current-Working-Directory" accesskey="p" rel="prev">Changing the Current Working Directory</a>, Up: <a href="#Security-Considerations-for-find" accesskey="u" rel="up">Security Considerations for find</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Race-Conditions-with-_002dexec-1"></span><h4 class="subsection">11.2.3 Race Conditions with <code>-exec</code></h4>

<p>The &lsquo;<samp>-exec</samp>&rsquo; action causes another program to be run.  It passes
to the program the name of the file which is being considered at the
time.  The invoked program will typically then perform some action
on that file.  Once again, there is a race condition which can be
exploited here.  We shall take as a specific example the command
</p>
<div class="example">
<pre class="example">find /tmp -path /tmp/umsp/passwd -exec /bin/rm
</pre></div>

<p>In this simple example, we are identifying just one file to be deleted
and invoking <code>/bin/rm</code> to delete it.  A problem exists because
there is a time gap between the point where <code>find</code> decides that
it needs to process the &lsquo;<samp>-exec</samp>&rsquo; action and the point where the
<code>/bin/rm</code> command actually issues the <code>unlink()</code> system
call to delete the file from the filesystem.  Within this time period, an attacker can rename the
<samp>/tmp/umsp</samp> directory, replacing it with a symbolic link to
<samp>/etc</samp>.  There is no way for <code>/bin/rm</code> to determine that it
is working on the same file that <code>find</code> had in mind.  Once the
symbolic link is in place, the attacker has persuaded <code>find</code> to
cause the deletion of the <samp>/etc/passwd</samp> file, which is not the
effect intended by the command which was actually invoked.
</p>
<p>One possible defence against this type of attack is to modify the
behaviour of &lsquo;<samp>-exec</samp>&rsquo; so that the <code>/bin/rm</code> command is run
with the argument <samp>./passwd</samp> and a suitable choice of working
directory.  This would allow the normal sanity check that <code>find</code>
performs to protect against this form of attack too.  Unfortunately,
this strategy cannot be used as the POSIX standard specifies that the
current working directory for commands invoked with &lsquo;<samp>-exec</samp>&rsquo; must
be the same as the current working directory from which <code>find</code>
was invoked.  This means that the &lsquo;<samp>-exec</samp>&rsquo; action is inherently
insecure and can&rsquo;t be fixed.
</p>
<p>GNU <code>find</code> implements a more secure variant of the &lsquo;<samp>-exec</samp>&rsquo;
action, &lsquo;<samp>-execdir</samp>&rsquo;.  The &lsquo;<samp>-execdir</samp>&rsquo; action
ensures that it is not necessary to dereference subdirectories to
process target files.  The current directory used to invoke programs
is the same as the directory in which the file to be processed exists
(<samp>/tmp/umsp</samp> in our example, and only the basename of the file to
be processed is passed to the invoked command, with a &lsquo;<samp>./</samp>&rsquo;
prepended (giving <samp>./passwd</samp> in our example).
</p>
<p>The &lsquo;<samp>-execdir</samp>&rsquo; action refuses to do anything if the current
directory is included in the <code>PATH</code> environment variable.  This
is necessary because &lsquo;<samp>-execdir</samp>&rsquo; runs programs in the same
directory in which it finds files &ndash; in general, such a directory
might be writable by untrusted users.  For similar reasons,
&lsquo;<samp>-execdir</samp>&rsquo; does not allow &lsquo;<samp>{}</samp>&rsquo; to appear in the name of
the command to be run.
</p>
<hr>
<span id="Race-Conditions-with-_002dprint-and-_002dprint0"></span><div class="header">
<p>
Previous: <a href="#Race-Conditions-with-_002dexec" accesskey="p" rel="prev">Race Conditions with -exec</a>, Up: <a href="#Security-Considerations-for-find" accesskey="u" rel="up">Security Considerations for find</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Race-Conditions-with-_002dprint-and-_002dprint0-1"></span><h4 class="subsection">11.2.4 Race Conditions with <code>-print</code> and <code>-print0</code></h4>

<p>The &lsquo;<samp>-print</samp>&rsquo; and &lsquo;<samp>-print0</samp>&rsquo; actions can be used to produce a
list of files matching some criteria, which can then be used with some
other command, perhaps with <code>xargs</code>.  Unfortunately, this means
that there is an unavoidable time gap between <code>find</code> deciding
that one or more files meet its criteria and the relevant command
being executed.  For this reason, the &lsquo;<samp>-print</samp>&rsquo; and &lsquo;<samp>-print0</samp>&rsquo;
actions are just as insecure as &lsquo;<samp>-exec</samp>&rsquo;.
</p>
<p>In fact, since the construction
</p>
<div class="example">
<pre class="example">find &hellip;  -print | xargs ...
</pre></div>

<p>does not cope correctly with newlines or other &ldquo;white space&rdquo; in
file names, and copes poorly with file names containing quotes, the
&lsquo;<samp>-print</samp>&rsquo; action is less secure even than &lsquo;<samp>-print0</samp>&rsquo;.
</p>

<hr>
<span id="Security-Considerations-for-xargs"></span><div class="header">
<p>
Next: <a href="#Security-Considerations-for-locate" accesskey="n" rel="next">Security Considerations for locate</a>, Previous: <a href="#Security-Considerations-for-find" accesskey="p" rel="prev">Security Considerations for find</a>, Up: <a href="#Security-Considerations" accesskey="u" rel="up">Security Considerations</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Security-Considerations-for-xargs-1"></span><h3 class="section">11.3 Security Considerations for <code>xargs</code></h3>

<p>The description of the race conditions affecting the &lsquo;<samp>-print</samp>&rsquo;
action of <code>find</code> shows that <code>xargs</code> cannot be secure if it
is possible for an attacker to modify a filesystem after <code>find</code>
has started but before <code>xargs</code> has completed all its actions.
</p>
<p>However, there are other security issues that exist even if it is not
possible for an attacker to have access to the filesystem in real
time.  Firstly, if it is possible for an attacker to create files with
names of their choice on the filesystem, then <code>xargs</code> is
insecure unless the &lsquo;<samp>-0</samp>&rsquo; option is used.  If a file with the name
<samp>/home/someuser/foo/bar\n/etc/passwd</samp> exists (assume that
&lsquo;<samp>\n</samp>&rsquo; stands for a newline character), then <code>find &hellip; -print</code>
can be persuaded to print three separate lines:
</p>
<div class="example">
<pre class="example">/home/someuser/foo/bar

/etc/passwd
</pre></div>

<p>If it finds a blank line in the input, <code>xargs</code> will ignore it.
Therefore, if some action is to be taken on the basis of this list of
files, the <samp>/etc/passwd</samp> file would be included even if this was
not the intent of the person running find.  There are circumstances in
which an attacker can use this to their advantage.  The same
consideration applies to file names containing ordinary spaces rather
than newlines, except that of course the list of file names will no
longer contain an &ldquo;extra&rdquo; newline.
</p>
<p>This problem is an unavoidable consequence of the default behaviour of
the <code>xargs</code> command, which is specified by the POSIX standard.
The only ways to avoid this problem are either to avoid all use of
<code>xargs</code> in favour for example of &lsquo;<samp>find -exec</samp>&rsquo; or (where
available) &lsquo;<samp>find -execdir</samp>&rsquo;, or to use the &lsquo;<samp>-0</samp>&rsquo; option, which
ensures that <code>xargs</code> considers file names to be separated by
ASCII NUL characters rather than whitespace.  However, useful as this
option is, the POSIX standard does not make it mandatory.
</p>
<p>POSIX also specifies that <code>xargs</code> interprets quoting and trailing
whitespace specially in filenames, too.  This means that using
<code>find ... -print | xargs ...</code> can cause the commands run by
<code>xargs</code> to receive a list of file names which is not the same as
the list printed by <code>find</code>.   The interpretation of quotes and
trailing whitespace is turned off by the &lsquo;<samp>-0</samp>&rsquo; argument to
<code>xargs</code>, which is another reason to use that option.
</p>
<hr>
<span id="Security-Considerations-for-locate"></span><div class="header">
<p>
Next: <a href="#Security-Summary" accesskey="n" rel="next">Security Summary</a>, Previous: <a href="#Security-Considerations-for-xargs" accesskey="p" rel="prev">Security Considerations for xargs</a>, Up: <a href="#Security-Considerations" accesskey="u" rel="up">Security Considerations</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Security-Considerations-for-locate-1"></span><h3 class="section">11.4 Security Considerations for <code>locate</code></h3>

<span id="Race-Conditions"></span><h4 class="subsection">11.4.1 Race Conditions</h4>
<p>It is fairly unusual for the output of <code>locate</code> to be fed into
another command.  However, if this were to be done, this would raise
the same set of security issues as the use of &lsquo;<samp>find &hellip; -print</samp>&rsquo;.
Although the problems relating to whitespace in file names can be
resolved by using <code>locate</code>&rsquo;s &lsquo;<samp>-0</samp>&rsquo; option, this still leaves
the race condition problems associated with &lsquo;<samp>find &hellip; -print0</samp>&rsquo;.
There is no way to avoid these problems in the case of <code>locate</code>.
</p>
<hr>
<span id="Security-Summary"></span><div class="header">
<p>
Next: <a href="#Further-Reading-on-Security" accesskey="n" rel="next">Further Reading on Security</a>, Previous: <a href="#Security-Considerations-for-locate" accesskey="p" rel="prev">Security Considerations for locate</a>, Up: <a href="#Security-Considerations" accesskey="u" rel="up">Security Considerations</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Summary"></span><h3 class="section">11.5 Summary</h3>

<p>Where untrusted parties can create files on the system, or affect the
names of files that are created, all uses for <code>find</code>,
<code>locate</code> and <code>xargs</code> have known security problems except the
following:
</p>
<dl compact="compact">
<dt>Informational use only</dt>
<dd><p>Uses where the programs are used to prepare lists of file names upon
which no further action will ever be taken.
</p>
</dd>
<dt>&lsquo;<samp>-delete</samp>&rsquo;</dt>
<dd><p>Use of the &lsquo;<samp>-delete</samp>&rsquo; action with <code>find</code> to delete files
which meet specified criteria
</p>
</dd>
<dt>&lsquo;<samp>-execdir</samp>&rsquo;</dt>
<dd><p>Use of the &lsquo;<samp>-execdir</samp>&rsquo; action with <code>find</code> where the
<code>PATH</code> environment variable contains directories which contain
only trusted programs.
</p></dd>
</dl>


<hr>
<span id="Further-Reading-on-Security"></span><div class="header">
<p>
Previous: <a href="#Security-Summary" accesskey="p" rel="prev">Security Summary</a>, Up: <a href="#Security-Considerations" accesskey="u" rel="up">Security Considerations</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Further-Reading-on-Security-1"></span><h3 class="section">11.6 Further Reading on Security</h3>

<p>While there are a number of books on computer security, there are also
useful articles on the web that touch on the issues described above:
</p>
<dl compact="compact">
<dt><a href="https://goo.gl/DAvh">https://goo.gl/DAvh</a></dt>
<dd><p>This article describes some of the unfortunate effects of allowing
free choice of file names.
</p></dd>
<dt><a href="https://cwe.mitre.org/data/definitions/78.html">https://cwe.mitre.org/data/definitions/78.html</a></dt>
<dd><p>Describes OS Command Injection
</p></dd>
<dt><a href="https://cwe.mitre.org/data/definitions/73.html">https://cwe.mitre.org/data/definitions/73.html</a></dt>
<dd><p>Describes problems arising from allowing remote computers to send
requests which specify file names of their choice
</p></dd>
<dt><a href="https://cwe.mitre.org/data/definitions/116.html">https://cwe.mitre.org/data/definitions/116.html</a></dt>
<dd><p>Describes problems relating to encoding file names and escaping
characters.  This article is relevant to findutils because for command
lines processed via the shell, the encoding and escaping rules are
already set by the shell.   For example command lines like <code>find
... -print | some-shell-script</code> require specific care.
</p></dd>
<dt><a href="https://xkcd.com/327/">https://xkcd.com/327/</a></dt>
<dd><p>A humorous and pithy summary of the broader problem.
</p></dd>
</dl>

<hr>
<span id="Error-Messages"></span><div class="header">
<p>
Next: <a href="#GNU-Free-Documentation-License" accesskey="n" rel="next">GNU Free Documentation License</a>, Previous: <a href="#Security-Considerations" accesskey="p" rel="prev">Security Considerations</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Error-Messages-1"></span><h2 class="chapter">12 Error Messages</h2>

<p>This section describes some of the error messages sometimes made by
<code>find</code>, <code>xargs</code>, or <code>locate</code>, explains them and in some
cases provides advice as to what you should do about this.
</p>
<p>This manual is written in English.  The GNU findutils software
features translations of error messages for many languages.  For this
reason the error messages produced by the programs are made to be as
self-explanatory as possible.  This approach avoids leaving people to
figure out which test an English-language error message corresponds
to.  Error messages which are self-explanatory will not normally be
mentioned in this document.  For those messages mentioned in this
document, only the English-language version of the message will be
listed.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Error-Messages-From-find" accesskey="1">Error Messages From find</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Error-Messages-From-xargs" accesskey="2">Error Messages From xargs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Error-Messages-From-locate" accesskey="3">Error Messages From locate</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Error-Messages-From-updatedb" accesskey="4">Error Messages From updatedb</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Error-Messages-From-find"></span><div class="header">
<p>
Next: <a href="#Error-Messages-From-xargs" accesskey="n" rel="next">Error Messages From xargs</a>, Up: <a href="#Error-Messages" accesskey="u" rel="up">Error Messages</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Error-Messages-From-find-1"></span><h3 class="section">12.1 Error Messages From <code>find</code></h3>

<p>Most error messages produced by find are self-explanatory.  Error
messages sometimes include a filename.  When this happens, the
filename is quoted in order to prevent any unusual characters in the
filename making unwanted changes in the state of the terminal.
</p>
<dl compact="compact">
<dt>&lsquo;<samp>invalid predicate `-foo'</samp>&rsquo;</dt>
<dd><p>This means that the <code>find</code> command line included something that
started with a dash or other special character.  The <code>find</code>
program tried to interpret this as a test, action or option, but
didn&rsquo;t recognise it.  If it was intended to be a test, check what was
specified against the documentation.  If, on the other hand, the
string is the name of a file which has been expanded from a wildcard
(for example because you have a &lsquo;<samp>*</samp>&rsquo; on the command line),
consider using &lsquo;<samp>./*</samp>&rsquo; or just &lsquo;<samp>.</samp>&rsquo; instead.
</p>
</dd>
<dt>&lsquo;<samp>unexpected extra predicate</samp>&rsquo;</dt>
<dd><p>This usually happens if you have an extra bracket on the command line
(for example &lsquo;<samp>find . -print \)</samp>&rsquo;).
</p>
</dd>
<dt>&lsquo;<samp>Warning: filesystem /path/foo has recently been mounted</samp>&rsquo;</dt>
<dt>&lsquo;<samp>Warning: filesystem /path/foo has recently been unmounted</samp>&rsquo;</dt>
<dd><p>These messages might appear when <code>find</code> moves into a directory
and finds that the device number and inode are different from what it
expected them to be.  If the directory <code>find</code> has moved into is
on a network filesystem (NFS), it will not issue this message, because
<code>automount</code> frequently mounts new filesystems on directories as
you move into them (that is how it knows you want to use the
filesystem).  So, if you do see this message, be wary &ndash;
<code>automount</code> may not have been responsible.  Consider the
possibility that someone else is manipulating the filesystem while
<code>find</code> is running.  Some people might do this in order to mislead
<code>find</code> or persuade it to look at one set of files when it thought
it was looking at another set.
</p>
</dd>
<dt>&lsquo;<samp>/path/foo changed during execution of find (old device number 12345, new device number 6789, filesystem type is &lt;whatever&gt;) [ref XXX]</samp>&rsquo;</dt>
<dd><p>This message is issued when <code>find</code> moves into a directory and ends up
somewhere it didn&rsquo;t expect to be.  This happens in one of two
circumstances.  Firstly, this happens when <code>automount</code> intervenes
on a system where <code>find</code> doesn&rsquo;t know how to determine what
the current set of mounted filesystems is.
</p>
<p>Secondly, this can happen when the device number of a directory
appears to change during a change of current directory, but
<code>find</code> is moving up the filesystem hierarchy rather than down into it.
In order to prevent <code>find</code> wandering off into some unexpected
part of the filesystem, we stop it at this point.
</p>
</dd>
<dt>&lsquo;<samp>Don't know how to use getmntent() to read `/etc/mtab'.  This is a bug.</samp>&rsquo;</dt>
<dd><p>This message is issued when a problem similar to the above occurs on a
system where <code>find</code> doesn&rsquo;t know how to figure out the current
list of mount points.  Ask for help on <a href="mailto:bug-findutils@gnu.org">bug-findutils@gnu.org</a>.
</p>
</dd>
<dt>&lsquo;<samp>/path/foo/bar changed during execution of find (old inode number 12345, new inode number 67893, filesystem type is &lt;whatever&gt;) [ref XXX]&quot;),</samp>&rsquo;</dt>
<dd><p>This message is issued when <code>find</code> moves into a directory and
discovers that the inode number of that directory
is different from the inode number that it obtained when it examined the
directory previously.  This usually means that while
<code>find</code> was deep in a directory hierarchy doing a
time consuming operation, somebody has moved one of the parent directories to
another location in the same filesystem.  This may or may not have been done
maliciously.  In any case, <code>find</code> stops at this point
to avoid traversing parts of the filesystem that it wasn&rsquo;t
intended to.  You can use <code>ls -li</code> or <code>find /path -inum
12345 -o -inum 67893</code> to find out more about what has happened.
</p>
</dd>
<dt>&lsquo;<samp>sanity check of the fnmatch() library function failed.</samp>&rsquo;</dt>
<dd><p>Please submit a bug report.  You may well be asked questions about
your system, and if you compiled the <code>findutils</code> code yourself,
you should keep your copy of the build tree around.  The likely
explanation is that your system has a buggy implementation of
<code>fnmatch</code> that looks enough like the GNU version to fool
<code>configure</code>, but which doesn&rsquo;t work properly.
</p>
</dd>
<dt>&lsquo;<samp>cannot fork</samp>&rsquo;</dt>
<dd><p>This normally happens if you use the <code>-exec</code> action or
something similar (<code>-ok</code> and so forth) but the system has run out
of free process slots.  This is either because the system is very busy
and the system has reached its maximum process limit, or because you
have a resource limit in place and you&rsquo;ve reached it.  Check the
system for runaway processes (with <code>ps</code>, if possible).  Some process
slots are normally reserved for use by &lsquo;<samp>root</samp>&rsquo;.
</p>
</dd>
<dt>&lsquo;<samp>some-program terminated by signal 99</samp>&rsquo;</dt>
<dd><p>Some program which was launched with <code>-exec</code> or similar was killed
with a fatal signal.  This is just an advisory message.
</p></dd>
</dl>


<hr>
<span id="Error-Messages-From-xargs"></span><div class="header">
<p>
Next: <a href="#Error-Messages-From-locate" accesskey="n" rel="next">Error Messages From locate</a>, Previous: <a href="#Error-Messages-From-find" accesskey="p" rel="prev">Error Messages From find</a>, Up: <a href="#Error-Messages" accesskey="u" rel="up">Error Messages</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Error-Messages-From-xargs-1"></span><h3 class="section">12.2 Error Messages From <code>xargs</code></h3>

<dl compact="compact">
<dt>&lsquo;<samp>environment is too large for exec</samp>&rsquo;</dt>
<dd><p>This message means that you have so many environment variables set (or
such large values for them) that there is no room within the
system-imposed limits on program command line argument length to
invoke any program.  This is an unlikely situation and is more likely
result of an attempt to test the limits of <code>xargs</code>, or break it.
Please try unsetting some environment variables, or exiting the
current shell.  You can also use &lsquo;<samp>xargs --show-limits</samp>&rsquo; to
understand the relevant sizes.
</p>
</dd>
<dt>&lsquo;<samp>argument list too long</samp>&rsquo;</dt>
<dd><p>You are using the &lsquo;<samp>-I</samp>&rsquo; option and <code>xargs</code> doesn&rsquo;t have
enough space to build a command line because it has read a really
large item and it doesn&rsquo;t fit.  You may be able to work around this
problem with the &lsquo;<samp>-s</samp>&rsquo; option, but the default size is pretty
large.  This is a rare situation and is more likely an attempt to test
the limits of <code>xargs</code>, or break it.  Otherwise, you will need to
try to shorten the problematic argument or not use <code>xargs</code>.
</p>
</dd>
<dt>&lsquo;<samp>argument line too long</samp>&rsquo;</dt>
<dd><p>You are using the &lsquo;<samp>-L</samp>&rsquo; or &lsquo;<samp>-l</samp>&rsquo; option and one of the input
lines is too long.  You may be able to work around this problem with
the &lsquo;<samp>-s</samp>&rsquo; option, but the default size is pretty large.  If you
can modify the your <code>xargs</code> command not to use &lsquo;<samp>-L</samp>&rsquo; or
&lsquo;<samp>-l</samp>&rsquo;, that will be more likely to result in success.
</p>
</dd>
<dt>&lsquo;<samp>cannot fork</samp>&rsquo;</dt>
<dd><p>See the description of the similar message for <code>find</code>.
</p>
</dd>
<dt>&lsquo;<samp>&lt;program&gt;: exited with status 255; aborting</samp>&rsquo;</dt>
<dd><p>When a command run by <code>xargs</code> exits with status 255, <code>xargs</code>
is supposed to stop.  If this is not what you intended, wrap the
program you are trying to invoke in a shell script which doesn&rsquo;t
return status 255.
</p>
</dd>
<dt>&lsquo;<samp>&lt;program&gt;: terminated by signal 99</samp>&rsquo;</dt>
<dd><p>See the description of the similar message for <code>find</code>.
</p>
</dd>
<dt>&lsquo;<samp>cannot set SIGUSR1 signal handler</samp>&rsquo;</dt>
<dd><p><code>xargs</code> is having trouble preparing for you to be able to send it
signals to increase or decrease the parallelism of its processing.
If you don&rsquo;t plan to send it those signals, this warning can be ignored
(though if you&rsquo;re a programmer, you may want to help us figure out
why <code>xargs</code> is confused by your operating system).
</p>
</dd>
<dt>&lsquo;<samp>failed to redirect standard input of the child process</samp>&rsquo;</dt>
<dd><p><code>xargs</code> redirects the stdin stream of the command to be run to either
<samp>/dev/null</samp> or to <samp>/dev/tty</samp> for the &lsquo;<samp>-o</samp>&rsquo; option.
See the manual of the system call <code>dup2(2)</code>.
</p></dd>
</dl>

<hr>
<span id="Error-Messages-From-locate"></span><div class="header">
<p>
Next: <a href="#Error-Messages-From-updatedb" accesskey="n" rel="next">Error Messages From updatedb</a>, Previous: <a href="#Error-Messages-From-xargs" accesskey="p" rel="prev">Error Messages From xargs</a>, Up: <a href="#Error-Messages" accesskey="u" rel="up">Error Messages</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Error-Messages-From-locate-1"></span><h3 class="section">12.3 Error Messages From <code>locate</code></h3>

<dl compact="compact">
<dt>&lsquo;<samp>warning: database <samp>/usr/local/var/locatedb</samp> is more than 8 days old</samp>&rsquo;</dt>
<dd><p>The <code>locate</code> program relies on a database which is periodically
built by the <code>updatedb</code> program.  That hasn&rsquo;t happened in a long
time.  To fix this problem, run <code>updatedb</code> manually.  This can
often happen on systems that are generally not left on, so the
periodic &ldquo;cron&rdquo; task which normally does this doesn&rsquo;t get a chance
to run.
</p>
</dd>
<dt>&lsquo;<samp>locate database <samp>/usr/local/var/locatedb</samp> is corrupt or invalid</samp>&rsquo;</dt>
<dd><p>This should not happen.  Re-run <code>updatedb</code>.  If that works, but
<code>locate</code> still produces this error, run <code>locate --version</code>
and <code>updatedb --version</code>.  These should produce the same output.
If not, you are using a mixed toolset; check your <code>PATH</code>
environment variable and your shell aliases (if you have any).  If
both programs claim to be GNU versions, this is a bug; all versions of
these programs should interoperate without problem.  Ask for help on
<a href="mailto:bug-findutils@gnu.org">bug-findutils@gnu.org</a>.
</p></dd>
</dl>


<hr>
<span id="Error-Messages-From-updatedb"></span><div class="header">
<p>
Previous: <a href="#Error-Messages-From-locate" accesskey="p" rel="prev">Error Messages From locate</a>, Up: <a href="#Error-Messages" accesskey="u" rel="up">Error Messages</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Error-Messages-From-updatedb-1"></span><h3 class="section">12.4 Error Messages From <code>updatedb</code></h3>

<p>The <code>updatedb</code> program (and the programs it invokes) do issue
error messages, but none seem to be candidates for guidance.  If
you are having a problem understanding one of these, ask for help on
<a href="mailto:bug-findutils@gnu.org">bug-findutils@gnu.org</a>.
</p>
<hr>
<span id="GNU-Free-Documentation-License"></span><div class="header">
<p>
Next: <a href="#Primary-Index" accesskey="n" rel="next">Primary Index</a>, Previous: <a href="#Error-Messages" accesskey="p" rel="prev">Error Messages</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="GNU-Free-Documentation-License-1"></span><h2 class="appendix">Appendix A GNU Free Documentation License</h2>
<div align="center">Version 1.3, 3 November 2008
</div>

<div class="display">
<pre class="display">Copyright &copy; 2000, 2001, 2002, 2007, 2008 Free Software Foundation, Inc.
<a href="https://fsf.org/">https://fsf.org/</a>

Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.
</pre></div>

<ol start="0">
<li> PREAMBLE

<p>The purpose of this License is to make a manual, textbook, or other
functional and useful document <em>free</em> in the sense of freedom: to
assure everyone the effective freedom to copy and redistribute it,
with or without modifying it, either commercially or noncommercially.
Secondarily, this License preserves for the author and publisher a way
to get credit for their work, while not being considered responsible
for modifications made by others.
</p>
<p>This License is a kind of &ldquo;copyleft&rdquo;, which means that derivative
works of the document must themselves be free in the same sense.  It
complements the GNU General Public License, which is a copyleft
license designed for free software.
</p>
<p>We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does.  But this License is not limited to software manuals;
it can be used for any textual work, regardless of subject matter or
whether it is published as a printed book.  We recommend this License
principally for works whose purpose is instruction or reference.
</p>
</li><li> APPLICABILITY AND DEFINITIONS

<p>This License applies to any manual or other work, in any medium, that
contains a notice placed by the copyright holder saying it can be
distributed under the terms of this License.  Such a notice grants a
world-wide, royalty-free license, unlimited in duration, to use that
work under the conditions stated herein.  The &ldquo;Document&rdquo;, below,
refers to any such manual or work.  Any member of the public is a
licensee, and is addressed as &ldquo;you&rdquo;.  You accept the license if you
copy, modify or distribute the work in a way requiring permission
under copyright law.
</p>
<p>A &ldquo;Modified Version&rdquo; of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.
</p>
<p>A &ldquo;Secondary Section&rdquo; is a named appendix or a front-matter section
of the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document&rsquo;s overall
subject (or to related matters) and contains nothing that could fall
directly within that overall subject.  (Thus, if the Document is in
part a textbook of mathematics, a Secondary Section may not explain
any mathematics.)  The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.
</p>
<p>The &ldquo;Invariant Sections&rdquo; are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.  If a
section does not fit the above definition of Secondary then it is not
allowed to be designated as Invariant.  The Document may contain zero
Invariant Sections.  If the Document does not identify any Invariant
Sections then there are none.
</p>
<p>The &ldquo;Cover Texts&rdquo; are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.  A Front-Cover Text may
be at most 5 words, and a Back-Cover Text may be at most 25 words.
</p>
<p>A &ldquo;Transparent&rdquo; copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, that is suitable for revising the document
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input
to text formatters.  A copy made in an otherwise Transparent file
format whose markup, or absence of markup, has been arranged to thwart
or discourage subsequent modification by readers is not Transparent.
An image format is not Transparent if used for any substantial amount
of text.  A copy that is not &ldquo;Transparent&rdquo; is called &ldquo;Opaque&rdquo;.
</p>
<p>Examples of suitable formats for Transparent copies include plain
ASCII without markup, Texinfo input format, LaTeX input
format, SGML or XML using a publicly available
DTD, and standard-conforming simple HTML,
PostScript or PDF designed for human modification.  Examples
of transparent image formats include PNG, XCF and
JPG.  Opaque formats include proprietary formats that can be
read and edited only by proprietary word processors, SGML or
XML for which the DTD and/or processing tools are
not generally available, and the machine-generated HTML,
PostScript or PDF produced by some word processors for
output purposes only.
</p>
<p>The &ldquo;Title Page&rdquo; means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page.  For works in
formats which do not have any title page as such, &ldquo;Title Page&rdquo; means
the text near the most prominent appearance of the work&rsquo;s title,
preceding the beginning of the body of the text.
</p>
<p>The &ldquo;publisher&rdquo; means any person or entity that distributes copies
of the Document to the public.
</p>
<p>A section &ldquo;Entitled XYZ&rdquo; means a named subunit of the Document whose
title either is precisely XYZ or contains XYZ in parentheses following
text that translates XYZ in another language.  (Here XYZ stands for a
specific section name mentioned below, such as &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, &ldquo;Endorsements&rdquo;, or &ldquo;History&rdquo;.)  To &ldquo;Preserve the Title&rdquo;
of such a section when you modify the Document means that it remains a
section &ldquo;Entitled XYZ&rdquo; according to this definition.
</p>
<p>The Document may include Warranty Disclaimers next to the notice which
states that this License applies to the Document.  These Warranty
Disclaimers are considered to be included by reference in this
License, but only as regards disclaiming warranties: any other
implication that these Warranty Disclaimers may have is void and has
no effect on the meaning of this License.
</p>
</li><li> VERBATIM COPYING

<p>You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no other
conditions whatsoever to those of this License.  You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute.  However, you may accept
compensation in exchange for copies.  If you distribute a large enough
number of copies you must also follow the conditions in section 3.
</p>
<p>You may also lend copies, under the same conditions stated above, and
you may publicly display copies.
</p>
</li><li> COPYING IN QUANTITY

<p>If you publish printed copies (or copies in media that commonly have
printed covers) of the Document, numbering more than 100, and the
Document&rsquo;s license notice requires Cover Texts, you must enclose the
copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover.  Both covers must also clearly and legibly identify
you as the publisher of these copies.  The front cover must present
the full title with all words of the title equally prominent and
visible.  You may add other material on the covers in addition.
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be treated
as verbatim copying in other respects.
</p>
<p>If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.
</p>
<p>If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a computer-network location from which the general network-using
public has access to download using public-standard network protocols
a complete Transparent copy of the Document, free of added material.
If you use the latter option, you must take reasonably prudent steps,
when you begin distribution of Opaque copies in quantity, to ensure
that this Transparent copy will remain thus accessible at the stated
location until at least one year after the last time you distribute an
Opaque copy (directly or through your agents or retailers) of that
edition to the public.
</p>
<p>It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to give
them a chance to provide you with an updated version of the Document.
</p>
</li><li> MODIFICATIONS

<p>You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy
of it.  In addition, you must do these things in the Modified Version:
</p>
<ol type="A" start="1">
<li> Use in the Title Page (and on the covers, if any) a title distinct
from that of the Document, and from those of previous versions
(which should, if there were any, be listed in the History section
of the Document).  You may use the same title as a previous version
if the original publisher of that version gives permission.

</li><li> List on the Title Page, as authors, one or more persons or entities
responsible for authorship of the modifications in the Modified
Version, together with at least five of the principal authors of the
Document (all of its principal authors, if it has fewer than five),
unless they release you from this requirement.

</li><li> State on the Title page the name of the publisher of the
Modified Version, as the publisher.

</li><li> Preserve all the copyright notices of the Document.

</li><li> Add an appropriate copyright notice for your modifications
adjacent to the other copyright notices.

</li><li> Include, immediately after the copyright notices, a license notice
giving the public permission to use the Modified Version under the
terms of this License, in the form shown in the Addendum below.

</li><li> Preserve in that license notice the full lists of Invariant Sections
and required Cover Texts given in the Document&rsquo;s license notice.

</li><li> Include an unaltered copy of this License.

</li><li> Preserve the section Entitled &ldquo;History&rdquo;, Preserve its Title, and add
to it an item stating at least the title, year, new authors, and
publisher of the Modified Version as given on the Title Page.  If
there is no section Entitled &ldquo;History&rdquo; in the Document, create one
stating the title, year, authors, and publisher of the Document as
given on its Title Page, then add an item describing the Modified
Version as stated in the previous sentence.

</li><li> Preserve the network location, if any, given in the Document for
public access to a Transparent copy of the Document, and likewise
the network locations given in the Document for previous versions
it was based on.  These may be placed in the &ldquo;History&rdquo; section.
You may omit a network location for a work that was published at
least four years before the Document itself, or if the original
publisher of the version it refers to gives permission.

</li><li> For any section Entitled &ldquo;Acknowledgements&rdquo; or &ldquo;Dedications&rdquo;, Preserve
the Title of the section, and preserve in the section all the
substance and tone of each of the contributor acknowledgements and/or
dedications given therein.

</li><li> Preserve all the Invariant Sections of the Document,
unaltered in their text and in their titles.  Section numbers
or the equivalent are not considered part of the section titles.

</li><li> Delete any section Entitled &ldquo;Endorsements&rdquo;.  Such a section
may not be included in the Modified Version.

</li><li> Do not retitle any existing section to be Entitled &ldquo;Endorsements&rdquo; or
to conflict in title with any Invariant Section.

</li><li> Preserve any Warranty Disclaimers.
</li></ol>

<p>If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant.  To do this, add their titles to the
list of Invariant Sections in the Modified Version&rsquo;s license notice.
These titles must be distinct from any other section titles.
</p>
<p>You may add a section Entitled &ldquo;Endorsements&rdquo;, provided it contains
nothing but endorsements of your Modified Version by various
parties&mdash;for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.
</p>
<p>You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version.  Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity.  If the Document already
includes a cover text for the same cover, previously added by you or
by arrangement made by the same entity you are acting on behalf of,
you may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.
</p>
<p>The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.
</p>
</li><li> COMBINING DOCUMENTS

<p>You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice, and that you preserve all their Warranty Disclaimers.
</p>
<p>The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy.  If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number.
Make the same adjustment to the section titles in the list of
Invariant Sections in the license notice of the combined work.
</p>
<p>In the combination, you must combine any sections Entitled &ldquo;History&rdquo;
in the various original documents, forming one section Entitled
&ldquo;History&rdquo;; likewise combine any sections Entitled &ldquo;Acknowledgements&rdquo;,
and any sections Entitled &ldquo;Dedications&rdquo;.  You must delete all
sections Entitled &ldquo;Endorsements.&rdquo;
</p>
</li><li> COLLECTIONS OF DOCUMENTS

<p>You may make a collection consisting of the Document and other documents
released under this License, and replace the individual copies of this
License in the various documents with a single copy that is included in
the collection, provided that you follow the rules of this License for
verbatim copying of each of the documents in all other respects.
</p>
<p>You may extract a single document from such a collection, and distribute
it individually under this License, provided you insert a copy of this
License into the extracted document, and follow this License in all
other respects regarding verbatim copying of that document.
</p>
</li><li> AGGREGATION WITH INDEPENDENT WORKS

<p>A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, is called an &ldquo;aggregate&rdquo; if the copyright
resulting from the compilation is not used to limit the legal rights
of the compilation&rsquo;s users beyond what the individual works permit.
When the Document is included in an aggregate, this License does not
apply to the other works in the aggregate which are not themselves
derivative works of the Document.
</p>
<p>If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one half of
the entire aggregate, the Document&rsquo;s Cover Texts may be placed on
covers that bracket the Document within the aggregate, or the
electronic equivalent of covers if the Document is in electronic form.
Otherwise they must appear on printed covers that bracket the whole
aggregate.
</p>
</li><li> TRANSLATION

<p>Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4.
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections.  You may include a
translation of this License, and all the license notices in the
Document, and any Warranty Disclaimers, provided that you also include
the original English version of this License and the original versions
of those notices and disclaimers.  In case of a disagreement between
the translation and the original version of this License or a notice
or disclaimer, the original version will prevail.
</p>
<p>If a section in the Document is Entitled &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, or &ldquo;History&rdquo;, the requirement (section 4) to Preserve
its Title (section 1) will typically require changing the actual
title.
</p>
</li><li> TERMINATION

<p>You may not copy, modify, sublicense, or distribute the Document
except as expressly provided under this License.  Any attempt
otherwise to copy, modify, sublicense, or distribute it is void, and
will automatically terminate your rights under this License.
</p>
<p>However, if you cease all violation of this License, then your license
from a particular copyright holder is reinstated (a) provisionally,
unless and until the copyright holder explicitly and finally
terminates your license, and (b) permanently, if the copyright holder
fails to notify you of the violation by some reasonable means prior to
60 days after the cessation.
</p>
<p>Moreover, your license from a particular copyright holder is
reinstated permanently if the copyright holder notifies you of the
violation by some reasonable means, this is the first time you have
received notice of violation of this License (for any work) from that
copyright holder, and you cure the violation prior to 30 days after
your receipt of the notice.
</p>
<p>Termination of your rights under this section does not terminate the
licenses of parties who have received copies or rights from you under
this License.  If your rights have been terminated and not permanently
reinstated, receipt of a copy of some or all of the same material does
not give you any rights to use it.
</p>
</li><li> FUTURE REVISIONS OF THIS LICENSE

<p>The Free Software Foundation may publish new, revised versions
of the GNU Free Documentation License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.  See
<a href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>.
</p>
<p>Each version of the License is given a distinguishing version number.
If the Document specifies that a particular numbered version of this
License &ldquo;or any later version&rdquo; applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation.  If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.  If the Document
specifies that a proxy can decide which future versions of this
License can be used, that proxy&rsquo;s public statement of acceptance of a
version permanently authorizes you to choose that version for the
Document.
</p>
</li><li> RELICENSING

<p>&ldquo;Massive Multiauthor Collaboration Site&rdquo; (or &ldquo;MMC Site&rdquo;) means any
World Wide Web server that publishes copyrightable works and also
provides prominent facilities for anybody to edit those works.  A
public wiki that anybody can edit is an example of such a server.  A
&ldquo;Massive Multiauthor Collaboration&rdquo; (or &ldquo;MMC&rdquo;) contained in the
site means any set of copyrightable works thus published on the MMC
site.
</p>
<p>&ldquo;CC-BY-SA&rdquo; means the Creative Commons Attribution-Share Alike 3.0
license published by Creative Commons Corporation, a not-for-profit
corporation with a principal place of business in San Francisco,
California, as well as future copyleft versions of that license
published by that same organization.
</p>
<p>&ldquo;Incorporate&rdquo; means to publish or republish a Document, in whole or
in part, as part of another Document.
</p>
<p>An MMC is &ldquo;eligible for relicensing&rdquo; if it is licensed under this
License, and if all works that were first published under this License
somewhere other than this MMC, and subsequently incorporated in whole
or in part into the MMC, (1) had no cover texts or invariant sections,
and (2) were thus incorporated prior to November 1, 2008.
</p>
<p>The operator of an MMC Site may republish an MMC contained in the site
under CC-BY-SA on the same site at any time before August 1, 2009,
provided the MMC is eligible for relicensing.
</p>
</li></ol>

<span id="ADDENDUM_003a-How-to-use-this-License-for-your-documents"></span><h3 class="heading">ADDENDUM: How to use this License for your documents</h3>

<p>To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and
license notices just after the title page:
</p>
<div class="example">
<pre class="example">  Copyright (C)  <var>year</var>  <var>your name</var>.
  Permission is granted to copy, distribute and/or modify this document
  under the terms of the GNU Free Documentation License, Version 1.3
  or any later version published by the Free Software Foundation;
  with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
  Texts.  A copy of the license is included in the section entitled ``GNU
  Free Documentation License''.
</pre></div>

<p>If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
replace the &ldquo;with&hellip;Texts.&rdquo; line with this:
</p>
<div class="example">
<pre class="example">    with the Invariant Sections being <var>list their titles</var>, with
    the Front-Cover Texts being <var>list</var>, and with the Back-Cover Texts
    being <var>list</var>.
</pre></div>

<p>If you have Invariant Sections without Cover Texts, or some other
combination of the three, merge those two alternatives to suit the
situation.
</p>
<p>If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License,
to permit their use in free software.
</p>

<hr>
<span id="Primary-Index"></span><div class="header">
<p>
Previous: <a href="#GNU-Free-Documentation-License" accesskey="p" rel="prev">GNU Free Documentation License</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Primary-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="find-Primary-Index"></span><h2 class="unnumbered"><code>find</code> Primary Index</h2>

<p>This is a list of all of the primaries (tests, actions, and options)
that make up <code>find</code> expressions for selecting files.  See <a href="#find-Expressions">find Expressions</a>, for more information on expressions.
</p>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a class="summary-letter" href="#Primary-Index_fn_symbol-1"><b>!</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_symbol-2"><b>(</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_symbol-3"><b>,</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_symbol-4"><b>-</b></a>
 &nbsp; 
<br>
<a class="summary-letter" href="#Primary-Index_fn_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_letter-N"><b>N</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_letter-W"><b>W</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_letter-Y"><b>Y</b></a>
 &nbsp; 
</td></tr></table>
<table class="index-fn" border="0">
<tr><td></td><th align="left">Index Entry</th><td>&nbsp;</td><th align="left"> Section</th></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Primary-Index_fn_symbol-1">!</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0021"><code>!</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Combining-Primaries-With-Operators">Combining Primaries With Operators</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Primary-Index_fn_symbol-2">(</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0028_0029"><code>()</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Combining-Primaries-With-Operators">Combining Primaries With Operators</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Primary-Index_fn_symbol-3">,</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002c"><code>,</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Combining-Primaries-With-Operators">Combining Primaries With Operators</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Primary-Index_fn_symbol-4">-</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002da"><code>-a</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Combining-Primaries-With-Operators">Combining Primaries With Operators</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002damin"><code>-amin</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Age-Ranges">Age Ranges</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dand"><code>-and</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Combining-Primaries-With-Operators">Combining Primaries With Operators</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002danewer"><code>-anewer</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Comparing-Timestamps">Comparing Timestamps</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002datime"><code>-atime</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Age-Ranges">Age Ranges</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dcmin"><code>-cmin</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Age-Ranges">Age Ranges</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dcnewer"><code>-cnewer</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Comparing-Timestamps">Comparing Timestamps</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dcontext"><code>-context</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Mode-Bits">Mode Bits</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dctime"><code>-ctime</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Age-Ranges">Age Ranges</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dd"><code>-d</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Directories">Directories</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ddaystart"><code>-daystart</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Age-Ranges">Age Ranges</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ddelete"><code>-delete</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Delete-Files">Delete Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ddepth"><code>-depth</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Directories">Directories</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dempty"><code>-empty</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Size">Size</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dexec"><code>-exec</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Single-File">Single File</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dexec-1"><code>-exec</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Multiple-Files">Multiple Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dexecdir"><code>-execdir</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Single-File">Single File</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dexecdir-1"><code>-execdir</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Multiple-Files">Multiple Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dexecutable"><code>-executable</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Mode-Bits">Mode Bits</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dfalse"><code>-false</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Combining-Primaries-With-Operators">Combining Primaries With Operators</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dfiles0_002dfrom"><code>-files0-from</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Starting-points">Starting points</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dfiles0_002dfrom-1"><code>-files0-from</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Starting-points">Starting points</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dfls"><code>-fls</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Print-File-Information">Print File Information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dfprint"><code>-fprint</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Print-File-Name">Print File Name</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dfprint0"><code>-fprint0</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Safe-File-Name-Handling">Safe File Name Handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dfprintf"><code>-fprintf</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Print-File-Information">Print File Information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dfstype"><code>-fstype</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Filesystems">Filesystems</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dgid"><code>-gid</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Owner">Owner</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dgroup"><code>-group</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Owner">Owner</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dignore_005freaddir_005frace"><code>-ignore_readdir_race</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Directories">Directories</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dilname"><code>-ilname</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Symbolic-Links">Symbolic Links</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002diname"><code>-iname</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Base-Name-Patterns">Base Name Patterns</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dinum"><code>-inum</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Hard-Links">Hard Links</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dipath"><code>-ipath</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Full-Name-Patterns">Full Name Patterns</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002diregex"><code>-iregex</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Full-Name-Patterns">Full Name Patterns</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002diwholename"><code>-iwholename</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Full-Name-Patterns">Full Name Patterns</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dlinks"><code>-links</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Hard-Links">Hard Links</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dlinks-1"><code>-links</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Hard-Links">Hard Links</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dlinks-2"><code>-links</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Hard-Links">Hard Links</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dlname"><code>-lname</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Symbolic-Links">Symbolic Links</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dls"><code>-ls</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Print-File-Information">Print File Information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dmaxdepth"><code>-maxdepth</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Directories">Directories</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dmindepth"><code>-mindepth</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Directories">Directories</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dmmin"><code>-mmin</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Age-Ranges">Age Ranges</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dmount"><code>-mount</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Filesystems">Filesystems</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dmtime"><code>-mtime</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Age-Ranges">Age Ranges</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dname"><code>-name</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Base-Name-Patterns">Base Name Patterns</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dnewer"><code>-newer</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Comparing-Timestamps">Comparing Timestamps</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dnewerXY"><code>-newerXY</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Comparing-Timestamps">Comparing Timestamps</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dnogroup"><code>-nogroup</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Owner">Owner</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dnoignore_005freaddir_005frace"><code>-noignore_readdir_race</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Directories">Directories</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dnoleaf"><code>-noleaf</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Directories">Directories</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dnot"><code>-not</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Combining-Primaries-With-Operators">Combining Primaries With Operators</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dnouser"><code>-nouser</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Owner">Owner</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002do"><code>-o</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Combining-Primaries-With-Operators">Combining Primaries With Operators</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dok"><code>-ok</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Querying">Querying</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dokdir"><code>-okdir</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Querying">Querying</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dor"><code>-or</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Combining-Primaries-With-Operators">Combining Primaries With Operators</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dpath"><code>-path</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Full-Name-Patterns">Full Name Patterns</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dperm"><code>-perm</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Mode-Bits">Mode Bits</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dprint"><code>-print</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Print-File-Name">Print File Name</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dprint0"><code>-print0</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Safe-File-Name-Handling">Safe File Name Handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dprintf"><code>-printf</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Print-File-Information">Print File Information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dprune"><code>-prune</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Directories">Directories</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dquit"><code>-quit</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Directories">Directories</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dreadable"><code>-readable</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Mode-Bits">Mode Bits</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dregex"><code>-regex</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Full-Name-Patterns">Full Name Patterns</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dregextype"><code>-regextype</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Full-Name-Patterns">Full Name Patterns</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dsamefile"><code>-samefile</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Hard-Links">Hard Links</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dsize"><code>-size</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Size">Size</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dtrue"><code>-true</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Combining-Primaries-With-Operators">Combining Primaries With Operators</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dtype"><code>-type</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Type">Type</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002duid"><code>-uid</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Owner">Owner</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dused"><code>-used</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Comparing-Timestamps">Comparing Timestamps</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002duser"><code>-user</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Owner">Owner</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dwholename"><code>-wholename</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Full-Name-Patterns">Full Name Patterns</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dwritable"><code>-writable</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Mode-Bits">Mode Bits</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dxdev"><code>-xdev</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Filesystems">Filesystems</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dxtype"><code>-xtype</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Type">Type</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Primary-Index_fn_letter-A">A</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-ago-in-date-strings"><code>ago <span class="roman">in date strings</span></code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Relative-items-in-date-strings">Relative items in date strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-am-in-date-strings"><code>am <span class="roman">in date strings</span></code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Time-of-day-items">Time of day items</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Primary-Index_fn_letter-D">D</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-day-in-date-strings"><code>day <span class="roman">in date strings</span></code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Relative-items-in-date-strings">Relative items in date strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-day-in-date-strings-1"><code>day <span class="roman">in date strings</span></code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Relative-items-in-date-strings">Relative items in date strings</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Primary-Index_fn_letter-F">F</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-first-in-date-strings"><code>first <span class="roman">in date strings</span></code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#General-date-syntax">General date syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fortnight-in-date-strings"><code>fortnight <span class="roman">in date strings</span></code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Relative-items-in-date-strings">Relative items in date strings</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Primary-Index_fn_letter-H">H</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-hour-in-date-strings"><code>hour <span class="roman">in date strings</span></code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Relative-items-in-date-strings">Relative items in date strings</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Primary-Index_fn_letter-L">L</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-last-day"><code>last <var>day</var></code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Day-of-week-items">Day of week items</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-last-in-date-strings"><code>last <span class="roman">in date strings</span></code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#General-date-syntax">General date syntax</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Primary-Index_fn_letter-M">M</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-midnight-in-date-strings"><code>midnight <span class="roman">in date strings</span></code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Time-of-day-items">Time of day items</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-minute-in-date-strings"><code>minute <span class="roman">in date strings</span></code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Relative-items-in-date-strings">Relative items in date strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-month-in-date-strings"><code>month <span class="roman">in date strings</span></code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Relative-items-in-date-strings">Relative items in date strings</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Primary-Index_fn_letter-N">N</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-next-day"><code>next <var>day</var></code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Day-of-week-items">Day of week items</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-next-in-date-strings"><code>next <span class="roman">in date strings</span></code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#General-date-syntax">General date syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-noon-in-date-strings"><code>noon <span class="roman">in date strings</span></code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Time-of-day-items">Time of day items</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-now-in-date-strings"><code>now <span class="roman">in date strings</span></code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Relative-items-in-date-strings">Relative items in date strings</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Primary-Index_fn_letter-P">P</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-parse_005fdatetime"><code>parse_datetime</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Date-input-formats">Date input formats</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-pm-in-date-strings"><code>pm <span class="roman">in date strings</span></code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Time-of-day-items">Time of day items</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Primary-Index_fn_letter-T">T</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-this-in-date-strings"><code>this <span class="roman">in date strings</span></code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Relative-items-in-date-strings">Relative items in date strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-today-in-date-strings"><code>today <span class="roman">in date strings</span></code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Relative-items-in-date-strings">Relative items in date strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tomorrow-in-date-strings"><code>tomorrow <span class="roman">in date strings</span></code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Relative-items-in-date-strings">Relative items in date strings</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Primary-Index_fn_letter-W">W</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-week-in-date-strings"><code>week <span class="roman">in date strings</span></code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Relative-items-in-date-strings">Relative items in date strings</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Primary-Index_fn_letter-Y">Y</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-year-in-date-strings"><code>year <span class="roman">in date strings</span></code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Relative-items-in-date-strings">Relative items in date strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-yesterday-in-date-strings"><code>yesterday <span class="roman">in date strings</span></code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Relative-items-in-date-strings">Relative items in date strings</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a class="summary-letter" href="#Primary-Index_fn_symbol-1"><b>!</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_symbol-2"><b>(</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_symbol-3"><b>,</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_symbol-4"><b>-</b></a>
 &nbsp; 
<br>
<a class="summary-letter" href="#Primary-Index_fn_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_letter-N"><b>N</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_letter-W"><b>W</b></a>
 &nbsp; 
<a class="summary-letter" href="#Primary-Index_fn_letter-Y"><b>Y</b></a>
 &nbsp; 
</td></tr></table>

<div class="footnote">
<hr>
<h4 class="footnotes-heading">Footnotes</h4>

<h5><a id="FOOT1" href="#DOCF1">(1)</a></h3>
<p>Because we
need to perform case-insensitive matching, the GNU fnmatch
implementation is always used; if the C library includes the GNU
implementation, we use that and otherwise we use the one from gnulib</p>
<h5><a id="FOOT2" href="#DOCF2">(2)</a></h3>
<p>Of course, I trust these parties to a large
extent anyway, because I install software provided by them; I choose
to trust them in this way, and that&rsquo;s a deliberate choice</p>
<h5><a id="FOOT3" href="#DOCF3">(3)</a></h3>
<p>This is more or less the
definition of the term &ldquo;race condition&rdquo;</p>
<h5><a id="FOOT4" href="#DOCF4">(4)</a></h3>
<p>GNU/Linux
(kernel version 2.1.126 and later) and FreeBSD (3.0-CURRENT and later)
support this</p>
<h5><a id="FOOT5" href="#DOCF5">(5)</a></h3>
<p>This may not be the
case for the fts-based executable</p>
</div>
<hr>



</body>
</html>
